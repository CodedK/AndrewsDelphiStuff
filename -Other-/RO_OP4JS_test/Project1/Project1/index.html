<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html manifest="app.manifest">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"/>
  <meta name="apple-mobile-web-app-capable" content="yes"/>

  <link rel="apple-touch-startup-image" href="%appbootimage%"/>
  <link rel="apple-touch-icon" href="%appicon%"/>

  <meta name="format-detection" content="telephone=yes"/>

  <meta name="viewport" content="width=device-width, maximum-scale=1.0, initial-scale=1.0, user-scalable=no"/>

  <style>
html, body
{
  background-color: #000000;
  overflow: hidden;
  font: Helvetica, Sans-serif;
  -webkit-text-size-adjust:none; /* Turn off font resizing */
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  margin: 0px;
  padding: 0px;
}

.TW3ScrollContentIndicator {
  margin: 0px;
  padding: 0px;
  background-color: #222222;
	border: solid 1px #9A9A9A;
}

@-webkit-keyframes MOVE-LEFT {
    0% {
        -webkit-transform: translateX(100%);
    }
    100% {
        -webkit-transform: translateX(0px);
    }
}


@-webkit-keyframes MOVE-OUT-LEFT {
    0% {
        -webkit-transform: translateX(0%);
    }
    100% {
        -webkit-transform: translateX(-100%);
    }
}

@-webkit-keyframes MOVE-RIGHT {
    0% {
        -webkit-transform: translateX(-100%);
    }
    100% {
        -webkit-transform: translateX(0%);
    }
}

@-webkit-keyframes MOVE-OUT-RIGHT {
    0% {
        -webkit-transform: translateX(0%);
    }
    100% {
        -webkit-transform: translateX(100%);
        visibility: none;
    }
}


@-webkit-keyframes ROTATE-FOREVER {
  from {
    -webkit-transform: current;
  }
  to {
    -webkit-transform: rotate(360deg);
  }
}

@-webkit-keyframes STAR-MOVE {
	from {
		left: 0;
		top: 0;
	}
	to {
		left: -10000px;
		top: -2000px;
	}
}


.TW3ToolButton
{
	/* display: -webkit-box;
	-webkit-box-align: center;
	-webkit-box-pack: center; */

	-webkit-box-shadow: 0 1px 1px #9aa5bb, 0 -1px 1px #8e96a5;
	border: solid 1px #54617d;
	border-color: #484e59 #54617d #4c5c7a #54617d;

	cursor: pointer;
	/* padding: 0px 10px; */
	font-size: 12px;
	font-family: Helvetica, Sans-serif;
	/* line-height: 28px; */
	height: 30px;
	/* margin-top: 1px; */
	/* -webkit-box-sizing: border-box; */
	-webkit-border-radius: 5px;
	background-image: -webkit-gradient(linear, left top, left bottom,
		from(#92a1bf),
		color-stop(0.25, #798aad),
		color-stop(0.5, #6276a0),
		color-stop(0.5, #556a97),
		color-stop(0.75, #566c98),
		to(#546993));
	color: #fff;
	-webkit-tap-highlight-color: transparent;
}

.TW3ToolButton:active
{
	background-image: -webkit-gradient(linear, left top, left bottom,
		from(#7d88a5),
		color-stop(0.25, #58698c),
		color-stop(0.5, #3a4e78),
		color-stop(0.5, #253c6a),
		color-stop(0.75, #273f6d),
		to(#273f6d));
	-webkit-tap-highlight-color: transparent;
}


.TW3Panel {
	background-color: #FFFFFF;
	-webkit-border-radius: 5px;
	font-family: Helvetica, Sans-serif;
	font-size: 12px;
	border-top: solid 2px #7c7a77;
	border-right: solid 2px #7c7a77;
	border-left: solid 2px #7c7a77;
	border-bottom:solid 2px #7c7a77;
	-webkit-box-shadow:inset 0 1px rgba(0,0,0,0.1),0 1px rgba(255,255,255,0.3);
}

.TW3CustomControl
{
background-color: #CECECE;
background-image: -webkit-gradient( linear, left top, left bottom, from(#F2F2F2), to(#7c7a77));

border-top-style: solid;
border-top-width: 1px;
border-top: solid 1px #FFFFFF;

border-bottom-style: solid;
border-bottom-width: 1px;
border-bottom:solid 1px #000000;
}


.TW3Header
{
	background-image:-webkit-gradient(linear, left top, left bottom,
		from(#b2bbca),
		color-stop(0.25, #a7b0c3),
		color-stop(0.5, #909cb3),
		color-stop(0.5, #8593ac),
		color-stop(0.75, #7c8ba5),
		to(#73839f));
	 border-top: 1px solid #cdd5df;
	 border-bottom: 1px solid #2d3642;

	/* background-image: -webkit-gradient( linear, left top, left bottom, from(rgb(176,188,205)), to(rgb(109,132,162)));
	 background-image:-webkit-linear-gradient(-90deg, #b0bccd 3px, #879ab3 50%, #8094ae 50%, #6d83a1); */

	-webkit-box-shadow: rgba(33, 33, 33, 0.2) 0px 1px 1px;
}

.TW3CustomForm
{
  -webkit-transform: none;
	background: #cbd2d8;
	background-image: -webkit-gradient(linear, left top, right top,
		from(#c5ccd4),
		color-stop(0.75, #c5ccd4),
		color-stop(0.75, transparent),
		to(transparent));
	-webkit-background-size: 5px 100%;
	background-size: 5px 100%;
	-webkit-user-select: none;

	border-top-color: #8ba2c1;
  	border-right-color: #5890bf;
  	border-bottom-color: #4f93ca;
  	border-left-color: #768fa5;
  	-webkit-box-shadow: rgba(33, 33, 33, 0.2) 0px 5px 6px

/*background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAABCAIAAACdaSOZAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABdJREFUeNpiPHrmCgMC/GNjYwNSAAEGADdNA3dnzPlQAAAAAElFTkSuQmCC);
   border-top-color: #8ba2c1;
  border-right-color: #5890bf;
  border-bottom-color: #4f93ca;
  border-left-color: #768fa5;
  -webkit-box-shadow: rgba(33, 33, 33, 0.2) 0px 5px 6px; */
}

/* ##########################################################################
   # TW3Label
   ########################################################################## */

.TW3Label {
	font-family: "Helvetica Neue", Helvetica, sans-serif;
}

/* ##########################################################################
   # TW3Button
   ########################################################################## */

.TW3Button {
      font-family: "Helvetica Neue", Helvetica, sans-serif;
      font-size: 1.1em;
      font-weight: bold;
      width: 97%;
      height: 50px;
      border: 3px solid #282726;
      background: -webkit-gradient(linear,left top,left bottom,
        from(#F2F2F2),
        to(#8c8a88),
        color-stop(0.5, #acadae),
        color-stop(0.5, #82807e) );
      margin: 0 0 3px 0;
      text-shadow: 0px 1px 0 #cecece;
      -webkit-background-origin: padding-box;
      -webkit-background-clip: border-box;
      -webkit-border-radius: 8px;
      -webkit-box-shadow: rgba(0, 0, 0, 0.2) 0px 3px 3px;
      -webkit-tap-highlight-color: rgba(0,0,0,0);
}

.TW3Button:active {
      background: -webkit-gradient(linear,left top,left bottom,
        from(#8c8a88),
        to(#F2F2F2),
        color-stop(0.5, #82807e),
        color-stop(0.5, #acadae) );
      color: #FFF
      text-shadow: none;
      border-box-shadow: none;
      -webkit-tap-highlight-color: rgba(0,0,0,0);
}

.TW3Button:disabled {
	Opacity: 60%;
	background: #CECECE;
	color: #444444;
}

.TW3Button:disabled:active {
	color: #444444;
}


ul {
    list-style: none;
    margin: 0px;
    padding: 0;
}
ul li {
    -webkit-user-select: none;
    -webkit-tap-highlight-color: rgba(0,0,0,0);
    background-color: #FFFFFF;
    border: 1px solid #999999;
    color: #222222;

    cursor: hand;
    font-family: "Helvetica Neue", Helvetica, sans-serif;
    font-size: 17px;
    font-weight: bold;
    margin-bottom: -1px;
    padding: 12px 12px;
    text-decoration: none;
}

ul li:first-child {
    -webkit-border-top-left-radius: 8px;
    -webkit-border-top-right-radius: 8px;
}
ul li:last-child {
    -webkit-border-bottom-left-radius: 8px;
    -webkit-border-bottom-right-radius: 8px;
}

ul li:active {
  color: #FFFFFF;
  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAeCAIAAABi9+OQAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAAEFJREFUeNpUjLENwDAMwwhN2fL/A/0vU9DBVofaQDKJAghqPlvrRRiRCPtnI7I4arGIwwsL6reb7XfHd8toDr4BAJzOJ7d0A6msAAAAAElFTkSuQmCC);
  background-size: auto 100%;
  background-repeat: repeat-x;
}
</style>
  <title>SmartTest</title>

  <!-- needed for RemObjects -->
  <script type="text/javascript" src="lib/yahoo.js"></script>
  <script type="text/javascript" src="lib/event.js"></script>
  <script type="text/javascript" src="lib/json.js"></script>
  <script type="text/javascript" src="lib/connection.js"></script>
  <!--   <script type="text/javascript" src="lib/RemObjectsSDK.js"></script> does not work? -->

  <script type="text/javascript">
  /* This prevents the window being moved by touches,
     to give the impression of a native app */
  document.ontouchmove = function(e)
  { e.preventDefault(); }
  </script>

  <script type="text/javascript">
    window.onload = function()
    {
      function myApp() {
        var OP4JS_OBJCNT = 0;
function getUniqueNumber()
{
  ++OP4JS_OBJCNT;
  return OP4JS_OBJCNT;
}
 
function getUniqueId()
{
  ++OP4JS_OBJCNT;
  return "OPJ$" + OP4JS_OBJCNT;
}
 

 
	/* Verifies that a reference is of type "string" */
	function w3_isString(aRef)
	{		
		if (aRef != null && aRef !=undefined) {
			return (typeof(aRef)==="string");
		} else
		return false;
	}

	/* Verifies that a reference is of type "number" */
	function w3_isNumber(aRef)
	{
		if (aRef != null && aRef !=undefined) {
			return (typeof(aRef)==="number");
		} else
		return false;
	}

	/* Verifies that a reference is numeric and integer */
	function w3_isInteger(aRef)
	{
		if (aRef != null && aRef !=undefined) {
			return ( typeof(aRef)==="number" && parseInt(aRef) == aRef);
		} else
		return false;
	}

	/* Verifies that a reference is of type "boolean" */
	function w3_isBool(aRef)
	{
		if (aRef != null && aRef !=undefined) {
			return (typeof(aRef)==="boolean");
		} else
		return false;
	}

	function w3_isValidRef(aRef)
	{
	  return (aRef != null && aRef !=undefined);
	}

	function w3_isNAN(aRef)
	{
		return isNaN(aRef);
	}

function hasClass(ele,cls) {
return ele.className.match(new RegExp("(\\s|^)"+cls+"(\\s|$)")); }
function addClass(ele,cls) {
if (!hasClass(ele,cls)) ele.className += " "+cls;}
function removeClass(ele,cls) {
if (hasClass(ele,cls)) { var reg = new RegExp("(\\s|^)"+cls+"(\\s|$)");
 ele.className=ele.className.replace(reg," "); } }
// Javascript JSON-RPC Code Generated for the  NewLibrary library.

// Service: NewService
function NewService(url){
  this.url = url;
}

NewService.prototype.Sum = function(A, B, __callback) {
  var __message = {
    "method" : "NewService.Sum",
    "params" : {
      "A": A,
      "B": B
      }
  }
  var __callbacks = null;
  if (__callback) {
    __callbacks = {
      callback : __callback,
      success : function (o) {
        var __result = YAHOO.lang.JSON.parse(o.responseText);
        if (__result.error)
        {
          if ((typeof this.callback == "object") && this.callback.failure)
            this.callback.failure(__result.error);
        } else {
          if ((typeof this.callback == "object") && this.callback.failure)
            this.callback.success(__result.result);
          else
            this.callback(__result.result);
        }
      },
      failure : function (o) {
        if ((typeof this.callback == "object") && this.callback.failure)
            this.callback.failure(o);
      },
      timeout : 30000
    }
  }
  YAHOO.util.Connect.asyncRequest("POST", this.url, __callbacks, YAHOO.util.Lang.JSON.stringify(__message));
}

NewService.prototype.GetServerTime = function(__callback) {
  var __message = {
    "method" : "NewService.GetServerTime",
    "params" : {
      }
  }
  var __callbacks = null;
  if (__callback) {
    __callbacks = {
      callback : __callback,
      success : function (o) {
        var __result = YAHOO.lang.JSON.parse(o.responseText);
        if (__result.error)
        {
          if ((typeof this.callback == "object") && this.callback.failure)
            this.callback.failure(__result.error);
        } else {
          if ((typeof this.callback == "object") && this.callback.failure)
            this.callback.success(__result.result);
          else
            this.callback(__result.result);
        }
      },
      failure : function (o) {
        if ((typeof this.callback == "object") && this.callback.failure)
            this.callback.failure(o);
      },
      timeout : 30000
    }
  }
  YAHOO.util.Connect.asyncRequest("POST", this.url, __callbacks, YAHOO.util.Lang.JSON.stringify(__message));
}

NewService.prototype.NewMethod = function(__callback) {
  var __message = {
    "method" : "NewService.NewMethod",
    "params" : {
      }
  }
  var __callbacks = null;
  if (__callback) {
    __callbacks = {
      callback : __callback,
      success : function (o) {
        var __result = YAHOO.lang.JSON.parse(o.responseText);
        if (__result.error)
        {
          if ((typeof this.callback == "object") && this.callback.failure)
            this.callback.failure(__result.error);
        } else {
          if ((typeof this.callback == "object") && this.callback.failure)
            this.callback.success(__result.result);
          else
            this.callback(__result.result);
        }
      },
      failure : function (o) {
        if ((typeof this.callback == "object") && this.callback.failure)
            this.callback.failure(o);
      },
      timeout : 30000
    }
  }
  YAHOO.util.Connect.asyncRequest("POST", this.url, __callbacks, YAHOO.util.Lang.JSON.stringify(__message));
}

// End of service: NewService
function Trim(s) { return s.replace(/^\s\s*/, "").replace(/\s\s*$/, "") };
function $New(c) { var i={ClassType:c}; c.$Init(i); return i };
var TObject={
	$ClassName:"TObject",
	ClassName:function (Self) { return Self.$ClassName },
	ClassType:function (Self) { return Self },
	$Init:function () {},
	Create:function (Self) { return Self; },
	Destroy:function (Self) { for (prop in Self) { if (Self.hasOwnProperty(prop)) { delete Self.prop; } } },
	Destroy$v:function(Self) { return Self.ClassType.Destroy(Self) },
	Free:function (Self) { if (Self!=null) Self.ClassType.Destroy(Self) }
};
function StrToInt(v) { return parseInt(v,10) };
function Pos(a,b) { return b.indexOf(a)+1 };
function LowerCase(v) { return v.toLowerCase() };
function IntToStr(i) { return i.toString() };
function IntToHex(v,d) { var hex=v.toString(16).toUpperCase(); return "00000000".substr(0, 8-d-hex.length)+hex };
function HexToInt(v) { return parseInt(v,16) };
/**
sprintf() for JavaScript 0.7-beta1
http://www.diveintojavascript.com/projects/javascript-sprintf

Copyright (c) Alexandru Marasteanu <alexaholic [at) gmail (dot] com>
All rights reserved.

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are met:
    * Redistributions of source code must retain the above copyright
      notice, this list of conditions and the following disclaimer.
    * Redistributions in binary form must reproduce the above copyright
      notice, this list of conditions and the following disclaimer in the
      documentation and/or other materials provided with the distribution.
    * Neither the name of sprintf() for JavaScript nor the
      names of its contributors may be used to endorse or promote products
      derived from this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
DISCLAIMED. IN NO EVENT SHALL Alexandru Marasteanu BE LIABLE FOR ANY
DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
**/

var sprintf = (function() {
	function get_type(variable) {
		return Object.prototype.toString.call(variable).slice(8, -1).toLowerCase();
	}
	function str_repeat(input, multiplier) {
		for (var output = []; multiplier > 0; output[--multiplier] = input) {/* do nothing */}
		return output.join('');
	}

	var str_format = function() {
		if (!str_format.cache.hasOwnProperty(arguments[0])) {
			str_format.cache[arguments[0]] = str_format.parse(arguments[0]);
		}
		return str_format.format.call(null, str_format.cache[arguments[0]], arguments);
	};

	str_format.format = function(parse_tree, argv) {
		var cursor = 1, tree_length = parse_tree.length, node_type = '', arg, output = [], i, k, match, pad, pad_character, pad_length;
		for (i = 0; i < tree_length; i++) {
			node_type = get_type(parse_tree[i]);
			if (node_type === 'string') {
				output.push(parse_tree[i]);
			}
			else if (node_type === 'array') {
				match = parse_tree[i]; // convenience purposes only
				if (match[2]) { // keyword argument
					arg = argv[cursor];
					for (k = 0; k < match[2].length; k++) {
						if (!arg.hasOwnProperty(match[2][k])) {
							throw(sprintf('[sprintf] property "%s" does not exist', match[2][k]));
						}
						arg = arg[match[2][k]];
					}
				}
				else if (match[1]) { // positional argument (explicit)
					arg = argv[match[1]];
				}
				else { // positional argument (implicit)
					arg = argv[cursor++];
				}

				if (/[^s]/.test(match[8]) && (get_type(arg) != 'number')) {
					throw(sprintf('[sprintf] expecting number but found %s', get_type(arg)));
				}
				switch (match[8]) {
					case 'b': arg = arg.toString(2); break;
					case 'c': arg = String.fromCharCode(arg); break;
					case 'd': arg = parseInt(arg, 10); break;
					case 'e': arg = match[7] ? arg.toExponential(match[7]) : arg.toExponential(); break;
					case 'f': arg = match[7] ? parseFloat(arg).toFixed(match[7]) : parseFloat(arg); break;
					case 'o': arg = arg.toString(8); break;
					case 's': arg = ((arg = String(arg)) && match[7] ? arg.substring(0, match[7]) : arg); break;
					case 'u': arg = Math.abs(arg); break;
					case 'x': arg = arg.toString(16); break;
					case 'X': arg = arg.toString(16).toUpperCase(); break;
				}
				arg = (/[def]/.test(match[8]) && match[3] && arg >= 0 ? '+'+ arg : arg);
				pad_character = match[4] ? match[4] == '0' ? '0' : match[4].charAt(1) : ' ';
				pad_length = match[6] - String(arg).length;
				pad = match[6] ? str_repeat(pad_character, pad_length) : '';
				output.push(match[5] ? arg + pad : pad + arg);
			}
		}
		return output.join('');
	};

	str_format.cache = {};

	str_format.parse = function(fmt) {
		var _fmt = fmt, match = [], parse_tree = [], arg_names = 0;
		while (_fmt) {
			if ((match = /^[^\x25]+/.exec(_fmt)) !== null) {
				parse_tree.push(match[0]);
			}
			else if ((match = /^\x25{2}/.exec(_fmt)) !== null) {
				parse_tree.push('%');
			}
			else if ((match = /^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(_fmt)) !== null) {
				if (match[2]) {
					arg_names |= 1;
					var field_list = [], replacement_field = match[2], field_match = [];
					if ((field_match = /^([a-z_][a-z_\d]*)/i.exec(replacement_field)) !== null) {
						field_list.push(field_match[1]);
						while ((replacement_field = replacement_field.substring(field_match[0].length)) !== '') {
							if ((field_match = /^\.([a-z_][a-z_\d]*)/i.exec(replacement_field)) !== null) {
								field_list.push(field_match[1]);
							}
							else if ((field_match = /^\[(\d+)\]/.exec(replacement_field)) !== null) {
								field_list.push(field_match[1]);
							}
							else {
								throw('[sprintf] huh?');
							}
						}
					}
					else {
						throw('[sprintf] huh?');
					}
					match[2] = field_list;
				}
				else {
					arg_names |= 2;
				}
				if (arg_names === 3) {
					throw('[sprintf] mixing positional and named placeholders is not (yet) supported');
				}
				parse_tree.push(match);
			}
			else {
				throw('[sprintf] huh?');
			}
			_fmt = _fmt.substring(match[0].length);
		}
		return parse_tree;
	};

	return str_format;
})();
function Format(f,a) { a.unshift(f); return sprintf.apply(null,a) };
function FloatToStr(i,p) { return (p==99)?i.toString():i.toFixed(p) };
var Exception={
	$ClassName:"Exception",
	$Parent:TObject,
	$Init:function () { FMessage=""; },
	Create$1:function (Self,Msg) { Self.FMessage=Msg; return Self; }
};
function Delete(s,i,n) { var v=s.value; if ((i<=0)||(i>v.length)||(n<=0)) return; s.value=v.substr(0,i-1)+v.substr(i+n-1); };
function Copy(s,f,n) { return s.substr(f-1,n) };
function $NewArray(n,d) { var r=new Array(n); for(var i=0;i<n;i++) r[i]=d(); return r };
function $Inh(s,c) {
	if (s===null) return false;
	while ((s)&&(s!==c)) s=s.$Parent;
	return (s)?true:false;
}
;
function $Is(o,c) {
	if (o===null) return false;
	return $Inh(o.ClassType,c);
}
;
function $Event(i,f) {
	var li=i,lf=f;
	return function(){
		var arg=Array.prototype.slice.call(arguments);
		arg.splice(0,0,li);
		return lf.apply(li,arg)
	}
};
function $AsIntf(o,i) {
	if (o==null) return null;
	var r = o.ClassType.$Intf[i].map(function (e) {
		return function () {
			var arg=Array.prototype.slice.call(arguments);
			arg.splice(0,0,o);
			return e.apply(o, arg);
		}
	});
	r.O = o;
	return r;
};
;
function $As(o,c) {
	if ((o!==null)&&$Is(o,c)) return o;
	throw Exception.Create$1($New(Exception),"Can't cast instance of type \""+o.ClassType.$ClassName+"\" to class \""+c.$ClassName+"\"");
};
/* TW3DisplayViewArangeType*/
dvaSizeToView=0;
dvaVStack=1;
dvaHStack=2;
var TW3TagObj={
   $ClassName:"TW3TagObj",
   $Parent:TObject,
   $Init:function (Self) {
      TObject.$Init(Self);
      Self.FObjReady=false;
      Self.FOwner=null;
      Self.FTagId="";
      Self.FTagObj=null;
      Self.FTagValue=0;
   }
   ,Create$1:function(Self) {
      TObject.Create(Self);
      Self.FObjReady=false;
      try {
         Self.FTagId=TW3TagObj.makeElementTagId$v(Self);
         Self.FTagObj=TW3TagObj.makeElementTagObj$v(Self);
      } catch ($e) {
         if ($Is($e,Exception)) {
            var e=$e;
            throw EW3Exception.CreateFmt($New(EW3TagObj),"Method %s in class %s threw exception [%s]",["Constructor",TObject.ClassName(Self.ClassType),e.FMessage]);
         }
         else throw $e
      }
      if (!(Self.FTagObj===w3_getBody())) {
         if ((Self.FTagId).length>0) {
            w3_setAttrib(Self.FTagObj,"id",Self.FTagId);
         };
      };
      TW3TagObj.StyleTagObject$v(Self);
      TW3TagObj.InitializeObject$v(Self);
      Self.FObjReady=true;
      return Self
   }
   ,Destroy:function(Self) {
      WriteLn(TObject.ClassName(Self.ClassType)+" destroying");
      if (!(Self.FTagObj===null)) {
         try {
            TW3TagObj.UnHookEvents$v(Self);
            if (!(Self.FOwner===null)) {
               TW3TagObj.RemoveFrom(Self);
            };
         } finally {
            TW3TagObj.FinalizeObject$v(Self);
            Self.FTagObj=null;
            Self.FTagId="";
         };
      };
      TObject.Destroy(Self);
   }
   ,FinalizeObject:function(Self) {
   }
   ,getAttached:function(Self) {
      var Result=false;
      Result=(Self.FOwner!==null);
      return Result
   }
   ,getInnerHTML:function(Self) {
      var Result="";
      var mRef$3=null;
      mRef$3=Self.FTagObj;
      
    Result =(mRef$3).innerHTML;
  return Result
   }
   ,getInnerText:function(Self) {
      var Result="";
      var mRef$3=null;
      mRef$3=Self.FTagObj;
      
    Result =(mRef$3).innerText;
  return Result
   }
   ,InitializeObject:function(Self) {
   }
   ,InsertInto:function(Self, ownerTagRef) {
      if ((ownerTagRef!==null)) {
         if ((Self.FTagObj!==null)) {
            try {
               if (!(Self.FOwner===null)) {
                  TW3TagObj.RemoveFrom(Self);
               };
               w3_setElementParentByRef(Self.FTagObj,ownerTagRef);
            } catch ($e) {
               if ($Is($e,Exception)) {
                  var e=$e;
                  throw EW3Exception.CreateFmt($New(EW3TagObj),"Method %s in class %s threw exception [%s]",["InsertInto",TObject.ClassName(Self.ClassType),e.FMessage]);
               }
               else throw $e
            }
            Self.FOwner=ownerTagRef;
         } else {
            throw EW3Exception.CreateFmt($New(EW3TagObj),"Method %s in class %s threw exception [%s]",["InsertInto",TObject.ClassName(Self.ClassType),"internal tag-object is NIL error"]);
         };
      } else {
         throw EW3Exception.CreateFmt($New(EW3TagObj),"Method %s in class %s threw exception [%s]",["InsertInto",TObject.ClassName(Self.ClassType),"owner is NIL error"]);
      };
   }
   ,makeElementTagId:function(Self) {
      var Result="";
      Result=w3_getUniqueObjId();
      return Result
   }
   ,makeElementTagObj:function(Self) {
      var Result=null;
      try {
         Result=w3_createElement("div");
      } catch ($e) {
         if ($Is($e,Exception)) {
            var e=$e;
            throw $e;
         }
         else throw $e
      }
      return Result
   }
   ,RemoveFrom:function(Self) {
      if ((Self.FOwner!==null)) {
         if ((Self.FTagObj!==null)) {
            try {
               w3_RemoveElementByRef(Self.FTagObj,Self.FOwner);
            } catch ($e) {
               if ($Is($e,Exception)) {
                  var e=$e;
                  Self.FOwner=null;
                  throw EW3Exception.CreateFmt($New(EW3TagObj),"Method %s in class %s threw exception [%s]",["RemoveForm",TObject.ClassName(Self.ClassType),e.FMessage]);
               }
               else throw $e
            }
            Self.FOwner=null;
         } else {
            throw EW3Exception.CreateFmt($New(EW3TagObj),"Method %s in class %s threw exception [%s]",["RemoveForm",TObject.ClassName(Self.ClassType),"internal tag-object is NIL error"]);
         };
      };
   }
   ,setInnerHTML:function(Self, aValue) {
      var mRef$3=null;
      mRef$3=Self.FTagObj;
      
    (mRef$3).innerHTML = aValue;
     }
   ,setInnerText:function(Self, aValue) {
      var mRef$3=null;
      mRef$3=Self.FTagObj;
      
    (mRef$3).innerText = aValue;
     }
   ,StyleTagObject:function(Self) {
      w3_setStyle(Self.FTagObj,"position","absolute");
      w3_setStyle(Self.FTagObj,"display","none");
      w3_setStyle(Self.FTagObj,"visibility","hidden");
      w3_setStyle(Self.FTagObj,"overflow","hidden");
      w3_setStyle(Self.FTagObj,"left","0px");
      w3_setStyle(Self.FTagObj,"top","0px");
      w3_setStyle(Self.FTagObj,"width","32px");
      w3_setStyle(Self.FTagObj,"height","24px");
   }
   ,UnHookEvents:function(Self) {
      var mRef$3=null;
      mRef$3=Self.FTagObj;
      
    (mRef$3).onselectstart = null;
    (mRef$3).onfocus = null;
    (mRef$3).onblur = null;
    (mRef$3).onchange = null;
    (mRef$3).onmousedown = null;
    (mRef$3).onmouseup = null;
    (mRef$3).onmousemove = null;
    (mRef$3).onmouseover = null;
    (mRef$3).onmouseout = null;
    (mRef$3).onclick = null;
    (mRef$3).ondblclick = null;
    (mRef$3).onkeydown = null;
    (mRef$3).onkeyup = null;
    (mRef$3).onkeypress = null;
    (mRef$3).webkitAnimationStart = null;
    (mRef$3).webkitAnimationEnd = null;
     }
   ,Destroy$v:function(Self){return Self.ClassType.Destroy(Self)}
   ,makeElementTagId$v:function(Self){return Self.ClassType.makeElementTagId(Self)}
   ,makeElementTagObj$v:function(Self){return Self.ClassType.makeElementTagObj(Self)}
   ,StyleTagObject$v:function(Self){return Self.ClassType.StyleTagObject(Self)}
   ,InitializeObject$v:function(Self){return Self.ClassType.InitializeObject(Self)}
   ,FinalizeObject$v:function(Self){return Self.ClassType.FinalizeObject(Self)}
   ,UnHookEvents$v:function(Self){return Self.ClassType.UnHookEvents(Self)}
   ,Create$1$v:function(Self){return Self.ClassType.Create$1(Self)}
};
var TW3Component={
   $ClassName:"TW3Component",
   $Parent:TW3TagObj,
   $Init:function (Self) {
      TW3TagObj.$Init(Self);
      Self.FChildren=null;
      Self.FName="";
      Self.FParent=null;
      Self.FState=0;
      Self.FUpdating=0;
   }
   ,AfterUpdate:function(Self) {
   }
   ,BeginUpdate:function(Self) {
      ++Self.FUpdating;
   }
   ,CBNoBehavior:function(Self) {
      
    event.preventDefault();
    return false;
     }
   ,Create$2:function(Self, AOwner) {
      Self.FParent=AOwner;
      TW3TagObj.Create$1(Self);
      if (!(Self.FParent===null)) {
         TW3Component.RegisterChild(Self.FParent,Self);
      };
      return Self
   }
   ,EndUpdate:function(Self) {
      if (Self.FUpdating>0) {
         --Self.FUpdating;
         if (Self.FUpdating==0) {
            TW3Component.AfterUpdate$v(Self);
         };
      };
   }
   ,FinalizeObject:function(Self) {
      TW3Component.FreeChildren(Self);
      if (!(Self.FParent===null)) {
         TW3Component.UnRegisterChild(Self.FParent,Self);
      };
      if (!(Self.FChildren===null)) {
         TObject.Free(Self.FChildren);
         Self.FChildren=null;
      };
      TW3TagObj.FinalizeObject(Self);
   }
   ,FreeChildren:function(Self) {
      var x$2=0;
      var mObj$1=null;
      if (!(Self.FChildren===null)) {
         WriteLn("Enter FreeChildren");
         try {
            while (TObjectList.getCount(Self.FChildren)>0) {
               TObject.Free(TObjectList.getItem(Self.FChildren,0));
            };
            TObjectList.Clear(Self.FChildren);
         } finally {
            WriteLn("Leave FreeChildren");
         };
      };
   }
   ,getChildCount:function(Self) {
      var Result=0;
      if ((Self.FChildren!==null)) {
         Result=TObjectList.getCount(Self.FChildren);
      } else {
         Result=0;
      };
      return Result
   }
   ,getChildObject:function(Self, index) {
      var Result=null;
      TW3Component.NeedsChildArray(Self);
      Result=$As(TObjectList.getItem(Self.FChildren,index),TW3Component);
      return Result
   }
   ,getUpdating:function(Self) {
      var Result=false;
      Result=Self.FUpdating>0;
      return Result
   }
   ,InitializeObject:function(Self) {
      TW3TagObj.InitializeObject(Self);
   }
   ,NeedsChildArray:function(Self) {
      if (Self.FChildren===null) {
         Self.FChildren=TObjectList.Create$1$v($New(TObjectList));
      };
   }
   ,RegisterChild:function(Self, aChild) {
      var dst=null;
      if (!(aChild===null)) {
         TW3Component.NeedsChildArray(Self);
         if (TObjectList.IndexOf(Self.FChildren,aChild)==(-1)) {
            TObjectList.Add(Self.FChildren,aChild);
            TW3TagObj.InsertInto(aChild,Self.FTagObj);
         };
      };
   }
   ,setName:function(Self, Value) {
      Self.FName=Value;
   }
   ,UnRegisterChild:function(Self, aChild) {
      var mIndex=0;
      var mChild=null;
      if (!(aChild===null)) {
         TW3Component.NeedsChildArray(Self);
         WriteLn("Enter UnRegisterChild");
         try {
            mIndex=TObjectList.IndexOf(Self.FChildren,aChild);
            if (mIndex>=0) {
               mChild=$As(TObjectList.getItem(Self.FChildren,mIndex),TW3Component);
               TObjectList.Remove(Self.FChildren,mIndex);
               TW3TagObj.RemoveFrom(mChild);
            };
         } finally {
            WriteLn("Leave UnRegisterChild");
         };
      };
   }
   ,Destroy:TW3TagObj.Destroy
   ,Destroy$v:TW3TagObj.Destroy$v
   ,makeElementTagId:TW3TagObj.makeElementTagId
   ,makeElementTagId$v:TW3TagObj.makeElementTagId$v
   ,makeElementTagObj:TW3TagObj.makeElementTagObj
   ,makeElementTagObj$v:TW3TagObj.makeElementTagObj$v
   ,StyleTagObject:TW3TagObj.StyleTagObject
   ,StyleTagObject$v:TW3TagObj.StyleTagObject$v
   ,InitializeObject$v:function(Self){return Self.ClassType.InitializeObject(Self)}
   ,FinalizeObject$v:function(Self){return Self.ClassType.FinalizeObject(Self)}
   ,UnHookEvents:TW3TagObj.UnHookEvents
   ,UnHookEvents$v:TW3TagObj.UnHookEvents$v
   ,Create$1:TW3TagObj.Create$1
   ,Create$1$v:TW3TagObj.Create$1$v
   ,AfterUpdate$v:function(Self){return Self.ClassType.AfterUpdate(Self)}
   ,CBNoBehavior$v:function(Self){return Self.ClassType.CBNoBehavior(Self)}
   ,EndUpdate$v:function(Self){return Self.ClassType.EndUpdate(Self)}
   ,Create$2$v:function(Self){return Self.ClassType.Create$2.apply(Self.ClassType, arguments)}
};
var TW3CustomControl={
   $ClassName:"TW3CustomControl",
   $Parent:TW3Component,
   $Init:function (Self) {
      TW3Component.$Init(Self);
      Self.FAlpha=0;
      Self.FAngle=0.0;
      Self.FBackground=null;
      Self.FBorders=null;
      Self.FClassNames=null;
      Self.FColor=0;
      Self.FFont=null;
      Self.FNoBehavior=null;
      Self.FOnAnimationBegins=null;
      Self.FOnAnimationEnds=null;
      Self.FOnChanged=null;
      Self.FOnClick=null;
      Self.FOnDblClick=null;
      Self.FOnGotFocus=null;
      Self.FOnKeyDown=null;
      Self.FOnKeyPress=null;
      Self.FOnKeyUp=null;
      Self.FOnLostFocus=null;
      Self.FOnMouseDown=null;
      Self.FOnMouseEnter=null;
      Self.FOnMouseLeave=null;
      Self.FOnMouseMove=null;
      Self.FOnMouseUp=null;
      Self.FOnTouchBegins=null;
      Self.FOnTouchEnds=null;
      Self.FOnTouchMoves=null;
      Self.FScrollInfo=null;
      Self.FTouchData=null;
      Self.FTransparent=false;
      Self.FUseAlpha=false;
      Self.FWasMoved=false;
      Self.FWasSized=false;
   }
   ,AfterUpdate:function(Self) {
      if (Self.FWasSized) {
         if (Self.FObjReady) {
            TW3CustomControl.Resize$v(Self);
         };
         if (!Self.FWasMoved) {
            TW3CustomControl.Invalidate$v(Self);
         };
      };
      if (Self.FWasMoved) {
         TW3CustomControl.Invalidate$v(Self);
      };
      Self.FWasMoved=false;
      Self.FWasSized=false;
   }
   ,bringToFront:function(Self) {
      w3_setStyle(Self.FTagObj,"z-index",1);
   }
   ,CBAnimationBegins:function(Self) {
      if ((Self.FOnAnimationBegins!==null)) {
         Self.FOnAnimationBegins(Self);
      };
   }
   ,CBAnimationEnds:function(Self) {
      if ((Self.FOnAnimationEnds!==null)) {
         Self.FOnAnimationEnds(Self);
      };
   }
   ,CBChanged:function(Self) {
      if ((Self.FOnChanged!==null)) {
         Self.FOnChanged(Self);
      };
   }
   ,CBClick:function(Self) {
      if ((Self.FOnClick!==null)) {
         Self.FOnClick(Self);
      };
   }
   ,CBDblClick:function(Self) {
      if ((Self.FOnDblClick!==null)) {
         Self.FOnDblClick(Self);
      };
   }
   ,CBFocused:function(Self) {
      if ((Self.FOnGotFocus!==null)) {
         Self.FOnGotFocus(Self);
      };
   }
   ,CBKeyDown:function(Self) {
      var mCode=0;
      if ((Self.FOnKeyDown!==null)) {
         
      mCode = event.keyCode;
    Self.FOnKeyDown(Self,mCode);
      };
   }
   ,CBKeyPress:function(Self) {
      var mChar="";
      if ((Self.FOnKeyPress!==null)) {
         
      mChar = event.charCode;
    Self.FOnKeyPress(Self,mChar);
      };
   }
   ,CBKeyUp:function(Self) {
      var mCode=0;
      if ((Self.FOnKeyUp!==null)) {
         
      mCode = event.keyCode;
    Self.FOnKeyUp(Self,mCode);
      };
   }
   ,CBLostFocus:function(Self) {
      if ((Self.FOnLostFocus!==null)) {
         Self.FOnLostFocus(Self);
      };
   }
   ,CBMouseDown:function(Self) {
      var dx=0;
      var dy=0;
      var mbtnId=0;
      var mButton=0;
      if ((Self.FOnMouseDown!==null)) {
         
      dx=event.offsetX;
      dy=event.offsetY;
      mbtnId=event.button;
    switch (mbtnId) {
            case 2 :
               mButton=2;
               break;
            case 4 :
               mButton=1;
               break;
            default :
               mButton=0;
         };
         Self.FOnMouseDown(Self,mButton,dx,dy);
      };
   }
   ,CBMouseMove:function(Self) {
      var dx=0;
      var dy=0;
      if ((Self.FOnMouseMove!==null)) {
         
      dx=event.offsetX;
      dy=event.offsetY;
    Self.FOnMouseMove(Self,dx,dy);
      };
   }
   ,CBMouseOut:function(Self) {
      var dx=0;
      var dy=0;
      if ((Self.FOnMouseLeave!==null)) {
         
      dx=event.offsetX;
      dy=event.offsetY;
    Self.FOnMouseLeave(Self,dx,dy);
      };
   }
   ,CBMouseOver:function(Self) {
      var dx=0;
      var dy=0;
      if ((Self.FOnMouseEnter!==null)) {
         
      dx=event.offsetX;
      dy=event.offsetY;
    Self.FOnMouseEnter(Self,dx,dy);
      };
   }
   ,CBMouseUp:function(Self) {
      var dx=0;
      var dy=0;
      var mbtnId=0;
      var mButton=0;
      if ((Self.FOnMouseUp!==null)) {
         
      dx=event.offsetX;
      dy=event.offsetY;
      mbtnId=event.button;
    switch (mbtnId) {
            case 2 :
               mButton=2;
               break;
            case 4 :
               mButton=1;
               break;
            default :
               mButton=0;
         };
         Self.FOnMouseUp(Self,mButton,dx,dy);
      };
   }
   ,CMTouchBegins:function(Self) {
      
    event.preventDefault();
  if ((Self.FOnTouchBegins!==null)) {
         if (!(Self.FTouchData!==null)) {
            Self.FTouchData=TObject.Create($New(TW3TouchData));
         } else {
            TW3TouchData.Update(Self.FTouchData);
         };
         Self.FOnTouchBegins(Self,Self.FTouchData);
      };
   }
   ,CMTouchEnds:function(Self) {
      var mInfo=null;
      
    event.preventDefault();
  if ((Self.FOnTouchEnds!==null)) {
         if (!(Self.FTouchData!==null)) {
            Self.FTouchData=TObject.Create($New(TW3TouchData));
         } else {
            TW3TouchData.Update(Self.FTouchData);
         };
         Self.FOnTouchEnds(Self,Self.FTouchData);
      };
   }
   ,CMTouchMove:function(Self) {
      
    event.preventDefault();
  if ((Self.FOnTouchMoves!==null)) {
         if (!(Self.FTouchData!==null)) {
            Self.FTouchData=TObject.Create($New(TW3TouchData));
         } else {
            TW3TouchData.Update(Self.FTouchData);
         };
         Self.FOnTouchMoves(Self,Self.FTouchData);
      };
   }
   ,FinalizeObject:function(Self) {
      if ((Self.FFont!==null)) {
         TObject.Free(Self.FFont);
      };
      if ((Self.FBackground!==null)) {
         TObject.Free(Self.FBackground);
      };
      if ((Self.FClassNames!==null)) {
         TObject.Free(Self.FClassNames);
      };
      if ((Self.FScrollInfo!==null)) {
         TObject.Free(Self.FScrollInfo);
      };
      if ((Self.FTouchData!==null)) {
         TObject.Free(Self.FTouchData);
      };
      if ((Self.FBorders!==null)) {
         TObject.Free(Self.FBorders);
      };
      TW3Component.FinalizeObject(Self);
   }
   ,getBackGround:function(Self) {
      var Result=null;
      TW3CustomControl.NeedBackground(Self);
      Result=Self.FBackground;
      return Result
   }
   ,getBorder:function(Self) {
      var Result=null;
      if (Self.FBorders===null) {
         Self.FBorders=TW3Borders.Create$1$v($New(TW3Borders),Self);
      };
      Result=Self.FBorders;
      return Result
   }
   ,getBorderRadius:function(Self) {
      var Result=0;
      Result=w3_getStyleAsInt(Self.FTagObj,"border-top-left-radius");
      return Result
   }
   ,getBoundsRect:function(Self) {
      var Result={left:0,top$1:0,right:0,bottom:0};
      Result.left=TW3CustomControl.getLeft(Self);
      Result.top$1=TW3CustomControl.getTop(Self);
      Result.right=(Result.left+TW3CustomControl.getWidth$v(Self))-1;
      Result.bottom=(Result.top$1+TW3CustomControl.getHeight$v(Self))-1;
      return Result
   }
   ,getChildrenSortedByYpos:function(Self) {
      var Result=null;
      var mCount=0;
      var x$2=0;
      var mAltered=false;
      var mValue$2=0;
      var mObj$1=null;
      var mLast=null;
      var mCurrent=null;
      Result=TObjectList.Create$1$v($New(TObjectList));
      mCount=TW3Component.getChildCount(Self);
      if (mCount>0) {
         var $tmp1;
         for(x$2=0,$tmp1=mCount-1;x$2<=$tmp1;x$2++) {
            mObj$1=$As(TW3Component.getChildObject(Self,x$2),TW3Component);
            if ($Is(mObj$1,TW3CustomControl)) {
               TObjectList.Add(Result,mObj$1);
            };
         }
         if (mCount>1) {
            do {
               mAltered=false;
               var $tmp2;
               for(x$2=1,$tmp2=mCount-1;x$2<=$tmp2;x$2++) {
                  mLast=$As(TObjectList.getItem(Result,x$2-1),TW3CustomControl);
                  mCurrent=$As(TObjectList.getItem(Result,x$2),TW3CustomControl);
                  if (TW3CustomControl.getTop(mCurrent)<TW3CustomControl.getTop(mLast)) {
                     TObjectList.Swap(Result,x$2-1,x$2);
                     mAltered=true;
                  };
               }
            } while (!(mAltered==false));
         };
      };
      return Result
   }
   ,getClassNames:function(Self) {
      var Result=null;
      TW3CustomControl.NeedClassNames(Self);
      Result=Self.FClassNames;
      return Result
   }
   ,getClientRect:function(Self) {
      var Result={left:0,top$1:0,right:0,bottom:0};
      var mData$3={left:0,top$1:0,right:0,bottom:0};
      Result.left=0;
      Result.top$1=0;
      Result.right=w3_getStyleAsInt(Self.FTagObj,"width")-1;
      Result.bottom=w3_getStyleAsInt(Self.FTagObj,"height")-1;
      return Result
   }
   ,getEnabled:function(Self) {
      var Result=false;
      var mRef$3=null;
      mRef$3=Self.FTagObj;
      
    Result = true - (mRef$3).disabled;
  return Result
   }
   ,getFont:function(Self) {
      var Result=null;
      TW3CustomControl.NeedFont(Self);
      Result=Self.FFont;
      return Result
   }
   ,gethasFocus:function(Self) {
      var Result=false;
      var mRef$3=null;
      mRef$3=Self.FTagObj;
      
    Result = (mRef$3).focused();
  return Result
   }
   ,getHeight:function(Self) {
      var Result=0;
      var mRef$3=null;
      Result=w3_getStyleAsInt(Self.FTagObj,"height");
      if (w3_isNAN(Result)) {
         mRef$3=Self.FTagObj;
         Result=0;
         
      if ( (mRef$3).style.height )
      Result = parseInt( (mRef$3).style.height );
          };
      return Result
   }
   ,getLeft:function(Self) {
      var Result=0;
      var mRef$3=null;
      Result=w3_getStyleAsInt(Self.FTagObj,"left");
      if (w3_isNAN(Result)) {
         mRef$3=Self.FTagObj;
         Result=0;
         
      if ( (mRef$3).style.left )
      Result = parseInt( (mRef$3).style.left );
          };
      return Result
   }
   ,getScrollInfo:function(Self) {
      var Result=null;
      TW3CustomControl.NeedScrollInfo(Self);
      Result=Self.FScrollInfo;
      return Result
   }
   ,getStyleClass:function(Self) {
      var Result="";
      Result=w3_getAttribAsStr(Self.FTagObj,"class");
      return Result
   }
   ,getTop:function(Self) {
      var Result=0;
      var mRef$3=null;
      Result=w3_getStyleAsInt(Self.FTagObj,"top");
      if (w3_isNAN(Result)) {
         mRef$3=Self.FTagObj;
         Result=0;
         
      if ( (mRef$3).style.top )
      Result = parseInt( (mRef$3).style.top );
          };
      return Result
   }
   ,getVisible:function(Self) {
      var Result=false;
      var mRef$3=null;
      var mValue$2="";
      Result=false;
      mRef$3=Self.FTagObj;
      mValue$2="";
      
    if ( (mRef$3).style.visibility )
    mValue$2 = (mRef$3).style.visibility;
  Result=mValue$2=="visible";
      return Result
   }
   ,getWidth:function(Self) {
      var Result=0;
      var mRef$3=null;
      Result=w3_getStyleAsInt(Self.FTagObj,"width");
      if (w3_isNAN(Result)) {
         mRef$3=Self.FTagObj;
         Result=0;
         
      if ( (mRef$3).style.width )
      Result = parseInt( (mRef$3).style.width );
          };
      return Result
   }
   ,getZoom:function(Self) {
      var Result=0.0;
      Result=w3_getStyleAsFloat(Self.FTagObj,"zoom");
      return Result
   }
   ,InitializeObject:function(Self) {
      TW3Component.InitializeObject(Self);
      Self.FNoBehavior=$Event(Self,Self.ClassType.CBNoBehavior$v);
      Self.FTransparent=false;
      Self.FAlpha=255;
      if ((Self.FTagObj!==null)) {
         w3_bind2(Self.FTagObj,"onselectstart",$Event(Self,Self.ClassType.CBNoBehavior$v));
         w3_bind2(Self.FTagObj,"onfocus",$Event(Self,Self.ClassType.CBFocused$v));
         w3_bind2(Self.FTagObj,"onblur",$Event(Self,Self.ClassType.CBLostFocus$v));
      };
   }
   ,Invalidate:function(Self) {
   }
   ,Moved:function(Self) {
   }
   ,moveTo$1:function(Self, aLeft, aTop) {
      var mRef$3=null;
      TW3Component.BeginUpdate(Self);
      mRef$3=Self.FTagObj;
      
    (mRef$3).style.left = aLeft + "px";
    (mRef$3).style.top = aTop + "px";
  TW3CustomControl.setWasMoved(Self);
      TW3CustomControl.EndUpdate$v(Self);
   }
   ,NeedBackground:function(Self) {
      if (!(Self.FBackground!==null)) {
         Self.FBackground=TW3ControlBackground.Create$1$v($New(TW3ControlBackground),Self);
      };
   }
   ,NeedClassNames:function(Self) {
      if (!(Self.FClassNames!==null)) {
         Self.FClassNames=TW3CSSClassStyleNames.Create$1$v($New(TW3CSSClassStyleNames),Self);
      };
   }
   ,NeedFont:function(Self) {
      if (!(Self.FFont!==null)) {
         Self.FFont=TW3ControlFont.Create$1$v($New(TW3ControlFont),Self);
      };
   }
   ,NeedScrollInfo:function(Self) {
      if (!(Self.FScrollInfo!==null)) {
         Self.FScrollInfo=TW3ScrollInfo.Create$1$v($New(TW3ScrollInfo),Self);
      };
   }
   ,Resize:function(Self) {
   }
   ,sendToBack:function(Self) {
      w3_setStyle(Self.FTagObj,"z-index",0);
   }
   ,setAlpha:function(Self, Value) {
      var mBlend=0;
      Self.FAlpha=w3_EnsureRange(Value,0,255);
      if (Self.FAlpha>0) {
         mBlend=Self.FAlpha/100;
      };
      w3_setStyle(Self.FTagObj,"opacity",mBlend);
   }
   ,setAngle:function(Self, Value) {
      var mStyle="";
      if (Value!=Self.FAngle) {
         Self.FAngle=Value;
         mStyle="rotate("+FloatToStr(Value,2)+"deg)";
         w3_setStyle(Self.FTagObj,"webkitTransform",mStyle);
      };
   }
   ,setBorderRadius:function(Self, aNewRadius) {
      TW3Component.BeginUpdate(Self);
      w3_setStyle(Self.FTagObj,"-webkit-border-radius",w3_intToPxStr(aNewRadius));
      TW3CustomControl.setWasSized(Self);
      TW3CustomControl.EndUpdate$v(Self);
   }
   ,setBounds:function(Self, aLeft, aTop, aWidth, aHeight) {
      var mRef$3=null;
      aWidth=w3_EnsureRange(aWidth,0,2147483647);
      aHeight=w3_EnsureRange(aHeight,0,2147483647);
      TW3Component.BeginUpdate(Self);
      mRef$3=Self.FTagObj;
      
    (mRef$3).style.left = aLeft + "px";
    (mRef$3).style.top = aTop + "px";
    (mRef$3).style.width = aWidth + "px";
    (mRef$3).style.height = aHeight + "px";
  TW3CustomControl.setWasMoved(Self);
      TW3CustomControl.setWasSized(Self);
      TW3CustomControl.EndUpdate$v(Self);
   }
   ,setColor:function(Self, Value) {
      var mText="";
      Self.FColor=Value;
      switch (Self.FTransparent) {
         case true :
            mText=ColorToStrA(Self.FColor,0);
            break;
         case false :
            mText=ColorToWebStr(Self.FColor);
            break;
      };
      w3_setStyle(Self.FTagObj,"background-color",mText);
   }
   ,setEnabled:function(Self, aValue) {
      var mRef$3=null;
      mRef$3=Self.FTagObj;
      
    (mRef$3).disabled = true - aValue;
     }
   ,SetFocus:function(Self) {
      var mRef$3=null;
      mRef$3=Self.FTagObj;
      
    (mRef$3).focus();
     }
   ,setHeight:function(Self, aValue) {
      aValue=w3_EnsureRange(aValue,0,2147483647);
      TW3Component.BeginUpdate(Self);
      w3_setStyle(Self.FTagObj,"height",w3_intToPxStr(aValue));
      TW3CustomControl.setWasSized(Self);
      TW3CustomControl.EndUpdate$v(Self);
   }
   ,setLeft:function(Self, aValue) {
      TW3Component.BeginUpdate(Self);
      w3_setStyle(Self.FTagObj,"left",w3_intToPxStr(aValue));
      TW3CustomControl.setWasMoved(Self);
      TW3CustomControl.EndUpdate$v(Self);
   }
   ,setSize:function(Self, aWidth, aHeight) {
      var mRef$3=null;
      if ((aWidth!=TW3CustomControl.getWidth$v(Self))||(aHeight!=TW3CustomControl.getHeight$v(Self))) {
         TW3Component.BeginUpdate(Self);
         mRef$3=Self.FTagObj;
         
      (mRef$3).style.width = aWidth + "px";
      (mRef$3).style.height = aHeight + "px";
    TW3CustomControl.setWasSized(Self);
         TW3CustomControl.EndUpdate$v(Self);
      };
   }
   ,setStyleClass:function(Self, aStyle) {
      w3_setAttrib(Self.FTagObj,"class",aStyle);
   }
   ,setTop:function(Self, aValue) {
      TW3Component.BeginUpdate(Self);
      w3_setStyle(Self.FTagObj,"top",w3_intToPxStr(aValue));
      TW3CustomControl.setWasMoved(Self);
      TW3CustomControl.EndUpdate$v(Self);
   }
   ,setTransparent:function(Self, Value) {
      var mText="";
      Self.FTransparent=Value;
      switch (Value) {
         case true :
            mText=ColorToStrA(Self.FColor,0);
            break;
         case false :
            mText=ColorToWebStr(Self.FColor);
            break;
      };
      w3_setStyle(Self.FTagObj,"background-color",mText);
      TW3CustomControl.Invalidate$v(Self);
   }
   ,setUseAlpha:function(Self, Value) {
      var mRef$3=null;
      var mBlend=0;
      Self.FUseAlpha=Value;
      switch (Value) {
         case true :
            mBlend=w3_EnsureRange(Self.FAlpha,0,255)/100;
            break;
         case false :
            mBlend=0;
            break;
      };
      w3_setStyle(Self.FTagObj,"opacity",mBlend);
   }
   ,setVisible:function(Self, Value) {
      var mRef$3=null;
      var mDisp="";
      mRef$3=Self.FTagObj;
      mDisp="inline";
      switch (Value) {
         case true :
            
    (mRef$3).style.display = mDisp;
    (mRef$3).style.visibility = "visible";
    break;
         case false :
            
    (mRef$3).style.display = "none";
    (mRef$3).style.visibility = "hidden";
    break;
      };
   }
   ,setWasMoved:function(Self) {
      Self.FWasMoved=true;
   }
   ,setWasSized:function(Self) {
      Self.FWasSized=true;
   }
   ,setWidth:function(Self, aValue) {
      aValue=w3_EnsureRange(aValue,0,2147483647);
      TW3Component.BeginUpdate(Self);
      w3_setStyle(Self.FTagObj,"width",w3_intToPxStr(aValue));
      TW3CustomControl.setWasSized(Self);
      TW3CustomControl.EndUpdate$v(Self);
   }
   ,setZoom:function(Self, aValue) {
      w3_setStyle(Self.FTagObj,"zoom",aValue);
   }
   ,StyleTagObject:function(Self) {
      TW3TagObj.StyleTagObject(Self);
      TW3CustomControl.setStyleClass(Self,TObject.ClassName(Self.ClassType));
      TW3CustomControl.setVisible(Self,true);
   }
   ,_setAnimationBegins:function(Self, aValue) {
      var mRef$3=null;
      switch ((aValue!==null)) {
         case true :
            mRef$3=$Event(Self,Self.ClassType.CBAnimationBegins$v);
            break;
         case false :
            mRef$3=Self.FNoBehavior;
            break;
      };
      w3_bind2(Self.FTagObj,"webkitAnimationStart",mRef$3);
      Self.FOnAnimationBegins=aValue;
   }
   ,_setAnimationEnds:function(Self, aValue) {
      var mRef$3=null;
      switch ((aValue!==null)) {
         case true :
            mRef$3=$Event(Self,Self.ClassType.CBAnimationEnds$v);
            break;
         case false :
            mRef$3=Self.FNoBehavior;
            break;
      };
      w3_bind2(Self.FTagObj,"webkitAnimationEnd",mRef$3);
      Self.FOnAnimationEnds=aValue;
   }
   ,_setChanged:function(Self, aValue) {
      var mRef$3=null;
      switch ((aValue!==null)) {
         case true :
            mRef$3=$Event(Self,Self.ClassType.CBChanged$v);
            break;
         case false :
            mRef$3=Self.FNoBehavior;
            break;
      };
      w3_bind2(Self.FTagObj,"onchange",mRef$3);
      Self.FOnChanged=aValue;
   }
   ,_setGotFocus:function(Self, aValue) {
      Self.FOnGotFocus=aValue;
   }
   ,_setKeyDown:function(Self, aValue) {
      var mRef$3=null;
      switch ((aValue!==null)) {
         case true :
            mRef$3=$Event(Self,Self.ClassType.CBKeyDown$v);
            break;
         case false :
            mRef$3=Self.FNoBehavior;
            break;
      };
      w3_bind2(Self.FTagObj,"onkeydown",mRef$3);
      Self.FOnKeyDown=aValue;
   }
   ,_setKeyPress:function(Self, aValue) {
      var mRef$3=null;
      switch ((aValue!==null)) {
         case true :
            mRef$3=$Event(Self,Self.ClassType.CBKeyPress$v);
            break;
         case false :
            mRef$3=Self.FNoBehavior;
            break;
      };
      w3_bind2(Self.FTagObj,"onkeypress",mRef$3);
      Self.FOnKeyPress=aValue;
   }
   ,_setKeyUp:function(Self, aValue) {
      var mRef$3=null;
      switch ((aValue!==null)) {
         case true :
            mRef$3=$Event(Self,Self.ClassType.CBKeyUp$v);
            break;
         case false :
            mRef$3=Self.FNoBehavior;
            break;
      };
      w3_bind2(Self.FTagObj,"onkeyup",mRef$3);
      Self.FOnKeyUp=aValue;
   }
   ,_setLostFocus:function(Self, aValue) {
      Self.FOnLostFocus=aValue;
   }
   ,_setMouseClick:function(Self, aValue) {
      var mRef$3=null;
      switch ((aValue!==null)) {
         case true :
            mRef$3=$Event(Self,Self.ClassType.CBClick$v);
            break;
         case false :
            mRef$3=Self.FNoBehavior;
            break;
      };
      w3_bind2(Self.FTagObj,"onclick",mRef$3);
      Self.FOnClick=aValue;
   }
   ,_setMouseDblClick:function(Self, aValue) {
      var mRef$3=null;
      switch ((aValue!==null)) {
         case true :
            mRef$3=$Event(Self,Self.ClassType.CBDblClick$v);
            break;
         case false :
            mRef$3=Self.FNoBehavior;
            break;
      };
      w3_bind2(Self.FTagObj,"ondblclick",mRef$3);
      Self.FOnDblClick=aValue;
   }
   ,_setMouseDown:function(Self, aValue) {
      var mRef$3=null;
      switch ((aValue!==null)) {
         case true :
            mRef$3=$Event(Self,Self.ClassType.CBMouseDown$v);
            break;
         case false :
            mRef$3=Self.FNoBehavior;
            break;
      };
      w3_bind2(Self.FTagObj,"onmousedown",$Event(Self,Self.ClassType.CBMouseDown$v));
      Self.FOnMouseDown=aValue;
   }
   ,_setMouseEnter:function(Self, aValue) {
      var mRef$3=null;
      switch ((aValue!==null)) {
         case true :
            mRef$3=$Event(Self,Self.ClassType.CBMouseOver$v);
            break;
         case false :
            mRef$3=Self.FNoBehavior;
            break;
      };
      w3_bind2(Self.FTagObj,"onmouseover",mRef$3);
      Self.FOnMouseEnter=aValue;
   }
   ,_setMouseLeave:function(Self, aValue) {
      var mRef$3=null;
      switch ((aValue!==null)) {
         case true :
            mRef$3=$Event(Self,Self.ClassType.CBMouseOut$v);
            break;
         case false :
            mRef$3=Self.FNoBehavior;
            break;
      };
      w3_bind2(Self.FTagObj,"onmouseout",mRef$3);
      Self.FOnMouseLeave=aValue;
   }
   ,_setMouseMove:function(Self, aValue) {
      var mRef$3=null;
      switch ((aValue!==null)) {
         case true :
            mRef$3=$Event(Self,Self.ClassType.CBMouseMove$v);
            break;
         case false :
            mRef$3=Self.FNoBehavior;
            break;
      };
      w3_bind2(Self.FTagObj,"onmousemove",mRef$3);
      Self.FOnMouseMove=aValue;
   }
   ,_setMouseUp:function(Self, aValue) {
      var mRef$3=null;
      switch ((aValue!==null)) {
         case true :
            mRef$3=$Event(Self,Self.ClassType.CBMouseUp$v);
            break;
         case false :
            mRef$3=Self.FNoBehavior;
            break;
      };
      w3_bind2(Self.FTagObj,"onmouseup",mRef$3);
      Self.FOnMouseUp=aValue;
   }
   ,_setTouchBegins:function(Self, aValue) {
      if ((Self.FOnTouchBegins!==null)) {
         w3_RemoveEvent(Self.FTagObj,"touchstart",$Event(Self,Self.ClassType.CMTouchBegins$v));
         Self.FOnTouchBegins=null;
      };
      if ((aValue!==null)) {
         Self.FOnTouchBegins=aValue;
         w3_AddEvent(Self.FTagObj,"touchstart",$Event(Self,Self.ClassType.CMTouchBegins$v));
      };
   }
   ,_setTouchEnds:function(Self, aValue) {
      if ((Self.FOnTouchEnds!==null)) {
         w3_RemoveEvent(Self.FTagObj,"touchend",$Event(Self,Self.ClassType.CMTouchEnds$v));
         Self.FOnTouchEnds=null;
      };
      if ((aValue!==null)) {
         Self.FOnTouchEnds=aValue;
         w3_AddEvent(Self.FTagObj,"touchend",$Event(Self,Self.ClassType.CMTouchEnds$v));
      };
   }
   ,_setTouchMoves:function(Self, aValue) {
      if ((Self.FOnTouchMoves!==null)) {
         w3_RemoveEvent(Self.FTagObj,"touchmove",$Event(Self,Self.ClassType.CMTouchMove$v));
         Self.FOnTouchMoves=null;
      };
      if ((aValue!==null)) {
         Self.FOnTouchMoves=aValue;
         w3_AddEvent(Self.FTagObj,"touchmove",$Event(Self,Self.ClassType.CMTouchMove$v));
      };
   }
   ,Destroy:TW3TagObj.Destroy
   ,Destroy$v:TW3TagObj.Destroy$v
   ,makeElementTagId:TW3TagObj.makeElementTagId
   ,makeElementTagId$v:TW3TagObj.makeElementTagId$v
   ,makeElementTagObj:TW3TagObj.makeElementTagObj
   ,makeElementTagObj$v:TW3TagObj.makeElementTagObj$v
   ,StyleTagObject$v:function(Self){return Self.ClassType.StyleTagObject(Self)}
   ,InitializeObject$v:function(Self){return Self.ClassType.InitializeObject(Self)}
   ,FinalizeObject$v:function(Self){return Self.ClassType.FinalizeObject(Self)}
   ,UnHookEvents:TW3TagObj.UnHookEvents
   ,UnHookEvents$v:TW3TagObj.UnHookEvents$v
   ,Create$1:TW3TagObj.Create$1
   ,Create$1$v:TW3TagObj.Create$1$v
   ,AfterUpdate$v:function(Self){return Self.ClassType.AfterUpdate(Self)}
   ,CBNoBehavior:TW3Component.CBNoBehavior
   ,CBNoBehavior$v:TW3Component.CBNoBehavior$v
   ,EndUpdate:TW3Component.EndUpdate
   ,EndUpdate$v:TW3Component.EndUpdate$v
   ,Create$2:TW3Component.Create$2
   ,Create$2$v:TW3Component.Create$2$v
   ,CMTouchBegins$v:function(Self){return Self.ClassType.CMTouchBegins(Self)}
   ,CMTouchMove$v:function(Self){return Self.ClassType.CMTouchMove(Self)}
   ,CMTouchEnds$v:function(Self){return Self.ClassType.CMTouchEnds(Self)}
   ,CBMouseDown$v:function(Self){return Self.ClassType.CBMouseDown(Self)}
   ,CBMouseUp$v:function(Self){return Self.ClassType.CBMouseUp(Self)}
   ,CBMouseMove$v:function(Self){return Self.ClassType.CBMouseMove(Self)}
   ,CBMouseOver$v:function(Self){return Self.ClassType.CBMouseOver(Self)}
   ,CBMouseOut$v:function(Self){return Self.ClassType.CBMouseOut(Self)}
   ,CBClick$v:function(Self){return Self.ClassType.CBClick(Self)}
   ,CBDblClick$v:function(Self){return Self.ClassType.CBDblClick(Self)}
   ,CBKeyPress$v:function(Self){return Self.ClassType.CBKeyPress(Self)}
   ,CBKeyDown$v:function(Self){return Self.ClassType.CBKeyDown(Self)}
   ,CBKeyUp$v:function(Self){return Self.ClassType.CBKeyUp(Self)}
   ,CBAnimationBegins$v:function(Self){return Self.ClassType.CBAnimationBegins(Self)}
   ,CBAnimationEnds$v:function(Self){return Self.ClassType.CBAnimationEnds(Self)}
   ,CBChanged$v:function(Self){return Self.ClassType.CBChanged(Self)}
   ,CBFocused$v:function(Self){return Self.ClassType.CBFocused(Self)}
   ,CBLostFocus$v:function(Self){return Self.ClassType.CBLostFocus(Self)}
   ,getWidth$v:function(Self){return Self.ClassType.getWidth(Self)}
   ,getHeight$v:function(Self){return Self.ClassType.getHeight(Self)}
   ,setLeft$v:function(Self){return Self.ClassType.setLeft.apply(Self.ClassType, arguments)}
   ,setTop$v:function(Self){return Self.ClassType.setTop.apply(Self.ClassType, arguments)}
   ,setWidth$v:function(Self){return Self.ClassType.setWidth.apply(Self.ClassType, arguments)}
   ,setHeight$v:function(Self){return Self.ClassType.setHeight.apply(Self.ClassType, arguments)}
   ,Moved$v:function(Self){return Self.ClassType.Moved(Self)}
   ,Resize$v:function(Self){return Self.ClassType.Resize(Self)}
   ,Invalidate$v:function(Self){return Self.ClassType.Invalidate(Self)}
};
TW3CustomControl.$Intf={
   IW3CustomControl:[TW3CustomControl.setWasMoved,TW3CustomControl.setWasSized]
};
var TW3DisplayView={
   $ClassName:"TW3DisplayView",
   $Parent:TW3CustomControl,
   $Init:function (Self) {
      TW3CustomControl.$Init(Self);
      Self.FArrange=false;
      Self.FArrangeKind=0;
   }
   ,ApplyArrangement:function(Self, aKind) {
      if (Self.FObjReady) {
         TW3Component.BeginUpdate(Self);
         TW3DisplayView.ArrangeChildren(Self,aKind);
         TW3DisplayView.EndUpdate$v(Self);
      };
   }
   ,ArrangeChildren:function(Self, aKind) {
      var x$2=0;
      var dx={};dx.value=0;
      var dy={};dy.value=0;
      var mObj$1=null;
      var mCount=0;
      var mRect={left:0,top$1:0,right:0,bottom:0};
      var wd={};wd.value=0;
      var hd={};hd.value=0;
      mCount=TW3Component.getChildCount(Self);
      if (mCount>0) {
         mRect=Copy$TRect(TW3CustomControl.getClientRect(Self));
         switch (aKind) {
            case 0 :
               wd.value=(mRect.right-mRect.left)+1;
               hd.value=(mRect.bottom-mRect.top$1)+1;
               var $tmp3;
               for(x$2=0,$tmp3=mCount-1;x$2<=$tmp3;x$2++) {
                  mObj$1=TW3Component.getChildObject(Self,x$2);
                  if ($Is(mObj$1,TW3CustomControl)) {
                     TW3CustomControl.setSize($As(mObj$1,TW3CustomControl),wd.value,hd.value);
                  };
               }
               break;
            case 1 :
               dy.value=mRect.top$1;
               wd.value=(mRect.right-mRect.left)+1;
               var $tmp4;
               for(x$2=0,$tmp4=mCount-1;x$2<=$tmp4;x$2++) {
                  mObj$1=TW3Component.getChildObject(Self,x$2);
                  if ($Is(mObj$1,TW3CustomControl)) {
                     hd.value=TW3CustomControl.getHeight$v($As(mObj$1,TW3CustomControl));
                     TW3CustomControl.setBounds($As(mObj$1,TW3CustomControl),mRect.left,dy.value,wd.value,hd.value);
                     (dy.value+=hd.value);
                  };
               }
               break;
            case 2 :
               dx.value=mRect.left;
               hd.value=(mRect.bottom-mRect.top$1)+1;
               var $tmp5;
               for(x$2=0,$tmp5=mCount-1;x$2<=$tmp5;x$2++) {
                  mObj$1=TW3Component.getChildObject(Self,x$2);
                  if ($Is(mObj$1,TW3CustomControl)) {
                     wd.value=TW3CustomControl.getWidth$v($As(mObj$1,TW3CustomControl));
                     TW3CustomControl.setBounds($As(mObj$1,TW3CustomControl),dx.value,mRect.top$1,wd.value,hd.value);
                     (dx.value+=wd.value);
                  };
               }
               break;
         };
      };
   }
   ,InitializeObject:function(Self) {
      TW3CustomControl.InitializeObject(Self);
      Self.FArrange=true;
      Self.FArrangeKind=0;
   }
   ,Resize:function(Self) {
      TW3CustomControl.Resize(Self);
      if (Self.FArrange) {
         TW3DisplayView.ArrangeChildren(Self,Self.FArrangeKind);
      };
   }
   ,setArrange:function(Self, aValue) {
      if (aValue!=Self.FArrange) {
         Self.FArrange=aValue;
         if (Self.FArrange) {
            TW3DisplayView.ApplyArrangement(Self,Self.FArrangeKind);
         };
      };
   }
   ,setArrangeType:function(Self, aValue) {
      if (aValue!=Self.FArrangeKind) {
         if (Self.FObjReady) {
            if (Self.FArrange) {
               TW3Component.BeginUpdate(Self);
               try {
                  Self.FArrangeKind=aValue;
                  TW3CustomControl.setWasSized(Self);
               } finally {
                  TW3DisplayView.EndUpdate$v(Self);
               };
            } else {
               Self.FArrangeKind=aValue;
            };
         } else {
            Self.FArrangeKind=aValue;
         };
      };
   }
   ,Destroy:TW3TagObj.Destroy
   ,Destroy$v:TW3TagObj.Destroy$v
   ,makeElementTagId:TW3TagObj.makeElementTagId
   ,makeElementTagId$v:TW3TagObj.makeElementTagId$v
   ,makeElementTagObj:TW3TagObj.makeElementTagObj
   ,makeElementTagObj$v:TW3TagObj.makeElementTagObj$v
   ,StyleTagObject:TW3CustomControl.StyleTagObject
   ,StyleTagObject$v:TW3CustomControl.StyleTagObject$v
   ,InitializeObject$v:function(Self){return Self.ClassType.InitializeObject(Self)}
   ,FinalizeObject:TW3CustomControl.FinalizeObject
   ,FinalizeObject$v:TW3CustomControl.FinalizeObject$v
   ,UnHookEvents:TW3TagObj.UnHookEvents
   ,UnHookEvents$v:TW3TagObj.UnHookEvents$v
   ,Create$1:TW3TagObj.Create$1
   ,Create$1$v:TW3TagObj.Create$1$v
   ,AfterUpdate:TW3CustomControl.AfterUpdate
   ,AfterUpdate$v:TW3CustomControl.AfterUpdate$v
   ,CBNoBehavior:TW3Component.CBNoBehavior
   ,CBNoBehavior$v:TW3Component.CBNoBehavior$v
   ,EndUpdate:TW3Component.EndUpdate
   ,EndUpdate$v:TW3Component.EndUpdate$v
   ,Create$2:TW3Component.Create$2
   ,Create$2$v:TW3Component.Create$2$v
   ,CMTouchBegins:TW3CustomControl.CMTouchBegins
   ,CMTouchBegins$v:TW3CustomControl.CMTouchBegins$v
   ,CMTouchMove:TW3CustomControl.CMTouchMove
   ,CMTouchMove$v:TW3CustomControl.CMTouchMove$v
   ,CMTouchEnds:TW3CustomControl.CMTouchEnds
   ,CMTouchEnds$v:TW3CustomControl.CMTouchEnds$v
   ,CBMouseDown:TW3CustomControl.CBMouseDown
   ,CBMouseDown$v:TW3CustomControl.CBMouseDown$v
   ,CBMouseUp:TW3CustomControl.CBMouseUp
   ,CBMouseUp$v:TW3CustomControl.CBMouseUp$v
   ,CBMouseMove:TW3CustomControl.CBMouseMove
   ,CBMouseMove$v:TW3CustomControl.CBMouseMove$v
   ,CBMouseOver:TW3CustomControl.CBMouseOver
   ,CBMouseOver$v:TW3CustomControl.CBMouseOver$v
   ,CBMouseOut:TW3CustomControl.CBMouseOut
   ,CBMouseOut$v:TW3CustomControl.CBMouseOut$v
   ,CBClick:TW3CustomControl.CBClick
   ,CBClick$v:TW3CustomControl.CBClick$v
   ,CBDblClick:TW3CustomControl.CBDblClick
   ,CBDblClick$v:TW3CustomControl.CBDblClick$v
   ,CBKeyPress:TW3CustomControl.CBKeyPress
   ,CBKeyPress$v:TW3CustomControl.CBKeyPress$v
   ,CBKeyDown:TW3CustomControl.CBKeyDown
   ,CBKeyDown$v:TW3CustomControl.CBKeyDown$v
   ,CBKeyUp:TW3CustomControl.CBKeyUp
   ,CBKeyUp$v:TW3CustomControl.CBKeyUp$v
   ,CBAnimationBegins:TW3CustomControl.CBAnimationBegins
   ,CBAnimationBegins$v:TW3CustomControl.CBAnimationBegins$v
   ,CBAnimationEnds:TW3CustomControl.CBAnimationEnds
   ,CBAnimationEnds$v:TW3CustomControl.CBAnimationEnds$v
   ,CBChanged:TW3CustomControl.CBChanged
   ,CBChanged$v:TW3CustomControl.CBChanged$v
   ,CBFocused:TW3CustomControl.CBFocused
   ,CBFocused$v:TW3CustomControl.CBFocused$v
   ,CBLostFocus:TW3CustomControl.CBLostFocus
   ,CBLostFocus$v:TW3CustomControl.CBLostFocus$v
   ,getWidth:TW3CustomControl.getWidth
   ,getWidth$v:TW3CustomControl.getWidth$v
   ,getHeight:TW3CustomControl.getHeight
   ,getHeight$v:TW3CustomControl.getHeight$v
   ,setLeft:TW3CustomControl.setLeft
   ,setLeft$v:TW3CustomControl.setLeft$v
   ,setTop:TW3CustomControl.setTop
   ,setTop$v:TW3CustomControl.setTop$v
   ,setWidth:TW3CustomControl.setWidth
   ,setWidth$v:TW3CustomControl.setWidth$v
   ,setHeight:TW3CustomControl.setHeight
   ,setHeight$v:TW3CustomControl.setHeight$v
   ,Moved:TW3CustomControl.Moved
   ,Moved$v:TW3CustomControl.Moved$v
   ,Resize$v:function(Self){return Self.ClassType.Resize(Self)}
   ,Invalidate:TW3CustomControl.Invalidate
   ,Invalidate$v:TW3CustomControl.Invalidate$v
};
TW3DisplayView.$Intf={
   IW3CustomControl:[TW3CustomControl.setWasMoved,TW3CustomControl.setWasSized]
};
var TW3Display={
   $ClassName:"TW3Display",
   $Parent:TW3CustomControl,
   $Init:function (Self) {
      TW3CustomControl.$Init(Self);
      Self.FFooter=null;
      Self.FHeader=null;
      Self.FOnOrient=null;
      Self.FView=null;
   }
   ,FinalizeObject:function(Self) {
      TObject.Free(Self.FView);
      if ((Self.FHeader!==null)) {
         TObject.Free(Self.FHeader);
      };
      if ((Self.FFooter!==null)) {
         TObject.Free(Self.FFooter);
      };
      TW3CustomControl.FinalizeObject(Self);
   }
   ,getHeightOfChildren:function(Self) {
      var Result={value:0};
      try {
         var x$2=0;
         var mCount=0;
         var mObj$1=null;
         Result.value=0;
         mCount=TW3Component.getChildCount(Self);
         var $tmp6;
         for(x$2=0,$tmp6=mCount-1;x$2<=$tmp6;x$2++) {
            mObj$1=TW3Component.getChildObject(Self,x$2);
            if ($Is(mObj$1,TW3CustomControl)&&(!(mObj$1===Self.FView))) {
               (Result.value+=TW3CustomControl.getHeight$v($As(mObj$1,TW3CustomControl)));
            };
         }
      } finally {return Result.value}
   }
   ,InitializeObject:function(Self) {
      TW3CustomControl.InitializeObject(Self);
      Self.FView=TW3DisplayView.Create$2$v($New(TW3DisplayView),Self);
      TW3DisplayView.setTop$v(Self.FView,5);
   }
   ,PositionFormInView:function(Self, aForm) {
      var mApp=null;
      var dx=0;
      var dy=0;
      if ((aForm!==null)) {
         mApp=Application();
         if ((mApp!==null)&&(!mApp.FTerminated)) {
            dx=TW3ScrollInfo.getScrollLeft(TW3CustomControl.getScrollInfo(Self.FView));
            dy=TW3ScrollInfo.getScrollTop(TW3CustomControl.getScrollInfo(Self.FView));
            TW3CustomControl.setBounds(aForm,dx,dy,TW3DisplayView.getWidth$v(Self.FView),TW3DisplayView.getHeight$v(Self.FView));
         };
      } else {
         throw EW3Exception.CreateFmt($New(EW3Screen),"Method %s in class %s threw exception [%s]",["PositionFormInView",TObject.ClassName(Self.ClassType),"Form parameter was NIL error"]);
      };
   }
   ,PositionFormLeftOfView:function(Self, aForm) {
      var mApp=null;
      var dx=0;
      if ((aForm!==null)) {
         mApp=Application();
         if ((mApp!==null)&&(!mApp.FTerminated)) {
            dx=TW3ScrollInfo.getScrollLeft(TW3CustomControl.getScrollInfo(Self.FView))-TW3CustomForm.getWidth$v(aForm);
            TW3CustomControl.moveTo$1(aForm,dx,0);
         };
      } else {
         throw EW3Exception.CreateFmt($New(EW3Screen),"Method %s in class %s threw exception [%s]",["PositionFormLeftOfView",TObject.ClassName(Self.ClassType),"Form parameter was NIL error"]);
      };
   }
   ,PositionFormRightOfView:function(Self, aForm) {
      var mApp=null;
      var dx=0;
      if ((aForm!==null)) {
         mApp=Application();
         if ((mApp!==null)&&(!mApp.FTerminated)) {
            dx=TW3ScrollInfo.getScrollLeft(TW3CustomControl.getScrollInfo(Self.FView))+TW3DisplayView.getWidth$v(Self.FView);
            TW3CustomControl.moveTo$1(aForm,dx,0);
         };
      } else {
         throw EW3Exception.CreateFmt($New(EW3Screen),"Method %s in class %s threw exception [%s]",["PositionFormRightOfView",TObject.ClassName(Self.ClassType),"Form parameter was NIL error"]);
      };
   }
   ,Resize:function(Self) {
      var mTotal=0;
      var mlist=null;
      var x$2=0;
      var dy={};dy.value=0;
      var mObj$1=null;
      TW3CustomControl.Resize(Self);
      mTotal=TW3Display.getHeightOfChildren(Self);
      TW3DisplayView.setHeight$v(Self.FView,TW3Display.getHeight$v(Self)-mTotal);
      mlist=TW3CustomControl.getChildrenSortedByYpos(Self);
      if (!(mlist===null)) {
         try {
            dy.value=0;
            var $tmp7;
            for(x$2=0,$tmp7=TObjectList.getCount(mlist)-1;x$2<=$tmp7;x$2++) {
               mObj$1=$As(TObjectList.getItem(mlist,x$2),TW3CustomControl);
               TW3CustomControl.setBounds(mObj$1,0,dy.value,TW3Display.getWidth$v(Self),TW3CustomControl.getHeight$v(mObj$1));
               (dy.value+=TW3CustomControl.getHeight$v(mObj$1));
               if (x$2==0) {
                  (dy.value+=2);
               };
            }
         } finally {
            TObject.Free(mlist);
         };
      };
   }
   ,Destroy:TW3TagObj.Destroy
   ,Destroy$v:TW3TagObj.Destroy$v
   ,makeElementTagId:TW3TagObj.makeElementTagId
   ,makeElementTagId$v:TW3TagObj.makeElementTagId$v
   ,makeElementTagObj:TW3TagObj.makeElementTagObj
   ,makeElementTagObj$v:TW3TagObj.makeElementTagObj$v
   ,StyleTagObject:TW3CustomControl.StyleTagObject
   ,StyleTagObject$v:TW3CustomControl.StyleTagObject$v
   ,InitializeObject$v:function(Self){return Self.ClassType.InitializeObject(Self)}
   ,FinalizeObject$v:function(Self){return Self.ClassType.FinalizeObject(Self)}
   ,UnHookEvents:TW3TagObj.UnHookEvents
   ,UnHookEvents$v:TW3TagObj.UnHookEvents$v
   ,Create$1:TW3TagObj.Create$1
   ,Create$1$v:TW3TagObj.Create$1$v
   ,AfterUpdate:TW3CustomControl.AfterUpdate
   ,AfterUpdate$v:TW3CustomControl.AfterUpdate$v
   ,CBNoBehavior:TW3Component.CBNoBehavior
   ,CBNoBehavior$v:TW3Component.CBNoBehavior$v
   ,EndUpdate:TW3Component.EndUpdate
   ,EndUpdate$v:TW3Component.EndUpdate$v
   ,Create$2:TW3Component.Create$2
   ,Create$2$v:TW3Component.Create$2$v
   ,CMTouchBegins:TW3CustomControl.CMTouchBegins
   ,CMTouchBegins$v:TW3CustomControl.CMTouchBegins$v
   ,CMTouchMove:TW3CustomControl.CMTouchMove
   ,CMTouchMove$v:TW3CustomControl.CMTouchMove$v
   ,CMTouchEnds:TW3CustomControl.CMTouchEnds
   ,CMTouchEnds$v:TW3CustomControl.CMTouchEnds$v
   ,CBMouseDown:TW3CustomControl.CBMouseDown
   ,CBMouseDown$v:TW3CustomControl.CBMouseDown$v
   ,CBMouseUp:TW3CustomControl.CBMouseUp
   ,CBMouseUp$v:TW3CustomControl.CBMouseUp$v
   ,CBMouseMove:TW3CustomControl.CBMouseMove
   ,CBMouseMove$v:TW3CustomControl.CBMouseMove$v
   ,CBMouseOver:TW3CustomControl.CBMouseOver
   ,CBMouseOver$v:TW3CustomControl.CBMouseOver$v
   ,CBMouseOut:TW3CustomControl.CBMouseOut
   ,CBMouseOut$v:TW3CustomControl.CBMouseOut$v
   ,CBClick:TW3CustomControl.CBClick
   ,CBClick$v:TW3CustomControl.CBClick$v
   ,CBDblClick:TW3CustomControl.CBDblClick
   ,CBDblClick$v:TW3CustomControl.CBDblClick$v
   ,CBKeyPress:TW3CustomControl.CBKeyPress
   ,CBKeyPress$v:TW3CustomControl.CBKeyPress$v
   ,CBKeyDown:TW3CustomControl.CBKeyDown
   ,CBKeyDown$v:TW3CustomControl.CBKeyDown$v
   ,CBKeyUp:TW3CustomControl.CBKeyUp
   ,CBKeyUp$v:TW3CustomControl.CBKeyUp$v
   ,CBAnimationBegins:TW3CustomControl.CBAnimationBegins
   ,CBAnimationBegins$v:TW3CustomControl.CBAnimationBegins$v
   ,CBAnimationEnds:TW3CustomControl.CBAnimationEnds
   ,CBAnimationEnds$v:TW3CustomControl.CBAnimationEnds$v
   ,CBChanged:TW3CustomControl.CBChanged
   ,CBChanged$v:TW3CustomControl.CBChanged$v
   ,CBFocused:TW3CustomControl.CBFocused
   ,CBFocused$v:TW3CustomControl.CBFocused$v
   ,CBLostFocus:TW3CustomControl.CBLostFocus
   ,CBLostFocus$v:TW3CustomControl.CBLostFocus$v
   ,getWidth:TW3CustomControl.getWidth
   ,getWidth$v:TW3CustomControl.getWidth$v
   ,getHeight:TW3CustomControl.getHeight
   ,getHeight$v:TW3CustomControl.getHeight$v
   ,setLeft:TW3CustomControl.setLeft
   ,setLeft$v:TW3CustomControl.setLeft$v
   ,setTop:TW3CustomControl.setTop
   ,setTop$v:TW3CustomControl.setTop$v
   ,setWidth:TW3CustomControl.setWidth
   ,setWidth$v:TW3CustomControl.setWidth$v
   ,setHeight:TW3CustomControl.setHeight
   ,setHeight$v:TW3CustomControl.setHeight$v
   ,Moved:TW3CustomControl.Moved
   ,Moved$v:TW3CustomControl.Moved$v
   ,Resize$v:function(Self){return Self.ClassType.Resize(Self)}
   ,Invalidate:TW3CustomControl.Invalidate
   ,Invalidate$v:TW3CustomControl.Invalidate$v
};
TW3Display.$Intf={
   IW3CustomControl:[TW3CustomControl.setWasMoved,TW3CustomControl.setWasSized]
};
var TW3CustomApplication={
   $ClassName:"TW3CustomApplication",
   $Parent:TObject,
   $Init:function (Self) {
      TObject.$Init(Self);
      Self.FBody=null;
      Self.FCurrentForm=null;
      Self.FDisplay=null;
      Self.FEnterAnim=null;
      Self.FEntryEffect=0;
      Self.FFormChangeActive=false;
      Self.FForms=null;
      Self.FLeaveAnim=null;
      Self.FMainForm=null;
      Self.FMover=null;
      Self.FTerminated=false;
      Self.FTransDst=null;
      Self.FTransSrc=null;
      Self.FTransTarget=0;
   }
   ,AdjustScreen:function(Self) {
      var dy=0;
      
    window.scrollTo(0,0);
  TW3ScrollInfo.ScrollTo(TW3CustomControl.getScrollInfo(Self.FDisplay),0,0);
      TW3CustomControl.setBounds(Self.FDisplay,0,dy,TDocumentBody.getClientWidth(Self.FBody),TDocumentBody.getHeight(Self.FBody)-dy);
   }
   ,ApplicationClosing:function(Self) {
   }
   ,ApplicationStarted:function(Self) {
   }
   ,ApplicationStarting:function(Self) {
      TW3CustomApplication.AdjustScreen(Self);
   }
   ,CMOnOrientationChange:function(Self) {
      var mOrientation=0;
      var mTemp$3=0;
      var mEntry=null;
      
    mTemp$3 = window.orientation;
  switch (mTemp$3) {
         case 0 :
            mOrientation=0;
            break;
         case 90 :
            mOrientation=1;
            break;
         case (-90) :
            mOrientation=2;
            break;
         case 180 :
            mOrientation=3;
            break;
      };
      try {
         if ((Self.FDisplay!==null)) {
            mEntry=Self.FDisplay.FOnOrient;
            if ((mEntry!==null)) {
               mEntry(Self.FDisplay,mOrientation,mTemp$3);
            };
         };
      } finally {
         TW3CustomApplication.AdjustScreen(Self);
      };
   }
   ,CMOnReSize:function(Self) {
      TW3CustomApplication.AdjustScreen(Self);
   }
   ,CMOnUnLoad:function(Self) {
      if (!Self.FTerminated) {
         TW3CustomApplication.Terminate(Self);
      };
   }
   ,Create$1:function(Self) {
      TObject.Create(Self);
      Self.FForms=TObjectList.Create$1$v($New(TObjectList));
      Self.FBody=TDocumentBody.Create$2$v($New(TDocumentBody),null);
      Self.FDisplay=TW3Display.Create$2$v($New(TW3Display),Self.FBody);
      return Self
   }
   ,Destroy:function(Self) {
      if (!Self.FTerminated) {
         TW3CustomApplication.Terminate(Self);
      };
      TObject.Free(Self.FDisplay);
      TObject.Free(Self.FForms);
      TObject.Free(Self.FBody);
      
    window.appRef = null;
  TObject.Destroy(Self);
   }
   ,getForm:function(Self, index) {
      var Result=null;
      Result=$As(TObjectList.getItem(Self.FForms,index),TW3CustomForm);
      return Result
   }
   ,getFormCount:function(Self) {
      var Result=0;
      Result=TObjectList.getCount(Self.FForms);
      return Result
   }
   ,GotoForm:function(Self, aName, Effect) {
      var x$2=0;
      var mForm=null;
      var mFound=false;
      aName=Trim(LowerCase(aName));
      if ((aName).length>0) {
         mFound=false;
         var $tmp8;
         for(x$2=1,$tmp8=TObjectList.getCount(Self.FForms);x$2<=$tmp8;x$2++) {
            mForm=$As(TObjectList.getItem(Self.FForms,x$2-1),TW3CustomForm);
            mFound=LowerCase(mForm.FName)==aName;
            if (mFound) {
               break;
            };
         }
         if (mFound) {
            TW3CustomApplication.GotoFormByRef(Self,mForm,Effect);
         } else {
            throw EW3Exception.CreateFmt($New(EW3Application),"Method %s in class %s threw exception [%s]",["GotoForm",TObject.ClassName(Self.ClassType),Format("Form [%s] not found error",[aName])]);
         };
      } else {
         throw EW3Exception.CreateFmt($New(EW3Application),"Method %s in class %s threw exception [%s]",["GotoForm",TObject.ClassName(Self.ClassType),"Invalid form name error"]);
      };
   }
   ,GotoFormByRef:function(Self, aForm, Effect) {
      var mIndex=0;
      var dx=0;
      var dy=0;
      var aRef=null;
      var mCallBack=null;
      if (!Self.FTerminated) {
         if (!Self.FFormChangeActive) {
            if (!(aForm===null)) {
               mIndex=TObjectList.IndexOf(Self.FForms,aForm);
               if (mIndex>=0) {
                  if (!(aForm===Self.FCurrentForm)) {
                     if (Self.FCurrentForm===null) {
                        Self.FCurrentForm=aForm;
                        TW3Display.PositionFormInView(Self.FDisplay,aForm);
                        TW3CustomControl.setVisible(aForm,true);
                        TW3CustomForm.FormActivated$v(aForm);
                        return;
                     } else {
                        Self.FFormChangeActive=true;
                        Self.FEntryEffect=Effect;
                        TW3CustomControl.bringToFront(aForm);
                        switch (Effect) {
                           case 0 :
                              TW3CustomControl.setVisible(Self.FCurrentForm,false);
                              TW3CustomForm.FormDeActivated$v(Self.FCurrentForm);
                              TW3CustomControl.setVisible(aForm,true);
                              TW3Display.PositionFormInView(Self.FDisplay,aForm);
                              TW3CustomForm.FormActivated$v(aForm);
                              Self.FCurrentForm=aForm;
                              Self.FFormChangeActive=false;
                              break;
                           case 1 :
                              TW3CustomForm.FormDeActivated$v(Self.FCurrentForm);
                              Self.FTransSrc=Self.FCurrentForm;
                              Self.FTransDst=aForm;
                              TW3CustomControl.setVisible(aForm,true);
                              TW3Display.PositionFormInView(Self.FDisplay,aForm);
                              Self.FEnterAnim=TW3NamedAnimation.Create$1$v($New(TW3NamedAnimation));
                              Self.FEnterAnim.FName="MOVE-LEFT";
                              TW3CustomAnimation.setDuration(Self.FEnterAnim,0.2);
                              Self.FLeaveAnim=TW3NamedAnimation.Create$1$v($New(TW3NamedAnimation));
                              Self.FLeaveAnim.FName="MOVE-OUT-LEFT";
                              TW3CustomAnimation.setDuration(Self.FLeaveAnim,0.2);
                              TW3CustomAnimation.ExecuteEx(Self.FEnterAnim,aForm,null,$Event(Self,TW3CustomApplication.HandleEnterAnimEnds));
                              TW3CustomAnimation.ExecuteEx(Self.FLeaveAnim,Self.FCurrentForm,null,$Event(Self,TW3CustomApplication.HandleLeaveAnimEnds));
                              break;
                           case 2 :
                              TW3CustomForm.FormDeActivated$v(Self.FCurrentForm);
                              Self.FTransSrc=Self.FCurrentForm;
                              Self.FTransDst=aForm;
                              TW3CustomControl.setVisible(aForm,true);
                              TW3Display.PositionFormInView(Self.FDisplay,aForm);
                              Self.FEnterAnim=TW3NamedAnimation.Create$1$v($New(TW3NamedAnimation));
                              Self.FEnterAnim.FName="MOVE-RIGHT";
                              TW3CustomAnimation.setDuration(Self.FEnterAnim,0.2);
                              Self.FLeaveAnim=TW3NamedAnimation.Create$1$v($New(TW3NamedAnimation));
                              Self.FLeaveAnim.FName="MOVE-OUT-RIGHT";
                              TW3CustomAnimation.setDuration(Self.FLeaveAnim,0.2);
                              TW3CustomAnimation.ExecuteEx(Self.FEnterAnim,aForm,null,$Event(Self,TW3CustomApplication.HandleEnterAnimEnds));
                              TW3CustomAnimation.ExecuteEx(Self.FLeaveAnim,Self.FCurrentForm,null,$Event(Self,TW3CustomApplication.HandleLeaveAnimEnds));
                              break;
                        };
                     };
                  };
               } else {
                  throw EW3Exception.CreateFmt($New(EW3Application),"Method %s in class %s threw exception [%s]",["GotoFormByRef",TObject.ClassName(Self.ClassType),"Form not registered error"]);
               };
            } else {
               throw EW3Exception.CreateFmt($New(EW3Application),"Method %s in class %s threw exception [%s]",["GotoFormByRef",TObject.ClassName(Self.ClassType),"Form parameter is NIL error"]);
            };
         } else {
            throw EW3Exception.CreateFmt($New(EW3Application),"Method %s in class %s threw exception [%s]",["GotoFormByRef",TObject.ClassName(Self.ClassType),"A form transition is already active error"]);
         };
      };
   }
   ,HandleEnterAnimEnds:function(Self, Sender) {
      var mAnim=null;
      mAnim=$As(Sender,TW3NamedAnimation);
      switch (Self.FEntryEffect) {
         case 1 :
            TW3CustomControl.moveTo$1(Self.FTransDst,0,0);
            Self.FCurrentForm=Self.FTransDst;
            TW3CustomForm.FormActivated$v(Self.FCurrentForm);
            Self.FFormChangeActive=false;
            break;
         case 2 :
            TW3CustomControl.moveTo$1(Self.FTransDst,0,0);
            Self.FCurrentForm=Self.FTransDst;
            TW3CustomForm.FormActivated$v(Self.FCurrentForm);
            TW3CustomControl.setVisible(Self.FTransSrc,false);
            TW3Display.PositionFormInView(Self.FDisplay,Self.FTransSrc);
            Self.FFormChangeActive=false;
            break;
      };
      TObject.Free(mAnim);
      mAnim=null;
   }
   ,HandleLeaveAnimEnds:function(Self, Sender) {
      var mAnim=null;
      mAnim=$As(Sender,TW3NamedAnimation);
      TW3CustomControl.setVisible(Self.FTransSrc,false);
      TObject.Free(mAnim);
   }
   ,HookWindowEvents:function(Self) {
      w3_bind2(w3_getWindow(),"onunload",$Event(Self,Self.ClassType.CMOnUnLoad$v));
      w3_bind2(w3_getBody(),"onresize",$Event(Self,Self.ClassType.CMOnReSize$v));
      w3_bind2(w3_getWindow(),"onorientationchange",$Event(Self,Self.ClassType.CMOnOrientationChange$v));
   }
   ,RegisterFormInstance:function(Self, aForm, isMainForm) {
      if (!Self.FTerminated) {
         if ((aForm!==null)) {
            if (TObjectList.IndexOf(Self.FForms,aForm)==(-1)) {
               try {
                  TObjectList.Add(Self.FForms,aForm);
               } catch ($e) {
                  if ($Is($e,Exception)) {
                     var e=$e;
                     throw EW3Exception.CreateFmt($New(EW3Exception),"Method %s in class %s threw exception [%s]",["RegisterFormInstance",TObject.ClassName(Self.ClassType),"Failed to insert form into collection: "+e.FMessage]);
                  }
                  else throw $e
               }
               if (isMainForm) {
                  Self.FMainForm=aForm;
               } else {
                  TW3CustomControl.setEnabled(aForm,false);
                  TW3CustomControl.setVisible(aForm,false);
               };
            } else {
               throw EW3Exception.CreateFmt($New(EW3Application),"Method %s in class %s threw exception [%s]",["RegisterFormInstance",TObject.ClassName(Self.ClassType),"Form already registered"]);
            };
         } else {
            throw EW3Exception.CreateFmt($New(EW3Application),"Method %s in class %s threw exception [%s]",["RegisterFormInstance",TObject.ClassName(Self.ClassType),"Form parameter is NIL error"]);
         };
      };
   }
   ,RunApp:function(Self) {
      var FTemp=null;
      TW3CustomApplication.HookWindowEvents$v(Self);
      TW3CustomApplication.ApplicationStarting$v(Self);
      if ((Self.FMainForm!==null)) {
         FTemp=Self.FMainForm;
         Self.FMainForm=null;
         TW3CustomApplication.GotoFormByRef(Self,FTemp,0);
      };
      TW3CustomApplication.ApplicationStarted$v(Self);
   }
   ,Terminate:function(Self) {
      var x$2=0;
      var mForm=null;
      if (!Self.FTerminated) {
         Self.FTerminated=true;
         TW3CustomApplication.ApplicationClosing$v(Self);
         try {
            var $tmp9;
            for(x$2=0,$tmp9=TObjectList.getCount(Self.FForms)-1;x$2<=$tmp9;x$2++) {
               TObject.Free($As(TObjectList.getItem(Self.FForms,x$2-1),TW3CustomForm));
               TObjectList.setItem(Self.FForms,x$2-1,null);
            }
            TObjectList.Clear(Self.FForms);
         } finally {
            TObject.Free(Self);
         };
      };
   }
   ,UnRegisterFormInstance:function(Self, aForm) {
      var mIndex=0;
      if (!Self.FTerminated) {
         if ((aForm!==null)) {
            mIndex=TObjectList.IndexOf(Self.FForms,aForm);
            if (mIndex>=0) {
               if (!(Self.FMainForm===aForm)) {
                  if (Self.FCurrentForm===aForm) {
                     TW3CustomApplication.GotoFormByRef(Self,Self.FMainForm,0);
                  };
                  TObjectList.Remove(Self.FForms,mIndex);
                  try {
                     TObject.Free(aForm);
                  } catch ($e) {
                     if ($Is($e,Exception)) {
                        var e=$e;
                        throw EW3Exception.CreateFmt($New(EW3Application),"Method %s in class %s threw exception [%s]",["UnRegisterFormInstance",TObject.ClassName(Self.ClassType),"Failed to release form:"+e.FMessage]);
                     }
                     else throw $e
                  }
               } else {
                  throw EW3Exception.CreateFmt($New(EW3Application),"Method %s in class %s threw exception [%s]",["UnRegisterFormInstance",TObject.ClassName(Self.ClassType),"Main form cannot be removed error"]);
               };
            } else {
               throw EW3Exception.CreateFmt($New(EW3Application),"Method %s in class %s threw exception [%s]",["UnRegisterFormInstance",TObject.ClassName(Self.ClassType),"Form <"+TObject.ClassName(aForm.ClassType)+"> is not registered"]);
            };
         } else {
            throw EW3Exception.CreateFmt($New(EW3Application),"Method %s in class %s threw exception [%s]",["UnRegisterFormInstance",TObject.ClassName(Self.ClassType),"Form parameter is NIL error"]);
         };
      };
   }
   ,Destroy$v:function(Self){return Self.ClassType.Destroy(Self)}
   ,CMOnUnLoad$v:function(Self){return Self.ClassType.CMOnUnLoad(Self)}
   ,CMOnReSize$v:function(Self){return Self.ClassType.CMOnReSize(Self)}
   ,CMOnOrientationChange$v:function(Self){return Self.ClassType.CMOnOrientationChange(Self)}
   ,HookWindowEvents$v:function(Self){return Self.ClassType.HookWindowEvents(Self)}
   ,ApplicationStarting$v:function(Self){return Self.ClassType.ApplicationStarting(Self)}
   ,ApplicationClosing$v:function(Self){return Self.ClassType.ApplicationClosing(Self)}
   ,ApplicationStarted$v:function(Self){return Self.ClassType.ApplicationStarted(Self)}
   ,Create$1$v:function(Self){return Self.ClassType.Create$1(Self)}
};
/* TFormEntryEffect*/
feNone=0;
feFromRight=1;
feToLeft=2;
/* TDisplayOrientation*/
soPortrait=0;
soLandscapeLeft=1;
soLandscapeRight=2;
soFlipped=3;
var EW3Exception={
   $ClassName:"EW3Exception",
   $Parent:Exception,
   $Init:function (Self) {
      Exception.$Init(Self);
   }
   ,CreateFmt:function(Self, aText, aValues) {
      Exception.Create$1(Self,Format(aText,aValues.slice(0)));
      return Self
   }
   ,Destroy:Exception.Destroy
   ,Destroy$v:Exception.Destroy$v
};
var EW3Screen={
   $ClassName:"EW3Screen",
   $Parent:EW3Exception,
   $Init:function (Self) {
      EW3Exception.$Init(Self);
   }
   ,Destroy:Exception.Destroy
   ,Destroy$v:Exception.Destroy$v
};
var EW3Application={
   $ClassName:"EW3Application",
   $Parent:EW3Exception,
   $Init:function (Self) {
      EW3Exception.$Init(Self);
   }
   ,Destroy:Exception.Destroy
   ,Destroy$v:Exception.Destroy$v
};
function Application() {
   var Result=null;
   
    Result = window.appRef;
  return Result
};
function WriteLn(Value) {
   
    if (console)
    console.log(Value);
  };
function w3_UrlObject() {
   var Result=null;
   Result=null;
   
    if (window.webkitURL)
    Result = window.webkitURL;
  if (Result===null) {
      
      if (window.URL)
      Result = window.URL;
       };
   return Result
};
function w3_unbind(obj_ref, event_name) {
   
    (obj_ref)[event_name] = null;
  };
function W3_StrToArray(aText, aDelimiter) {
   var Result=[];
   var mRef=undefined;
   var mLen=0;
   var x=0;
   Result=$NewArray(0,function (){return ""});
   if (((aText).length>0)&&((aDelimiter).length>0)) {
      
      mRef = (aText).split(aDelimiter);
      mLen = (mRef).length;
    var $tmp10;
      for(x=0,$tmp10=mLen-1;x<=$tmp10;x++) {
         
        (Result).push((mRef)[x]);
            }
   };
   return Result
};
function W3_StrLikeInArray(aLike, aArray) {
   var Result=0;
   var x$1=0;
   var mLen1=0;
   var mLen2=0;
   Result=-1;
   mLen1=(aLike).length;
   if ((mLen1>0)&&(aArray.length>0)) {
      var $tmp11;
      for(x$1=0,$tmp11=aArray.length-1;x$1<=$tmp11;x$1++) {
         mLen2=(aArray[x$1]).length;
         if (mLen2>=mLen1) {
            if (Copy(aArray[x$1],1,mLen1)==aLike) {
               Result=x$1;
               break;
            };
         };
      }
   };
   return Result
};
function w3_StringReplace(aValue, aToReplace, aNewValue) {
   var Result="";
   while (Pos(aToReplace,aValue)>0) {
      
      aValue=(aValue).replace(aToReplace,aNewValue);
       };
   Result=aValue;
   return Result
};
function w3_ShowMessage(aText) {
   
    alert(aText);
  };
function w3_setStyle(tagRef$1, aStyleName, aStyleValue) {
   
    if (tagRef$1)
    (tagRef$1).style[aStyleName] = aStyleValue;
  };
function w3_setProperty(tagRef$1, aPropName, aValue) {
   
  (tagRef$1)[aPropName] = aValue;
  };
function w3_setInnerHtml(aRef, aValue) {
   
    (aRef).innerHTML = aValue;
  };
function w3_setElementParentByRef(aElement, aParent) {
   if (!(aParent===null)) {
      
      (aParent).appendChild(aElement);
       };
};
function w3_setElementParentByName(aElement, aParentName) {
   var mTemp=null;
   mTemp=w3_getElementByName(aParentName);
   if (!(mTemp===null)) {
      
      (mTemp).appendChild(aElement);
       };
};
function w3_setAttrib(tagRef$1, aAttribName, aValue) {
   
    if (tagRef$1)
    (tagRef$1).setAttribute(aAttribName,aValue);
  };
function w3_RevokeObjectURL(aValue) {
   var mRef$1=null;
   if ((aValue).length>0) {
      mRef$1=w3_UrlObject();
      if ((mRef$1!==null)) {
         
        (mRef$1).revokeObjectURL(aValue);
            };
   };
};
function w3_RemoveEvent(a_tagRef, a_eventName, a_callback) {
   
    (a_tagRef).removeEventListener(a_eventName,a_callback,true)
  };
function w3_RemoveElementByRef(aElement, aParent) {
   if (!(aParent===null)) {
      
      (aParent).removeChild(aElement);
       };
};
function w3_RemoveClass(tagRef$1, aClassName) {
   
    removeClass(tagRef$1,aClassName);
  };
function w3_RectToStr(aRect) {
   var Result="";
   Result=Format("%d,%d,%d,%d",[aRect.left,aRect.top$1,aRect.right,aRect.bottom]);
   return Result
};
function w3_rectEx(aLeft, aTop, aWidth, aHeight) {
   var Result={left:0,top$1:0,right:0,bottom:0};
   Result.left=aLeft;
   Result.top$1=aTop;
   Result.right=aLeft+aWidth;
   Result.bottom=aTop+aHeight;
   return Result
};
function w3_rect(aLeft, aTop, aRight, aBottom) {
   var Result={left:0,top$1:0,right:0,bottom:0};
   Result.left=aLeft;
   Result.top$1=aTop;
   Result.right=aRight;
   Result.bottom=aBottom;
   return Result
};
function w3_pointToStr(aPoint) {
   var Result="";
   Result=Format("%d,%d",[aPoint.x,aPoint.y]);
   return Result
};
function w3_Point(x$2, y$1) {
   var Result={x:0,y:0};
   Result.x=x$2;
   Result.y=y$1;
   return Result
};
function w3_NullRect() {
   var Result={left:0,top$1:0,right:0,bottom:0};
   Result.left=0;
   Result.top$1=0;
   Result.right=0;
   Result.bottom=0;
   return Result
};
function w3_nullPoint() {
   var Result={x:0,y:0};
   Result.x=0;
   Result.y=0;
   return Result
};
function w3_NameToUrlStr(aUrl) {
   var Result="";
   Result="url("+aUrl+")";
   return Result
};
function w3_intToPxStr(aValue) {
   var Result="";
   Result=IntToStr(aValue)+"px";
   return Result
};
function w3_HasClass(tagRef$1, aClassName) {
   var Result=false;
   
    Result = hasClass(tagRef$1,aClassName);
  return Result
};
function w3_getWindow() {
   var Result=null;
   
    Result = window;
  return Result
};
function w3_getUniqueObjId() {
   var Result="";
   
    Result = getUniqueId();
  return Result
};
function w3_getUniqueNumber() {
   var Result=0;
   
    Result = getUniqueNumber();
  return Result
};
function w3_getStyleAsStr(tagRef$1, aStyleName) {
   var Result="";
   var mData=undefined;
   mData=w3_getStyle(tagRef$1,aStyleName);
   Result=VarAsString(mData);
   return Result
};
function w3_getStyleAsInt(tagRef$1, aStyleName) {
   var Result=0;
   var mData$1=undefined;
   mData$1=w3_getStyle(tagRef$1,aStyleName);
   if (w3_isString(mData$1)) {
      
      Result = parseInt(mData$1);
       } else {
      if (w3_isNumber(mData$1)) {
         Result=VarAsInt(mData$1);
      } else {
         Result=0;
      };
   };
   return Result
};
function w3_getStyleAsFloat(tagRef$1, aStyleName) {
   var Result=0.0;
   var mData$2=undefined;
   mData$2=w3_getStyle(tagRef$1,aStyleName);
   if (w3_isString(mData$2)) {
      
      Result = parsefloat(mData$2);
       } else {
      if (w3_isNumber(mData$2)) {
         Result=VarAsFloat(mData$2);
      } else {
         Result=0;
      };
   };
   return Result
};
function w3_getStyle(tagRef$1, aStyleName) {
   var Result=undefined;
   var mObj=null;
   mObj=w3_getCalcStyleFor(tagRef$1);
   
    if (mObj)
    Result = (mObj).getPropertyValue(aStyleName);
  return Result
};
function w3_getPropertyAsStr(tagRef$1, aPropName) {
   var Result="";
   
    if (tagRef$1)
    Result = String( (tagRef$1)[aPropName] );
  return Result
};
function w3_getPropertyAsInt(tagRef$1, aPropName) {
   var Result=0;
   
    if (tagRef$1)
    Result = parseInt((tagRef$1)[aPropName]);
  return Result
};
function w3_getProperty(tagRef$1, aPropName) {
   var Result=undefined;
   
  Result=(tagRef$1)[aPropName];
  return Result
};
function w3_getIsIPad() {
   var Result=false;
   var mTemp$1=null;
   
    mTemp$1 = navigator.userAgent.match(/iPad/i);
  Result=(mTemp$1!==null);
   return Result
};
function w3_getInnerHtml(aRef) {
   var Result="";
   
    Result = (aRef).innerHTML;
  return Result
};
function w3_getElementByName(aElementName) {
   var Result=null;
   
    Result = document.getElementById(aElementName);
  return Result
};
function w3_getDocument() {
   var Result=null;
   
    Result = window.document;
  return Result
};
function w3_getCalcStyleFor(tagRef$1) {
   var Result=null;
   
    Result = document.defaultView.getComputedStyle(tagRef$1,null);
  return Result
};
function w3_getBody() {
   var Result=null;
   
    Result = window.document.body;
  return Result
};
function w3_getAttribAsStr(tagRef$1, aAttribName) {
   var Result="";
   var mValue=null;
   
    mValue=(tagRef$1).getAttribute(aAttribName,0);
    if (mValue)
    Result = String(mValue);
  return Result
};
function w3_getAttribAsInt(tagRef$1, aAttribName) {
   var Result=0;
   var mValue$1=null;
   
    mValue$1=(tagRef$1).getAttribute(aAttribName,0);
    if (mValue$1)
    Result = parseInt(mValue$1);
  return Result
};
function w3_getAttrib(tagRef$1, aAttribName) {
   var Result=undefined;
   
    if (tagRef$1)
    Result=(tagRef$1).getAttribute(aAttribName);
  return Result
};
function w3_event() {
   var Result=null;
   
    Result = event;
  return Result
};
function w3_EnsureRange(aValue, aMin, aMax) {
   var Result=0;
   if (aValue<aMin) {
      Result=aMin;
   } else {
      if (aValue>aMax) {
         Result=aMax;
      } else {
         Result=aValue;
      };
   };
   return Result
};
function w3_CreateObjectURL(tagRef$1) {
   var Result="";
   var mRef$2=null;
   mRef$2=w3_UrlObject();
   if ((mRef$2!==null)) {
      
      Result = (mRef$2).createObjectURL(tagRef$1);
       } else {
      Result="";
   };
   return Result
};
function w3_createElement(aTypeName) {
   var Result=null;
   
    Result = document.createElement(aTypeName);
  return Result
};
function w3_bitSet(Index, aValue, buffer) {
   if ((Index>=0)&&(Index<=31)) {
      if (aValue) {
         buffer.value=buffer.value|(1<<Index);
      } else {
         buffer.value=buffer.value&(~(1<<Index));
      };
   } else {
      throw Exception.Create$1($New(Exception),"Invalid bit index, expected 0..31");
   };
};
function w3_bitGet(Index, value) {
   var Result=false;
   if ((Index>=0)&&(Index<=31)) {
      Result=(value&(1<<Index))!=0;
   } else {
      throw Exception.Create$1($New(Exception),"Invalid bit index, expected 0..31");
   };
   return Result
};
function w3_bind2(obj_ref, event_name, callback) {
   
    (obj_ref)[event_name] = callback;
  };
function w3_bind(obj_id, event_name, callback) {
   
    document.getElementById(obj_id)[event_name] = callback;
  };
function w3_base64encode(aValue) {
   var Result="";
   if (w3_isValidRef(aValue)) {
      
      Result = window.btoa(aValue);
       };
   return Result
};
function w3_base64decode(aValue) {
   var Result=undefined;
   if ((aValue).length>0) {
      
      Result = window.atob(aValue);
       } else {
      
      Result = undefined;
       };
   return Result
};
function w3_AddEvent(a_tagRef, a_eventName, a_callback) {
   
    (a_tagRef).addEventListener(a_eventName,a_callback,true);
  };
function w3_AddClass(tagRef$1, aClassName) {
   
    addClass(tagRef$1,aClassName);
  };
function VarAsString(aValue) {
   var Result="";
   if (w3_isValidRef(aValue)) {
      
      Result = String(aValue);
       } else {
      Result="";
   };
   return Result
};
function VarAsObj(aValue) {
   var Result=null;
   if (w3_isValidRef(aValue)) {
      
      Result = aValue;
       } else {
      Result=null;
   };
   return Result
};
function VarAsInt(aValue) {
   var Result=0;
   if (w3_isValidRef(aValue)) {
      
      Result = Number(aValue);
       } else {
      Result=0;
   };
   return Result
};
function VarAsFloat(aValue) {
   var Result=0.0;
   if (w3_isValidRef(aValue)) {
      
      Result = parseFloat(aValue);
       } else {
      Result=0;
   };
   return Result
};
function VarAsBool(aValue) {
   var Result=false;
   if (w3_isValidRef(aValue)) {
      
      Result = Boolean(aValue);
       };
   return Result
};
var TW3OwnedObject={
   $ClassName:"TW3OwnedObject",
   $Parent:TObject,
   $Init:function (Self) {
      TObject.$Init(Self);
      Self.FOwner=null;
   }
   ,AcceptParent:function(Self, aObject) {
      var Result=false;
      Result=true;
      return Result
   }
   ,Create$1:function(Self, AOwner) {
      TObject.Create(Self);
      if (TW3OwnedObject.AcceptParent$v(Self,AOwner)) {
         Self.FOwner=AOwner;
      } else {
         throw EW3Exception.CreateFmt($New(EW3OwnedObject),"Method %s in class %s threw exception [%s]",["Constructor",TObject.ClassName(Self.ClassType),"Unsuitable owner object-type error"]);
      };
      return Self
   }
   ,Destroy:TObject.Destroy
   ,Destroy$v:TObject.Destroy$v
   ,AcceptParent$v:function(Self){return Self.ClassType.AcceptParent.apply(Self.ClassType, arguments)}
   ,Create$1$v:function(Self){return Self.ClassType.Create$1.apply(Self.ClassType, arguments)}
};
function Copy$TRect(s) {
   return {
      left:s.left
      ,top$1:s.top$1
      ,right:s.right
      ,bottom:s.bottom
   }
};
function Copy$TPoint(s) {
   return {
      x:s.x
      ,y:s.y
   }
};
function strToColor(aColorStr) {
   aColorStr={value:aColorStr};
   var Result={value:0};
   try {
      var mTemp$2={};mTemp$2.value="";
      var xpos=0;
      var r=0;
      var g=0;
      var b=0;
      aColorStr.value=Trim(LowerCase(aColorStr.value));
      if ((aColorStr.value).length>1) {
         if ((aColorStr.value.charAt((1)-1)=="#")||(aColorStr.value.charAt((1)-1)=="$")) {
            Delete(aColorStr,1,1);
            Result.value=HexToInt("0x"+aColorStr.value);
         } else {
            if (Copy(aColorStr.value,1,2)=="0x") {
               Result.value=HexToInt(aColorStr.value);
            } else {
               if (Copy(aColorStr.value,1,4)=="rgb(") {
                  Delete(aColorStr,1,4);
                  try {
                     xpos=Pos(",",aColorStr.value);
                     if (xpos>1) {
                        mTemp$2.value=Copy(aColorStr.value,1,xpos-1);
                        Delete(aColorStr,1,xpos);
                        if (mTemp$2.value.charAt((1)-1)=="$") {
                           Delete(mTemp$2,1,1);
                           mTemp$2.value="0x"+mTemp$2.value;
                        };
                        r=StrToInt(mTemp$2.value);
                     };
                     xpos=Pos(",",aColorStr.value);
                     if (xpos>1) {
                        mTemp$2.value=Copy(aColorStr.value,1,xpos-1);
                        Delete(aColorStr,1,xpos);
                        if (mTemp$2.value.charAt((1)-1)=="$") {
                           Delete(mTemp$2,1,1);
                           mTemp$2.value="0x"+mTemp$2.value;
                        };
                        g=StrToInt(mTemp$2.value);
                     };
                     xpos=Pos(")",aColorStr.value);
                     if (xpos>1) {
                        mTemp$2.value=Copy(aColorStr.value,1,xpos-1);
                        if (mTemp$2.value.charAt((1)-1)=="$") {
                           Delete(mTemp$2,1,1);
                           mTemp$2.value="0x"+mTemp$2.value;
                        };
                        b=StrToInt(mTemp$2.value);
                     };
                     Result.value=RGBToColor(r,g,b);
                  } catch ($e) {
                     if ($Is($e,Exception)) {
                        var e=$e;
                        return Result;
                     }
                     else throw $e
                  }
               };
            };
         };
      } else {
         Result.value=0;
      };
   } finally {return Result.value}
};
function RGBToColor(aRed, aGreen, aBlue) {
   var Result=0;
   Result=(aBlue|(aGreen<<8))|(aRed<<16);
   return Result
};
function HexIt(aValue) {
   var Result="";
   Result=IntToHex(aValue,16);
   if ((Result).length<2) {
      do {
         Result="0"+Result;
      } while (!((Result).length>=2));
   };
   Result=Copy(Result,(Result).length-1,2);
   return Result
};
var EW3OwnedObject={
   $ClassName:"EW3OwnedObject",
   $Parent:EW3Exception,
   $Init:function (Self) {
      EW3Exception.$Init(Self);
   }
   ,Destroy:Exception.Destroy
   ,Destroy$v:Exception.Destroy$v
};
function ColorToWebStr(aColor) {
   var Result="";
   var r$1=0;
   var g$1=0;
   var b$1=0;
   r$1=(aColor>>16)&255;
   g$1=(aColor>>8)&255;
   b$1=(aColor>>0)&255;
   Result="#"+HexIt(r$1)+HexIt(g$1)+HexIt(b$1);
   return Result
};
function ColorToStrA(AColor, Alpha) {
   var Result="";
   var r$2=0;
   var g$2=0;
   var b$2=0;
   var a=0;
   r$2=(AColor>>16)&255;
   g$2=(AColor>>8)&255;
   b$2=(AColor>>0)&255;
   a=Alpha/255;
   Result="rgba("+IntToStr(r$2)+","+IntToStr(g$2)+","+IntToStr(b$2)+","+FloatToStr(a,99)+")";
   return Result
};
function ColorToStr(aColor) {
   var Result="";
   var r$3=0;
   var g$3=0;
   var b$3=0;
   r$3=(aColor>>16)&255;
   g$3=(aColor>>8)&255;
   b$3=(aColor>>0)&255;
   Result="0x"+HexIt(r$3)+HexIt(g$3)+HexIt(b$3);
   return Result
};
var TObjectList={
   $ClassName:"TObjectList",
   $Parent:TObject,
   $Init:function (Self) {
      TObject.$Init(Self);
      Self.FData=[];
      Self.FOnAdded=null;
      Self.FOnClear=null;
      Self.FOnDeleted=null;
   }
   ,Add:function(Self, value) {
      var Result=0;
      Self.FData.push(value);
      Result=Self.FData.length-1;
      if ((Self.FOnAdded!==null)) {
         Self.FOnAdded(Self);
      };
      return Result
   }
   ,Clear:function(Self) {
      Self.FData.length=0;
      if ((Self.FOnClear!==null)) {
         Self.FOnClear(Self);
      };
   }
   ,Create$1:function(Self) {
      TObject.Create(Self);
      Self.FData=$NewArray(0,function (){return null});
      return Self
   }
   ,Destroy:function(Self) {
      Self.FData.length=0;
      TObject.Destroy(Self);
   }
   ,getCount:function(Self) {
      var Result=0;
      Result=Self.FData.length;
      return Result
   }
   ,getItem:function(Self, index) {
      var Result=null;
      Result=Self.FData[index];
      return Result
   }
   ,IndexOf:function(Self, Value) {
      var Result=0;
      var x$2=0;
      Result=-1;
      var $tmp12;
      for(x$2=1,$tmp12=Self.FData.length;x$2<=$tmp12;x$2++) {
         if (Self.FData[(x$2-1)]===Value) {
            Result=x$2-1;
            break;
         };
      }
      return Result
   }
   ,Remove:function(Self, Index) {
      Self.FData.splice(Index,1);
      if ((Self.FOnDeleted!==null)) {
         Self.FOnDeleted(Self);
      };
   }
   ,setItem:function(Self, index, value) {
      Self.FData[index]=value;
   }
   ,Swap:function(Self, aFirst, aSecond) {
      var mTemp$3=null;
      if ((aFirst>=0)&&(aFirst<Self.FData.length)) {
         if ((aSecond>=0)&&(aSecond<Self.FData.length)) {
            if (aFirst!=aSecond) {
               mTemp$3=Self.FData[aFirst];
               Self.FData[aFirst]=Self.FData[aSecond];
               Self.FData[aSecond]=mTemp$3;
            };
         };
      };
   }
   ,Destroy$v:function(Self){return Self.ClassType.Destroy(Self)}
   ,Create$1$v:function(Self){return Self.ClassType.Create$1(Self)}
};
var TStringList={
   $ClassName:"TStringList",
   $Parent:TObject,
   $Init:function (Self) {
      TObject.$Init(Self);
      Self.FData=[];
      Self.FOnAdded=null;
      Self.FOnClear=null;
      Self.FOnDeleted=null;
   }
   ,Add:function(Self, value) {
      var Result=0;
      Self.FData.push(value);
      Result=Self.FData.length-1;
      if ((Self.FOnAdded!==null)) {
         Self.FOnAdded(Self);
      };
      return Result
   }
   ,Clear:function(Self) {
      Self.FData.length=0;
      if ((Self.FOnClear!==null)) {
         Self.FOnClear(Self);
      };
   }
   ,Create$1:function(Self) {
      TObject.Create(Self);
      Self.FData=$NewArray(0,function (){return ""});
      return Self
   }
   ,Destroy:function(Self) {
      Self.FData.length=0;
      TObject.Destroy(Self);
   }
   ,getCount:function(Self) {
      var Result=0;
      Result=Self.FData.length;
      return Result
   }
   ,getItem:function(Self, index) {
      var Result="";
      Result=Self.FData[index];
      return Result
   }
   ,getText:function(Self) {
      var Result="";
      var x$2=0;
      Result="";
      if (Self.FData.length>0) {
         var $tmp13;
         for(x$2=0,$tmp13=(Self.FData.length-1);x$2<=$tmp13;x$2++) {
            Result=Result+Self.FData[x$2]+"\r";
         }
      };
      return Result
   }
   ,IndexOf:function(Self, Value) {
      var Result=0;
      var x$2=0;
      Result=-1;
      var $tmp14;
      for(x$2=1,$tmp14=Self.FData.length;x$2<=$tmp14;x$2++) {
         if (Self.FData[(x$2-1)]==Value) {
            Result=x$2-1;
            break;
         };
      }
      return Result
   }
   ,Remove:function(Self, Index) {
      Self.FData.splice(Index,1);
      if ((Self.FOnDeleted!==null)) {
         Self.FOnDeleted(Self);
      };
   }
   ,setItem:function(Self, index, Value) {
      Self.FData[index]=Value;
   }
   ,setText:function(Self, Value) {
      Value={value:Value};
      var xpos$1=0;
      var mTemp$3="";
      Self.FData.length=0;
      xpos$1=Pos("\r",Value.value);
      if (xpos$1>0) {
         do {
            xpos$1=Pos("\r",Value.value);
            if (xpos$1>0) {
               mTemp$3=Copy(Value.value,1,xpos$1-1);
               Delete(Value,1,xpos$1);
               if ((Value.value).length>0) {
                  if (Value.value.charAt((1)-1)=="\n") {
                     Delete(Value,1,1);
                  };
               };
               Self.FData.push(mTemp$3);
            };
         } while (!(xpos$1<1));
         if ((Value.value).length>0) {
            Self.FData.push(Value.value);
         };
      } else {
         Self.FData.push(Value.value);
      };
   }
   ,Destroy$v:function(Self){return Self.ClassType.Destroy(Self)}
   ,Create$1$v:function(Self){return Self.ClassType.Create$1(Self)}
};
var TW3CustomForm={
   $ClassName:"TW3CustomForm",
   $Parent:TW3CustomControl,
   $Init:function (Self) {
      TW3CustomControl.$Init(Self);
      Self.FCaption="";
   }
   ,setCaption:function(Self, Value) {
      Self.FCaption=Value;
   }
   ,StyleTagObject:function(Self) {
      TW3CustomControl.StyleTagObject(Self);
      w3_setStyle(Self.FTagObj,"-webkit-transform","none");
      TW3CustomControl.setStyleClass(Self,"TW3CustomForm");
   }
   ,FormActivated:function(Self) {
      var x$2=0;
      var mCount=0;
      var mObj$1=null;
      var mControl=null;
      if (Self.FObjReady) {
         mCount=TW3Component.getChildCount(Self);
         var $tmp15;
         for(x$2=0,$tmp15=mCount-1;x$2<=$tmp15;x$2++) {
            mObj$1=TW3Component.getChildObject(Self,x$2);
            if ($Is(mObj$1,TW3CustomControl)) {
               mControl=$As(mObj$1,TW3CustomControl);
               if (mControl.FObjReady) {
                  if (TW3CustomControl.getVisible(mControl)) {
                     TW3Component.BeginUpdate(mControl);
                     $AsIntf(mControl,"IW3CustomControl")[1]();
                     TW3CustomControl.EndUpdate$v(mControl);
                  };
               };
            };
         }
      };
   }
   ,FormDeActivated:function(Self) {
   }
   ,Destroy:TW3TagObj.Destroy
   ,Destroy$v:TW3TagObj.Destroy$v
   ,makeElementTagId:TW3TagObj.makeElementTagId
   ,makeElementTagId$v:TW3TagObj.makeElementTagId$v
   ,makeElementTagObj:TW3TagObj.makeElementTagObj
   ,makeElementTagObj$v:TW3TagObj.makeElementTagObj$v
   ,StyleTagObject$v:function(Self){return Self.ClassType.StyleTagObject(Self)}
   ,InitializeObject:TW3CustomControl.InitializeObject
   ,InitializeObject$v:TW3CustomControl.InitializeObject$v
   ,FinalizeObject:TW3CustomControl.FinalizeObject
   ,FinalizeObject$v:TW3CustomControl.FinalizeObject$v
   ,UnHookEvents:TW3TagObj.UnHookEvents
   ,UnHookEvents$v:TW3TagObj.UnHookEvents$v
   ,Create$1:TW3TagObj.Create$1
   ,Create$1$v:TW3TagObj.Create$1$v
   ,AfterUpdate:TW3CustomControl.AfterUpdate
   ,AfterUpdate$v:TW3CustomControl.AfterUpdate$v
   ,CBNoBehavior:TW3Component.CBNoBehavior
   ,CBNoBehavior$v:TW3Component.CBNoBehavior$v
   ,EndUpdate:TW3Component.EndUpdate
   ,EndUpdate$v:TW3Component.EndUpdate$v
   ,Create$2:TW3Component.Create$2
   ,Create$2$v:TW3Component.Create$2$v
   ,CMTouchBegins:TW3CustomControl.CMTouchBegins
   ,CMTouchBegins$v:TW3CustomControl.CMTouchBegins$v
   ,CMTouchMove:TW3CustomControl.CMTouchMove
   ,CMTouchMove$v:TW3CustomControl.CMTouchMove$v
   ,CMTouchEnds:TW3CustomControl.CMTouchEnds
   ,CMTouchEnds$v:TW3CustomControl.CMTouchEnds$v
   ,CBMouseDown:TW3CustomControl.CBMouseDown
   ,CBMouseDown$v:TW3CustomControl.CBMouseDown$v
   ,CBMouseUp:TW3CustomControl.CBMouseUp
   ,CBMouseUp$v:TW3CustomControl.CBMouseUp$v
   ,CBMouseMove:TW3CustomControl.CBMouseMove
   ,CBMouseMove$v:TW3CustomControl.CBMouseMove$v
   ,CBMouseOver:TW3CustomControl.CBMouseOver
   ,CBMouseOver$v:TW3CustomControl.CBMouseOver$v
   ,CBMouseOut:TW3CustomControl.CBMouseOut
   ,CBMouseOut$v:TW3CustomControl.CBMouseOut$v
   ,CBClick:TW3CustomControl.CBClick
   ,CBClick$v:TW3CustomControl.CBClick$v
   ,CBDblClick:TW3CustomControl.CBDblClick
   ,CBDblClick$v:TW3CustomControl.CBDblClick$v
   ,CBKeyPress:TW3CustomControl.CBKeyPress
   ,CBKeyPress$v:TW3CustomControl.CBKeyPress$v
   ,CBKeyDown:TW3CustomControl.CBKeyDown
   ,CBKeyDown$v:TW3CustomControl.CBKeyDown$v
   ,CBKeyUp:TW3CustomControl.CBKeyUp
   ,CBKeyUp$v:TW3CustomControl.CBKeyUp$v
   ,CBAnimationBegins:TW3CustomControl.CBAnimationBegins
   ,CBAnimationBegins$v:TW3CustomControl.CBAnimationBegins$v
   ,CBAnimationEnds:TW3CustomControl.CBAnimationEnds
   ,CBAnimationEnds$v:TW3CustomControl.CBAnimationEnds$v
   ,CBChanged:TW3CustomControl.CBChanged
   ,CBChanged$v:TW3CustomControl.CBChanged$v
   ,CBFocused:TW3CustomControl.CBFocused
   ,CBFocused$v:TW3CustomControl.CBFocused$v
   ,CBLostFocus:TW3CustomControl.CBLostFocus
   ,CBLostFocus$v:TW3CustomControl.CBLostFocus$v
   ,getWidth:TW3CustomControl.getWidth
   ,getWidth$v:TW3CustomControl.getWidth$v
   ,getHeight:TW3CustomControl.getHeight
   ,getHeight$v:TW3CustomControl.getHeight$v
   ,setLeft:TW3CustomControl.setLeft
   ,setLeft$v:TW3CustomControl.setLeft$v
   ,setTop:TW3CustomControl.setTop
   ,setTop$v:TW3CustomControl.setTop$v
   ,setWidth:TW3CustomControl.setWidth
   ,setWidth$v:TW3CustomControl.setWidth$v
   ,setHeight:TW3CustomControl.setHeight
   ,setHeight$v:TW3CustomControl.setHeight$v
   ,Moved:TW3CustomControl.Moved
   ,Moved$v:TW3CustomControl.Moved$v
   ,Resize:TW3CustomControl.Resize
   ,Resize$v:TW3CustomControl.Resize$v
   ,Invalidate:TW3CustomControl.Invalidate
   ,Invalidate$v:TW3CustomControl.Invalidate$v
   ,FormActivated$v:function(Self){return Self.ClassType.FormActivated(Self)}
   ,FormDeActivated$v:function(Self){return Self.ClassType.FormDeActivated(Self)}
};
TW3CustomForm.$Intf={
   IW3CustomControl:[TW3CustomControl.setWasMoved,TW3CustomControl.setWasSized]
};
var TW3Form={
   $ClassName:"TW3Form",
   $Parent:TW3CustomForm,
   $Init:function (Self) {
      TW3CustomForm.$Init(Self);
   }
   ,Destroy:TW3TagObj.Destroy
   ,Destroy$v:TW3TagObj.Destroy$v
   ,makeElementTagId:TW3TagObj.makeElementTagId
   ,makeElementTagId$v:TW3TagObj.makeElementTagId$v
   ,makeElementTagObj:TW3TagObj.makeElementTagObj
   ,makeElementTagObj$v:TW3TagObj.makeElementTagObj$v
   ,StyleTagObject:TW3CustomForm.StyleTagObject
   ,StyleTagObject$v:TW3CustomForm.StyleTagObject$v
   ,InitializeObject:TW3CustomControl.InitializeObject
   ,InitializeObject$v:TW3CustomControl.InitializeObject$v
   ,FinalizeObject:TW3CustomControl.FinalizeObject
   ,FinalizeObject$v:TW3CustomControl.FinalizeObject$v
   ,UnHookEvents:TW3TagObj.UnHookEvents
   ,UnHookEvents$v:TW3TagObj.UnHookEvents$v
   ,Create$1:TW3TagObj.Create$1
   ,Create$1$v:TW3TagObj.Create$1$v
   ,AfterUpdate:TW3CustomControl.AfterUpdate
   ,AfterUpdate$v:TW3CustomControl.AfterUpdate$v
   ,CBNoBehavior:TW3Component.CBNoBehavior
   ,CBNoBehavior$v:TW3Component.CBNoBehavior$v
   ,EndUpdate:TW3Component.EndUpdate
   ,EndUpdate$v:TW3Component.EndUpdate$v
   ,Create$2:TW3Component.Create$2
   ,Create$2$v:TW3Component.Create$2$v
   ,CMTouchBegins:TW3CustomControl.CMTouchBegins
   ,CMTouchBegins$v:TW3CustomControl.CMTouchBegins$v
   ,CMTouchMove:TW3CustomControl.CMTouchMove
   ,CMTouchMove$v:TW3CustomControl.CMTouchMove$v
   ,CMTouchEnds:TW3CustomControl.CMTouchEnds
   ,CMTouchEnds$v:TW3CustomControl.CMTouchEnds$v
   ,CBMouseDown:TW3CustomControl.CBMouseDown
   ,CBMouseDown$v:TW3CustomControl.CBMouseDown$v
   ,CBMouseUp:TW3CustomControl.CBMouseUp
   ,CBMouseUp$v:TW3CustomControl.CBMouseUp$v
   ,CBMouseMove:TW3CustomControl.CBMouseMove
   ,CBMouseMove$v:TW3CustomControl.CBMouseMove$v
   ,CBMouseOver:TW3CustomControl.CBMouseOver
   ,CBMouseOver$v:TW3CustomControl.CBMouseOver$v
   ,CBMouseOut:TW3CustomControl.CBMouseOut
   ,CBMouseOut$v:TW3CustomControl.CBMouseOut$v
   ,CBClick:TW3CustomControl.CBClick
   ,CBClick$v:TW3CustomControl.CBClick$v
   ,CBDblClick:TW3CustomControl.CBDblClick
   ,CBDblClick$v:TW3CustomControl.CBDblClick$v
   ,CBKeyPress:TW3CustomControl.CBKeyPress
   ,CBKeyPress$v:TW3CustomControl.CBKeyPress$v
   ,CBKeyDown:TW3CustomControl.CBKeyDown
   ,CBKeyDown$v:TW3CustomControl.CBKeyDown$v
   ,CBKeyUp:TW3CustomControl.CBKeyUp
   ,CBKeyUp$v:TW3CustomControl.CBKeyUp$v
   ,CBAnimationBegins:TW3CustomControl.CBAnimationBegins
   ,CBAnimationBegins$v:TW3CustomControl.CBAnimationBegins$v
   ,CBAnimationEnds:TW3CustomControl.CBAnimationEnds
   ,CBAnimationEnds$v:TW3CustomControl.CBAnimationEnds$v
   ,CBChanged:TW3CustomControl.CBChanged
   ,CBChanged$v:TW3CustomControl.CBChanged$v
   ,CBFocused:TW3CustomControl.CBFocused
   ,CBFocused$v:TW3CustomControl.CBFocused$v
   ,CBLostFocus:TW3CustomControl.CBLostFocus
   ,CBLostFocus$v:TW3CustomControl.CBLostFocus$v
   ,getWidth:TW3CustomControl.getWidth
   ,getWidth$v:TW3CustomControl.getWidth$v
   ,getHeight:TW3CustomControl.getHeight
   ,getHeight$v:TW3CustomControl.getHeight$v
   ,setLeft:TW3CustomControl.setLeft
   ,setLeft$v:TW3CustomControl.setLeft$v
   ,setTop:TW3CustomControl.setTop
   ,setTop$v:TW3CustomControl.setTop$v
   ,setWidth:TW3CustomControl.setWidth
   ,setWidth$v:TW3CustomControl.setWidth$v
   ,setHeight:TW3CustomControl.setHeight
   ,setHeight$v:TW3CustomControl.setHeight$v
   ,Moved:TW3CustomControl.Moved
   ,Moved$v:TW3CustomControl.Moved$v
   ,Resize:TW3CustomControl.Resize
   ,Resize$v:TW3CustomControl.Resize$v
   ,Invalidate:TW3CustomControl.Invalidate
   ,Invalidate$v:TW3CustomControl.Invalidate$v
   ,FormActivated:TW3CustomForm.FormActivated
   ,FormActivated$v:TW3CustomForm.FormActivated$v
   ,FormDeActivated:TW3CustomForm.FormDeActivated
   ,FormDeActivated$v:TW3CustomForm.FormDeActivated$v
};
TW3Form.$Intf={
   IW3CustomControl:[TW3CustomControl.setWasMoved,TW3CustomControl.setWasSized]
};
var TW3ToolButton={
   $ClassName:"TW3ToolButton",
   $Parent:TW3CustomControl,
   $Init:function (Self) {
      TW3CustomControl.$Init(Self);
   }
   ,getCaption:function(Self) {
      var Result="";
      Result=w3_getPropertyAsStr(Self.FTagObj,"innerText");
      return Result
   }
   ,setCaption:function(Self, aNewCaption) {
      w3_setProperty(Self.FTagObj,"innerText",aNewCaption);
   }
   ,makeElementTagObj:function(Self) {
      var Result=null;
      Result=w3_createElement("button");
      return Result
   }
   ,StyleTagObject:function(Self) {
      TW3CustomControl.StyleTagObject(Self);
      w3_setStyle(Self.FTagObj,"fontSmooth","always");
   }
   ,InitializeObject:function(Self) {
      TW3CustomControl.InitializeObject(Self);
      TW3ToolButton.setWidth$v(Self,70);
      TW3ToolButton.setHeight$v(Self,30);
   }
   ,Destroy:TW3TagObj.Destroy
   ,Destroy$v:TW3TagObj.Destroy$v
   ,makeElementTagId:TW3TagObj.makeElementTagId
   ,makeElementTagId$v:TW3TagObj.makeElementTagId$v
   ,makeElementTagObj$v:function(Self){return Self.ClassType.makeElementTagObj(Self)}
   ,StyleTagObject$v:function(Self){return Self.ClassType.StyleTagObject(Self)}
   ,InitializeObject$v:function(Self){return Self.ClassType.InitializeObject(Self)}
   ,FinalizeObject:TW3CustomControl.FinalizeObject
   ,FinalizeObject$v:TW3CustomControl.FinalizeObject$v
   ,UnHookEvents:TW3TagObj.UnHookEvents
   ,UnHookEvents$v:TW3TagObj.UnHookEvents$v
   ,Create$1:TW3TagObj.Create$1
   ,Create$1$v:TW3TagObj.Create$1$v
   ,AfterUpdate:TW3CustomControl.AfterUpdate
   ,AfterUpdate$v:TW3CustomControl.AfterUpdate$v
   ,CBNoBehavior:TW3Component.CBNoBehavior
   ,CBNoBehavior$v:TW3Component.CBNoBehavior$v
   ,EndUpdate:TW3Component.EndUpdate
   ,EndUpdate$v:TW3Component.EndUpdate$v
   ,Create$2:TW3Component.Create$2
   ,Create$2$v:TW3Component.Create$2$v
   ,CMTouchBegins:TW3CustomControl.CMTouchBegins
   ,CMTouchBegins$v:TW3CustomControl.CMTouchBegins$v
   ,CMTouchMove:TW3CustomControl.CMTouchMove
   ,CMTouchMove$v:TW3CustomControl.CMTouchMove$v
   ,CMTouchEnds:TW3CustomControl.CMTouchEnds
   ,CMTouchEnds$v:TW3CustomControl.CMTouchEnds$v
   ,CBMouseDown:TW3CustomControl.CBMouseDown
   ,CBMouseDown$v:TW3CustomControl.CBMouseDown$v
   ,CBMouseUp:TW3CustomControl.CBMouseUp
   ,CBMouseUp$v:TW3CustomControl.CBMouseUp$v
   ,CBMouseMove:TW3CustomControl.CBMouseMove
   ,CBMouseMove$v:TW3CustomControl.CBMouseMove$v
   ,CBMouseOver:TW3CustomControl.CBMouseOver
   ,CBMouseOver$v:TW3CustomControl.CBMouseOver$v
   ,CBMouseOut:TW3CustomControl.CBMouseOut
   ,CBMouseOut$v:TW3CustomControl.CBMouseOut$v
   ,CBClick:TW3CustomControl.CBClick
   ,CBClick$v:TW3CustomControl.CBClick$v
   ,CBDblClick:TW3CustomControl.CBDblClick
   ,CBDblClick$v:TW3CustomControl.CBDblClick$v
   ,CBKeyPress:TW3CustomControl.CBKeyPress
   ,CBKeyPress$v:TW3CustomControl.CBKeyPress$v
   ,CBKeyDown:TW3CustomControl.CBKeyDown
   ,CBKeyDown$v:TW3CustomControl.CBKeyDown$v
   ,CBKeyUp:TW3CustomControl.CBKeyUp
   ,CBKeyUp$v:TW3CustomControl.CBKeyUp$v
   ,CBAnimationBegins:TW3CustomControl.CBAnimationBegins
   ,CBAnimationBegins$v:TW3CustomControl.CBAnimationBegins$v
   ,CBAnimationEnds:TW3CustomControl.CBAnimationEnds
   ,CBAnimationEnds$v:TW3CustomControl.CBAnimationEnds$v
   ,CBChanged:TW3CustomControl.CBChanged
   ,CBChanged$v:TW3CustomControl.CBChanged$v
   ,CBFocused:TW3CustomControl.CBFocused
   ,CBFocused$v:TW3CustomControl.CBFocused$v
   ,CBLostFocus:TW3CustomControl.CBLostFocus
   ,CBLostFocus$v:TW3CustomControl.CBLostFocus$v
   ,getWidth:TW3CustomControl.getWidth
   ,getWidth$v:TW3CustomControl.getWidth$v
   ,getHeight:TW3CustomControl.getHeight
   ,getHeight$v:TW3CustomControl.getHeight$v
   ,setLeft:TW3CustomControl.setLeft
   ,setLeft$v:TW3CustomControl.setLeft$v
   ,setTop:TW3CustomControl.setTop
   ,setTop$v:TW3CustomControl.setTop$v
   ,setWidth:TW3CustomControl.setWidth
   ,setWidth$v:TW3CustomControl.setWidth$v
   ,setHeight:TW3CustomControl.setHeight
   ,setHeight$v:TW3CustomControl.setHeight$v
   ,Moved:TW3CustomControl.Moved
   ,Moved$v:TW3CustomControl.Moved$v
   ,Resize:TW3CustomControl.Resize
   ,Resize$v:TW3CustomControl.Resize$v
   ,Invalidate:TW3CustomControl.Invalidate
   ,Invalidate$v:TW3CustomControl.Invalidate$v
};
TW3ToolButton.$Intf={
   IW3CustomControl:[TW3CustomControl.setWasMoved,TW3CustomControl.setWasSized]
};
var TW3Panel={
   $ClassName:"TW3Panel",
   $Parent:TW3CustomControl,
   $Init:function (Self) {
      TW3CustomControl.$Init(Self);
   }
   ,Destroy:TW3TagObj.Destroy
   ,Destroy$v:TW3TagObj.Destroy$v
   ,makeElementTagId:TW3TagObj.makeElementTagId
   ,makeElementTagId$v:TW3TagObj.makeElementTagId$v
   ,makeElementTagObj:TW3TagObj.makeElementTagObj
   ,makeElementTagObj$v:TW3TagObj.makeElementTagObj$v
   ,StyleTagObject:TW3CustomControl.StyleTagObject
   ,StyleTagObject$v:TW3CustomControl.StyleTagObject$v
   ,InitializeObject:TW3CustomControl.InitializeObject
   ,InitializeObject$v:TW3CustomControl.InitializeObject$v
   ,FinalizeObject:TW3CustomControl.FinalizeObject
   ,FinalizeObject$v:TW3CustomControl.FinalizeObject$v
   ,UnHookEvents:TW3TagObj.UnHookEvents
   ,UnHookEvents$v:TW3TagObj.UnHookEvents$v
   ,Create$1:TW3TagObj.Create$1
   ,Create$1$v:TW3TagObj.Create$1$v
   ,AfterUpdate:TW3CustomControl.AfterUpdate
   ,AfterUpdate$v:TW3CustomControl.AfterUpdate$v
   ,CBNoBehavior:TW3Component.CBNoBehavior
   ,CBNoBehavior$v:TW3Component.CBNoBehavior$v
   ,EndUpdate:TW3Component.EndUpdate
   ,EndUpdate$v:TW3Component.EndUpdate$v
   ,Create$2:TW3Component.Create$2
   ,Create$2$v:TW3Component.Create$2$v
   ,CMTouchBegins:TW3CustomControl.CMTouchBegins
   ,CMTouchBegins$v:TW3CustomControl.CMTouchBegins$v
   ,CMTouchMove:TW3CustomControl.CMTouchMove
   ,CMTouchMove$v:TW3CustomControl.CMTouchMove$v
   ,CMTouchEnds:TW3CustomControl.CMTouchEnds
   ,CMTouchEnds$v:TW3CustomControl.CMTouchEnds$v
   ,CBMouseDown:TW3CustomControl.CBMouseDown
   ,CBMouseDown$v:TW3CustomControl.CBMouseDown$v
   ,CBMouseUp:TW3CustomControl.CBMouseUp
   ,CBMouseUp$v:TW3CustomControl.CBMouseUp$v
   ,CBMouseMove:TW3CustomControl.CBMouseMove
   ,CBMouseMove$v:TW3CustomControl.CBMouseMove$v
   ,CBMouseOver:TW3CustomControl.CBMouseOver
   ,CBMouseOver$v:TW3CustomControl.CBMouseOver$v
   ,CBMouseOut:TW3CustomControl.CBMouseOut
   ,CBMouseOut$v:TW3CustomControl.CBMouseOut$v
   ,CBClick:TW3CustomControl.CBClick
   ,CBClick$v:TW3CustomControl.CBClick$v
   ,CBDblClick:TW3CustomControl.CBDblClick
   ,CBDblClick$v:TW3CustomControl.CBDblClick$v
   ,CBKeyPress:TW3CustomControl.CBKeyPress
   ,CBKeyPress$v:TW3CustomControl.CBKeyPress$v
   ,CBKeyDown:TW3CustomControl.CBKeyDown
   ,CBKeyDown$v:TW3CustomControl.CBKeyDown$v
   ,CBKeyUp:TW3CustomControl.CBKeyUp
   ,CBKeyUp$v:TW3CustomControl.CBKeyUp$v
   ,CBAnimationBegins:TW3CustomControl.CBAnimationBegins
   ,CBAnimationBegins$v:TW3CustomControl.CBAnimationBegins$v
   ,CBAnimationEnds:TW3CustomControl.CBAnimationEnds
   ,CBAnimationEnds$v:TW3CustomControl.CBAnimationEnds$v
   ,CBChanged:TW3CustomControl.CBChanged
   ,CBChanged$v:TW3CustomControl.CBChanged$v
   ,CBFocused:TW3CustomControl.CBFocused
   ,CBFocused$v:TW3CustomControl.CBFocused$v
   ,CBLostFocus:TW3CustomControl.CBLostFocus
   ,CBLostFocus$v:TW3CustomControl.CBLostFocus$v
   ,getWidth:TW3CustomControl.getWidth
   ,getWidth$v:TW3CustomControl.getWidth$v
   ,getHeight:TW3CustomControl.getHeight
   ,getHeight$v:TW3CustomControl.getHeight$v
   ,setLeft:TW3CustomControl.setLeft
   ,setLeft$v:TW3CustomControl.setLeft$v
   ,setTop:TW3CustomControl.setTop
   ,setTop$v:TW3CustomControl.setTop$v
   ,setWidth:TW3CustomControl.setWidth
   ,setWidth$v:TW3CustomControl.setWidth$v
   ,setHeight:TW3CustomControl.setHeight
   ,setHeight$v:TW3CustomControl.setHeight$v
   ,Moved:TW3CustomControl.Moved
   ,Moved$v:TW3CustomControl.Moved$v
   ,Resize:TW3CustomControl.Resize
   ,Resize$v:TW3CustomControl.Resize$v
   ,Invalidate:TW3CustomControl.Invalidate
   ,Invalidate$v:TW3CustomControl.Invalidate$v
};
TW3Panel.$Intf={
   IW3CustomControl:[TW3CustomControl.setWasMoved,TW3CustomControl.setWasSized]
};
var TW3ListMenu={
   $ClassName:"TW3ListMenu",
   $Parent:TW3CustomControl,
   $Init:function (Self) {
      TW3CustomControl.$Init(Self);
      Self.FItems=null;
   }
   ,makeElementTagObj:function(Self) {
      var Result=null;
      Result=w3_createElement("ul");
      return Result
   }
   ,InitializeObject:function(Self) {
      TW3CustomControl.InitializeObject(Self);
      Self.FItems=TW3ListItems.Create$1$v($New(TW3ListItems),Self);
   }
   ,FinalizeObject:function(Self) {
      TObject.Free(Self.FItems);
      TW3CustomControl.FinalizeObject(Self);
   }
   ,StyleTagObject:function(Self) {
      TW3CustomControl.StyleTagObject(Self);
      TW3CustomControl.setStyleClass(Self,"ul");
   }
   ,Destroy:TW3TagObj.Destroy
   ,Destroy$v:TW3TagObj.Destroy$v
   ,makeElementTagId:TW3TagObj.makeElementTagId
   ,makeElementTagId$v:TW3TagObj.makeElementTagId$v
   ,makeElementTagObj$v:function(Self){return Self.ClassType.makeElementTagObj(Self)}
   ,StyleTagObject$v:function(Self){return Self.ClassType.StyleTagObject(Self)}
   ,InitializeObject$v:function(Self){return Self.ClassType.InitializeObject(Self)}
   ,FinalizeObject$v:function(Self){return Self.ClassType.FinalizeObject(Self)}
   ,UnHookEvents:TW3TagObj.UnHookEvents
   ,UnHookEvents$v:TW3TagObj.UnHookEvents$v
   ,Create$1:TW3TagObj.Create$1
   ,Create$1$v:TW3TagObj.Create$1$v
   ,AfterUpdate:TW3CustomControl.AfterUpdate
   ,AfterUpdate$v:TW3CustomControl.AfterUpdate$v
   ,CBNoBehavior:TW3Component.CBNoBehavior
   ,CBNoBehavior$v:TW3Component.CBNoBehavior$v
   ,EndUpdate:TW3Component.EndUpdate
   ,EndUpdate$v:TW3Component.EndUpdate$v
   ,Create$2:TW3Component.Create$2
   ,Create$2$v:TW3Component.Create$2$v
   ,CMTouchBegins:TW3CustomControl.CMTouchBegins
   ,CMTouchBegins$v:TW3CustomControl.CMTouchBegins$v
   ,CMTouchMove:TW3CustomControl.CMTouchMove
   ,CMTouchMove$v:TW3CustomControl.CMTouchMove$v
   ,CMTouchEnds:TW3CustomControl.CMTouchEnds
   ,CMTouchEnds$v:TW3CustomControl.CMTouchEnds$v
   ,CBMouseDown:TW3CustomControl.CBMouseDown
   ,CBMouseDown$v:TW3CustomControl.CBMouseDown$v
   ,CBMouseUp:TW3CustomControl.CBMouseUp
   ,CBMouseUp$v:TW3CustomControl.CBMouseUp$v
   ,CBMouseMove:TW3CustomControl.CBMouseMove
   ,CBMouseMove$v:TW3CustomControl.CBMouseMove$v
   ,CBMouseOver:TW3CustomControl.CBMouseOver
   ,CBMouseOver$v:TW3CustomControl.CBMouseOver$v
   ,CBMouseOut:TW3CustomControl.CBMouseOut
   ,CBMouseOut$v:TW3CustomControl.CBMouseOut$v
   ,CBClick:TW3CustomControl.CBClick
   ,CBClick$v:TW3CustomControl.CBClick$v
   ,CBDblClick:TW3CustomControl.CBDblClick
   ,CBDblClick$v:TW3CustomControl.CBDblClick$v
   ,CBKeyPress:TW3CustomControl.CBKeyPress
   ,CBKeyPress$v:TW3CustomControl.CBKeyPress$v
   ,CBKeyDown:TW3CustomControl.CBKeyDown
   ,CBKeyDown$v:TW3CustomControl.CBKeyDown$v
   ,CBKeyUp:TW3CustomControl.CBKeyUp
   ,CBKeyUp$v:TW3CustomControl.CBKeyUp$v
   ,CBAnimationBegins:TW3CustomControl.CBAnimationBegins
   ,CBAnimationBegins$v:TW3CustomControl.CBAnimationBegins$v
   ,CBAnimationEnds:TW3CustomControl.CBAnimationEnds
   ,CBAnimationEnds$v:TW3CustomControl.CBAnimationEnds$v
   ,CBChanged:TW3CustomControl.CBChanged
   ,CBChanged$v:TW3CustomControl.CBChanged$v
   ,CBFocused:TW3CustomControl.CBFocused
   ,CBFocused$v:TW3CustomControl.CBFocused$v
   ,CBLostFocus:TW3CustomControl.CBLostFocus
   ,CBLostFocus$v:TW3CustomControl.CBLostFocus$v
   ,getWidth:TW3CustomControl.getWidth
   ,getWidth$v:TW3CustomControl.getWidth$v
   ,getHeight:TW3CustomControl.getHeight
   ,getHeight$v:TW3CustomControl.getHeight$v
   ,setLeft:TW3CustomControl.setLeft
   ,setLeft$v:TW3CustomControl.setLeft$v
   ,setTop:TW3CustomControl.setTop
   ,setTop$v:TW3CustomControl.setTop$v
   ,setWidth:TW3CustomControl.setWidth
   ,setWidth$v:TW3CustomControl.setWidth$v
   ,setHeight:TW3CustomControl.setHeight
   ,setHeight$v:TW3CustomControl.setHeight$v
   ,Moved:TW3CustomControl.Moved
   ,Moved$v:TW3CustomControl.Moved$v
   ,Resize:TW3CustomControl.Resize
   ,Resize$v:TW3CustomControl.Resize$v
   ,Invalidate:TW3CustomControl.Invalidate
   ,Invalidate$v:TW3CustomControl.Invalidate$v
};
TW3ListMenu.$Intf={
   IW3CustomControl:[TW3CustomControl.setWasMoved,TW3CustomControl.setWasSized]
};
var TW3ListItems={
   $ClassName:"TW3ListItems",
   $Parent:TW3OwnedObject,
   $Init:function (Self) {
      TW3OwnedObject.$Init(Self);
      Self.FObjects=null;
   }
   ,AcceptParent:function(Self, aObject) {
      var Result=false;
      Result=(aObject!==null)&&$Is(aObject,TW3ListMenu);
      return Result
   }
   ,Add:function(Self) {
      var Result=null;
      Result=TW3ListItem.Create$2$v($New(TW3ListItem),$As(Self.FOwner,TW3ListMenu));
      TObjectList.Add(Self.FObjects,Result);
      return Result
   }
   ,Clear:function(Self) {
      var x$2=0;
      var $tmp16;
      for(x$2=0,$tmp16=TObjectList.getCount(Self.FObjects)-1;x$2<=$tmp16;x$2++) {
         TObject.Free($As(TObjectList.getItem(Self.FObjects,x$2),TW3ListItem));
      }
      TObjectList.Clear(Self.FObjects);
   }
   ,Create$1:function(Self, AOwner) {
      TW3OwnedObject.Create$1(Self,AOwner);
      Self.FObjects=TObjectList.Create$1$v($New(TObjectList));
      return Self
   }
   ,Destroy:function(Self) {
      TW3ListItems.Clear(Self);
      TObject.Free(Self.FObjects);
      TObject.Destroy(Self);
   }
   ,getCount:function(Self) {
      var Result=0;
      Result=TObjectList.getCount(Self.FObjects);
      return Result
   }
   ,getItem:function(Self, index) {
      var Result=null;
      Result=$As(TObjectList.getItem(Self.FObjects,index),TW3ListItem);
      return Result
   }
   ,IndexOf:function(Self, aItem) {
      var Result=0;
      Result=TObjectList.IndexOf(Self.FObjects,aItem);
      return Result
   }
   ,Remove:function(Self, index) {
      TObject.Free($As(TObjectList.getItem(Self.FObjects,index),TW3ListItem));
      TObjectList.Remove(Self.FObjects,index);
   }
   ,RemoveByRef:function(Self, aItem) {
      TW3ListItems.Remove(Self,TObjectList.IndexOf(Self.FObjects,aItem));
   }
   ,Destroy$v:function(Self){return Self.ClassType.Destroy(Self)}
   ,AcceptParent$v:function(Self){return Self.ClassType.AcceptParent.apply(Self.ClassType, arguments)}
   ,Create$1$v:function(Self){return Self.ClassType.Create$1.apply(Self.ClassType, arguments)}
};
var TW3ListItem={
   $ClassName:"TW3ListItem",
   $Parent:TW3CustomControl,
   $Init:function (Self) {
      TW3CustomControl.$Init(Self);
      Self.FText="";
   }
   ,setText:function(Self, aValue) {
      var mText="";
      if (aValue!=Self.FText) {
         Self.FText=aValue;
         TW3TagObj.setInnerHTML(Self,Self.FText+"<img valign=\"middle\" align=\"right\" alt=\"\""+"src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAA"+"ABkAAAAUCAYAAAB4d5a9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccll"+"PAAAAKVJREFUeNpi/P//PwOtARMDHcDwsYQFRJSXl8P4dVC6CZvizs5O8i1BsqARid9E"+"i+BiQ2KDLKumhSU1QNyKxG+hlkXoEQ+yqAPNogpapK5KNIvaKbUIVxKeAsTvkPg5QCxE"+"TUukgfgAkqFPgdgBzVKKLIFZoIJmwR1qBRdNLEC2BJQpV9LCAmRL/gBxAtRwqlqAXqzc"+"gRrOQE0LQIBxtNIiBQAEGAA7xCa2yF9zEgAAAABJRU5ErkJggg==\" />");
      };
   }
   ,makeElementTagObj:function(Self) {
      var Result=null;
      Result=w3_createElement("li");
      return Result
   }
   ,StyleTagObject:function(Self) {
      TW3CustomControl.setStyleClass(Self,"li");
   }
   ,Destroy:TW3TagObj.Destroy
   ,Destroy$v:TW3TagObj.Destroy$v
   ,makeElementTagId:TW3TagObj.makeElementTagId
   ,makeElementTagId$v:TW3TagObj.makeElementTagId$v
   ,makeElementTagObj$v:function(Self){return Self.ClassType.makeElementTagObj(Self)}
   ,StyleTagObject$v:function(Self){return Self.ClassType.StyleTagObject(Self)}
   ,InitializeObject:TW3CustomControl.InitializeObject
   ,InitializeObject$v:TW3CustomControl.InitializeObject$v
   ,FinalizeObject:TW3CustomControl.FinalizeObject
   ,FinalizeObject$v:TW3CustomControl.FinalizeObject$v
   ,UnHookEvents:TW3TagObj.UnHookEvents
   ,UnHookEvents$v:TW3TagObj.UnHookEvents$v
   ,Create$1:TW3TagObj.Create$1
   ,Create$1$v:TW3TagObj.Create$1$v
   ,AfterUpdate:TW3CustomControl.AfterUpdate
   ,AfterUpdate$v:TW3CustomControl.AfterUpdate$v
   ,CBNoBehavior:TW3Component.CBNoBehavior
   ,CBNoBehavior$v:TW3Component.CBNoBehavior$v
   ,EndUpdate:TW3Component.EndUpdate
   ,EndUpdate$v:TW3Component.EndUpdate$v
   ,Create$2:TW3Component.Create$2
   ,Create$2$v:TW3Component.Create$2$v
   ,CMTouchBegins:TW3CustomControl.CMTouchBegins
   ,CMTouchBegins$v:TW3CustomControl.CMTouchBegins$v
   ,CMTouchMove:TW3CustomControl.CMTouchMove
   ,CMTouchMove$v:TW3CustomControl.CMTouchMove$v
   ,CMTouchEnds:TW3CustomControl.CMTouchEnds
   ,CMTouchEnds$v:TW3CustomControl.CMTouchEnds$v
   ,CBMouseDown:TW3CustomControl.CBMouseDown
   ,CBMouseDown$v:TW3CustomControl.CBMouseDown$v
   ,CBMouseUp:TW3CustomControl.CBMouseUp
   ,CBMouseUp$v:TW3CustomControl.CBMouseUp$v
   ,CBMouseMove:TW3CustomControl.CBMouseMove
   ,CBMouseMove$v:TW3CustomControl.CBMouseMove$v
   ,CBMouseOver:TW3CustomControl.CBMouseOver
   ,CBMouseOver$v:TW3CustomControl.CBMouseOver$v
   ,CBMouseOut:TW3CustomControl.CBMouseOut
   ,CBMouseOut$v:TW3CustomControl.CBMouseOut$v
   ,CBClick:TW3CustomControl.CBClick
   ,CBClick$v:TW3CustomControl.CBClick$v
   ,CBDblClick:TW3CustomControl.CBDblClick
   ,CBDblClick$v:TW3CustomControl.CBDblClick$v
   ,CBKeyPress:TW3CustomControl.CBKeyPress
   ,CBKeyPress$v:TW3CustomControl.CBKeyPress$v
   ,CBKeyDown:TW3CustomControl.CBKeyDown
   ,CBKeyDown$v:TW3CustomControl.CBKeyDown$v
   ,CBKeyUp:TW3CustomControl.CBKeyUp
   ,CBKeyUp$v:TW3CustomControl.CBKeyUp$v
   ,CBAnimationBegins:TW3CustomControl.CBAnimationBegins
   ,CBAnimationBegins$v:TW3CustomControl.CBAnimationBegins$v
   ,CBAnimationEnds:TW3CustomControl.CBAnimationEnds
   ,CBAnimationEnds$v:TW3CustomControl.CBAnimationEnds$v
   ,CBChanged:TW3CustomControl.CBChanged
   ,CBChanged$v:TW3CustomControl.CBChanged$v
   ,CBFocused:TW3CustomControl.CBFocused
   ,CBFocused$v:TW3CustomControl.CBFocused$v
   ,CBLostFocus:TW3CustomControl.CBLostFocus
   ,CBLostFocus$v:TW3CustomControl.CBLostFocus$v
   ,getWidth:TW3CustomControl.getWidth
   ,getWidth$v:TW3CustomControl.getWidth$v
   ,getHeight:TW3CustomControl.getHeight
   ,getHeight$v:TW3CustomControl.getHeight$v
   ,setLeft:TW3CustomControl.setLeft
   ,setLeft$v:TW3CustomControl.setLeft$v
   ,setTop:TW3CustomControl.setTop
   ,setTop$v:TW3CustomControl.setTop$v
   ,setWidth:TW3CustomControl.setWidth
   ,setWidth$v:TW3CustomControl.setWidth$v
   ,setHeight:TW3CustomControl.setHeight
   ,setHeight$v:TW3CustomControl.setHeight$v
   ,Moved:TW3CustomControl.Moved
   ,Moved$v:TW3CustomControl.Moved$v
   ,Resize:TW3CustomControl.Resize
   ,Resize$v:TW3CustomControl.Resize$v
   ,Invalidate:TW3CustomControl.Invalidate
   ,Invalidate$v:TW3CustomControl.Invalidate$v
};
TW3ListItem.$Intf={
   IW3CustomControl:[TW3CustomControl.setWasMoved,TW3CustomControl.setWasSized]
};
var TW3LabelText={
   $ClassName:"TW3LabelText",
   $Parent:TW3CustomControl,
   $Init:function (Self) {
      TW3CustomControl.$Init(Self);
   }
   ,Destroy:TW3TagObj.Destroy
   ,Destroy$v:TW3TagObj.Destroy$v
   ,makeElementTagId:TW3TagObj.makeElementTagId
   ,makeElementTagId$v:TW3TagObj.makeElementTagId$v
   ,makeElementTagObj:TW3TagObj.makeElementTagObj
   ,makeElementTagObj$v:TW3TagObj.makeElementTagObj$v
   ,StyleTagObject:TW3CustomControl.StyleTagObject
   ,StyleTagObject$v:TW3CustomControl.StyleTagObject$v
   ,InitializeObject:TW3CustomControl.InitializeObject
   ,InitializeObject$v:TW3CustomControl.InitializeObject$v
   ,FinalizeObject:TW3CustomControl.FinalizeObject
   ,FinalizeObject$v:TW3CustomControl.FinalizeObject$v
   ,UnHookEvents:TW3TagObj.UnHookEvents
   ,UnHookEvents$v:TW3TagObj.UnHookEvents$v
   ,Create$1:TW3TagObj.Create$1
   ,Create$1$v:TW3TagObj.Create$1$v
   ,AfterUpdate:TW3CustomControl.AfterUpdate
   ,AfterUpdate$v:TW3CustomControl.AfterUpdate$v
   ,CBNoBehavior:TW3Component.CBNoBehavior
   ,CBNoBehavior$v:TW3Component.CBNoBehavior$v
   ,EndUpdate:TW3Component.EndUpdate
   ,EndUpdate$v:TW3Component.EndUpdate$v
   ,Create$2:TW3Component.Create$2
   ,Create$2$v:TW3Component.Create$2$v
   ,CMTouchBegins:TW3CustomControl.CMTouchBegins
   ,CMTouchBegins$v:TW3CustomControl.CMTouchBegins$v
   ,CMTouchMove:TW3CustomControl.CMTouchMove
   ,CMTouchMove$v:TW3CustomControl.CMTouchMove$v
   ,CMTouchEnds:TW3CustomControl.CMTouchEnds
   ,CMTouchEnds$v:TW3CustomControl.CMTouchEnds$v
   ,CBMouseDown:TW3CustomControl.CBMouseDown
   ,CBMouseDown$v:TW3CustomControl.CBMouseDown$v
   ,CBMouseUp:TW3CustomControl.CBMouseUp
   ,CBMouseUp$v:TW3CustomControl.CBMouseUp$v
   ,CBMouseMove:TW3CustomControl.CBMouseMove
   ,CBMouseMove$v:TW3CustomControl.CBMouseMove$v
   ,CBMouseOver:TW3CustomControl.CBMouseOver
   ,CBMouseOver$v:TW3CustomControl.CBMouseOver$v
   ,CBMouseOut:TW3CustomControl.CBMouseOut
   ,CBMouseOut$v:TW3CustomControl.CBMouseOut$v
   ,CBClick:TW3CustomControl.CBClick
   ,CBClick$v:TW3CustomControl.CBClick$v
   ,CBDblClick:TW3CustomControl.CBDblClick
   ,CBDblClick$v:TW3CustomControl.CBDblClick$v
   ,CBKeyPress:TW3CustomControl.CBKeyPress
   ,CBKeyPress$v:TW3CustomControl.CBKeyPress$v
   ,CBKeyDown:TW3CustomControl.CBKeyDown
   ,CBKeyDown$v:TW3CustomControl.CBKeyDown$v
   ,CBKeyUp:TW3CustomControl.CBKeyUp
   ,CBKeyUp$v:TW3CustomControl.CBKeyUp$v
   ,CBAnimationBegins:TW3CustomControl.CBAnimationBegins
   ,CBAnimationBegins$v:TW3CustomControl.CBAnimationBegins$v
   ,CBAnimationEnds:TW3CustomControl.CBAnimationEnds
   ,CBAnimationEnds$v:TW3CustomControl.CBAnimationEnds$v
   ,CBChanged:TW3CustomControl.CBChanged
   ,CBChanged$v:TW3CustomControl.CBChanged$v
   ,CBFocused:TW3CustomControl.CBFocused
   ,CBFocused$v:TW3CustomControl.CBFocused$v
   ,CBLostFocus:TW3CustomControl.CBLostFocus
   ,CBLostFocus$v:TW3CustomControl.CBLostFocus$v
   ,getWidth:TW3CustomControl.getWidth
   ,getWidth$v:TW3CustomControl.getWidth$v
   ,getHeight:TW3CustomControl.getHeight
   ,getHeight$v:TW3CustomControl.getHeight$v
   ,setLeft:TW3CustomControl.setLeft
   ,setLeft$v:TW3CustomControl.setLeft$v
   ,setTop:TW3CustomControl.setTop
   ,setTop$v:TW3CustomControl.setTop$v
   ,setWidth:TW3CustomControl.setWidth
   ,setWidth$v:TW3CustomControl.setWidth$v
   ,setHeight:TW3CustomControl.setHeight
   ,setHeight$v:TW3CustomControl.setHeight$v
   ,Moved:TW3CustomControl.Moved
   ,Moved$v:TW3CustomControl.Moved$v
   ,Resize:TW3CustomControl.Resize
   ,Resize$v:TW3CustomControl.Resize$v
   ,Invalidate:TW3CustomControl.Invalidate
   ,Invalidate$v:TW3CustomControl.Invalidate$v
};
TW3LabelText.$Intf={
   IW3CustomControl:[TW3CustomControl.setWasMoved,TW3CustomControl.setWasSized]
};
var TW3Label={
   $ClassName:"TW3Label",
   $Parent:TW3CustomControl,
   $Init:function (Self) {
      TW3CustomControl.$Init(Self);
      Self.FContainer=null;
      Self.FText="";
      Self.FTextAlign=0;
   }
   ,FinalizeObject:function(Self) {
      TObject.Free(Self.FContainer);
      TW3CustomControl.FinalizeObject(Self);
   }
   ,InitializeObject:function(Self) {
      TW3CustomControl.InitializeObject(Self);
      Self.FContainer=TW3LabelText.Create$2$v($New(TW3LabelText),Self);
      w3_setStyle(Self.FContainer.FTagObj,"text-overflow","ellipsis");
      w3_setStyle(Self.FContainer.FTagObj,"white-space","nowrap");
      w3_setStyle(Self.FContainer.FTagObj,"overflow","hidden");
      w3_setStyle(Self.FContainer.FTagObj,"vertical-align","middle");
      w3_setStyle(Self.FContainer.FTagObj,"fontSmooth","always");
      TW3Label.setText(Self,"Label");
      TW3Label.setHeight$v(Self,12);
   }
   ,makeElementTagObj:function(Self) {
      var Result=null;
      Result=w3_createElement("div");
      return Result
   }
   ,Resize:function(Self) {
      var mRef$3=null;
      var dx=0;
      var dy=0;
      var wd=0;
      var hd=0;
      var mRect={left:0,top$1:0,right:0,bottom:0};
      TW3CustomControl.Resize(Self);
      TW3Component.BeginUpdate(Self.FContainer);
      TW3CustomControl.setBounds(Self.FContainer,0,0,2,2);
      wd=w3_EnsureRange(TW3ScrollInfo.getScrollWidth(TW3CustomControl.getScrollInfo(Self.FContainer)),0,TW3Label.getWidth$v(Self));
      hd=w3_EnsureRange(TW3ScrollInfo.getScrollHeight(TW3CustomControl.getScrollInfo(Self.FContainer)),0,TW3Label.getHeight$v(Self));
      switch (Self.FTextAlign) {
         case 0 :
            dy=Math.floor(TW3Label.getHeight$v(Self)/2)-Math.floor(hd/2);
            TW3CustomControl.setBounds(Self.FContainer,0,dy,wd,hd);
            break;
         case 1 :
            dx=Math.floor(TW3Label.getWidth$v(Self)/2)-Math.floor(wd/2);
            dy=Math.floor(TW3Label.getHeight$v(Self)/2)-Math.floor(hd/2);
            TW3CustomControl.setBounds(Self.FContainer,dx,dy,wd,hd);
            break;
         case 2 :
            dx=TW3Label.getWidth$v(Self)-wd;
            dy=Math.floor(TW3Label.getHeight$v(Self)/2)-Math.floor(hd/2);
            TW3CustomControl.setBounds(Self.FContainer,dx,dy,wd,hd);
            break;
      };
      TW3LabelText.EndUpdate$v(Self.FContainer);
   }
   ,setText:function(Self, aValue) {
      if (aValue!=Self.FText) {
         TW3Component.BeginUpdate(Self);
         Self.FText=aValue;
         w3_setProperty(Self.FContainer.FTagObj,"innerHTML",aValue);
         TW3CustomControl.setWasSized(Self);
         TW3CustomControl.setWasMoved(Self);
         TW3Label.EndUpdate$v(Self);
      };
   }
   ,setTextAlign:function(Self, aNewAlignment) {
      TW3Component.BeginUpdate(Self);
      Self.FTextAlign=aNewAlignment;
      switch (aNewAlignment) {
         case 0 :
            w3_setStyle(Self.FContainer.FTagObj,"text-align","left");
            break;
         case 1 :
            w3_setStyle(Self.FContainer.FTagObj,"text-align","center");
            break;
         case 2 :
            w3_setStyle(Self.FContainer.FTagObj,"text-align","right");
            break;
      };
      TW3CustomControl.setWasSized(Self);
      TW3CustomControl.setWasMoved(Self);
      TW3Label.EndUpdate$v(Self);
   }
   ,Destroy:TW3TagObj.Destroy
   ,Destroy$v:TW3TagObj.Destroy$v
   ,makeElementTagId:TW3TagObj.makeElementTagId
   ,makeElementTagId$v:TW3TagObj.makeElementTagId$v
   ,makeElementTagObj$v:function(Self){return Self.ClassType.makeElementTagObj(Self)}
   ,StyleTagObject:TW3CustomControl.StyleTagObject
   ,StyleTagObject$v:TW3CustomControl.StyleTagObject$v
   ,InitializeObject$v:function(Self){return Self.ClassType.InitializeObject(Self)}
   ,FinalizeObject$v:function(Self){return Self.ClassType.FinalizeObject(Self)}
   ,UnHookEvents:TW3TagObj.UnHookEvents
   ,UnHookEvents$v:TW3TagObj.UnHookEvents$v
   ,Create$1:TW3TagObj.Create$1
   ,Create$1$v:TW3TagObj.Create$1$v
   ,AfterUpdate:TW3CustomControl.AfterUpdate
   ,AfterUpdate$v:TW3CustomControl.AfterUpdate$v
   ,CBNoBehavior:TW3Component.CBNoBehavior
   ,CBNoBehavior$v:TW3Component.CBNoBehavior$v
   ,EndUpdate:TW3Component.EndUpdate
   ,EndUpdate$v:TW3Component.EndUpdate$v
   ,Create$2:TW3Component.Create$2
   ,Create$2$v:TW3Component.Create$2$v
   ,CMTouchBegins:TW3CustomControl.CMTouchBegins
   ,CMTouchBegins$v:TW3CustomControl.CMTouchBegins$v
   ,CMTouchMove:TW3CustomControl.CMTouchMove
   ,CMTouchMove$v:TW3CustomControl.CMTouchMove$v
   ,CMTouchEnds:TW3CustomControl.CMTouchEnds
   ,CMTouchEnds$v:TW3CustomControl.CMTouchEnds$v
   ,CBMouseDown:TW3CustomControl.CBMouseDown
   ,CBMouseDown$v:TW3CustomControl.CBMouseDown$v
   ,CBMouseUp:TW3CustomControl.CBMouseUp
   ,CBMouseUp$v:TW3CustomControl.CBMouseUp$v
   ,CBMouseMove:TW3CustomControl.CBMouseMove
   ,CBMouseMove$v:TW3CustomControl.CBMouseMove$v
   ,CBMouseOver:TW3CustomControl.CBMouseOver
   ,CBMouseOver$v:TW3CustomControl.CBMouseOver$v
   ,CBMouseOut:TW3CustomControl.CBMouseOut
   ,CBMouseOut$v:TW3CustomControl.CBMouseOut$v
   ,CBClick:TW3CustomControl.CBClick
   ,CBClick$v:TW3CustomControl.CBClick$v
   ,CBDblClick:TW3CustomControl.CBDblClick
   ,CBDblClick$v:TW3CustomControl.CBDblClick$v
   ,CBKeyPress:TW3CustomControl.CBKeyPress
   ,CBKeyPress$v:TW3CustomControl.CBKeyPress$v
   ,CBKeyDown:TW3CustomControl.CBKeyDown
   ,CBKeyDown$v:TW3CustomControl.CBKeyDown$v
   ,CBKeyUp:TW3CustomControl.CBKeyUp
   ,CBKeyUp$v:TW3CustomControl.CBKeyUp$v
   ,CBAnimationBegins:TW3CustomControl.CBAnimationBegins
   ,CBAnimationBegins$v:TW3CustomControl.CBAnimationBegins$v
   ,CBAnimationEnds:TW3CustomControl.CBAnimationEnds
   ,CBAnimationEnds$v:TW3CustomControl.CBAnimationEnds$v
   ,CBChanged:TW3CustomControl.CBChanged
   ,CBChanged$v:TW3CustomControl.CBChanged$v
   ,CBFocused:TW3CustomControl.CBFocused
   ,CBFocused$v:TW3CustomControl.CBFocused$v
   ,CBLostFocus:TW3CustomControl.CBLostFocus
   ,CBLostFocus$v:TW3CustomControl.CBLostFocus$v
   ,getWidth:TW3CustomControl.getWidth
   ,getWidth$v:TW3CustomControl.getWidth$v
   ,getHeight:TW3CustomControl.getHeight
   ,getHeight$v:TW3CustomControl.getHeight$v
   ,setLeft:TW3CustomControl.setLeft
   ,setLeft$v:TW3CustomControl.setLeft$v
   ,setTop:TW3CustomControl.setTop
   ,setTop$v:TW3CustomControl.setTop$v
   ,setWidth:TW3CustomControl.setWidth
   ,setWidth$v:TW3CustomControl.setWidth$v
   ,setHeight:TW3CustomControl.setHeight
   ,setHeight$v:TW3CustomControl.setHeight$v
   ,Moved:TW3CustomControl.Moved
   ,Moved$v:TW3CustomControl.Moved$v
   ,Resize$v:function(Self){return Self.ClassType.Resize(Self)}
   ,Invalidate:TW3CustomControl.Invalidate
   ,Invalidate$v:TW3CustomControl.Invalidate$v
};
TW3Label.$Intf={
   IW3CustomControl:[TW3CustomControl.setWasMoved,TW3CustomControl.setWasSized]
};
var TW3Image={
   $ClassName:"TW3Image",
   $Parent:TW3CustomControl,
   $Init:function (Self) {
      TW3CustomControl.$Init(Self);
      Self.FOnLoad=null;
   }
   ,CBOnLoad:function(Self) {
      if ((Self.FOnLoad!==null)) {
         Self.FOnLoad(Self);
      };
   }
   ,getHeight:function(Self) {
      var Result=0;
      var mRef$3=null;
      Result=TW3CustomControl.getHeight(Self);
      if (w3_isNAN(Result)) {
         mRef$3=Self.FTagObj;
         
      Result = (mRef$3).height;
          };
      return Result
   }
   ,getWidth:function(Self) {
      var Result=0;
      var mRef$3=null;
      Result=TW3CustomControl.getWidth(Self);
      if (w3_isNAN(Result)) {
         mRef$3=Self.FTagObj;
         
      Result = (mRef$3).width;
          };
      return Result
   }
   ,LoadFromURL:function(Self, aURL) {
      w3_setAttrib(Self.FTagObj,"src",aURL);
   }
   ,makeElementTagObj:function(Self) {
      var Result=null;
      Result=w3_createElement("img");
      return Result
   }
   ,_setOnLoad:function(Self, aValue) {
      var mRef$3=null;
      Self.FOnLoad=aValue;
      switch ((aValue!==null)) {
         case true :
            mRef$3=$Event(Self,Self.ClassType.CBOnLoad$v);
            break;
         case false :
            mRef$3=$Event(Self,Self.ClassType.CBNoBehavior$v);
            break;
      };
      w3_bind2(Self.FTagObj,"onload",mRef$3);
   }
   ,Destroy:TW3TagObj.Destroy
   ,Destroy$v:TW3TagObj.Destroy$v
   ,makeElementTagId:TW3TagObj.makeElementTagId
   ,makeElementTagId$v:TW3TagObj.makeElementTagId$v
   ,makeElementTagObj$v:function(Self){return Self.ClassType.makeElementTagObj(Self)}
   ,StyleTagObject:TW3CustomControl.StyleTagObject
   ,StyleTagObject$v:TW3CustomControl.StyleTagObject$v
   ,InitializeObject:TW3CustomControl.InitializeObject
   ,InitializeObject$v:TW3CustomControl.InitializeObject$v
   ,FinalizeObject:TW3CustomControl.FinalizeObject
   ,FinalizeObject$v:TW3CustomControl.FinalizeObject$v
   ,UnHookEvents:TW3TagObj.UnHookEvents
   ,UnHookEvents$v:TW3TagObj.UnHookEvents$v
   ,Create$1:TW3TagObj.Create$1
   ,Create$1$v:TW3TagObj.Create$1$v
   ,AfterUpdate:TW3CustomControl.AfterUpdate
   ,AfterUpdate$v:TW3CustomControl.AfterUpdate$v
   ,CBNoBehavior:TW3Component.CBNoBehavior
   ,CBNoBehavior$v:TW3Component.CBNoBehavior$v
   ,EndUpdate:TW3Component.EndUpdate
   ,EndUpdate$v:TW3Component.EndUpdate$v
   ,Create$2:TW3Component.Create$2
   ,Create$2$v:TW3Component.Create$2$v
   ,CMTouchBegins:TW3CustomControl.CMTouchBegins
   ,CMTouchBegins$v:TW3CustomControl.CMTouchBegins$v
   ,CMTouchMove:TW3CustomControl.CMTouchMove
   ,CMTouchMove$v:TW3CustomControl.CMTouchMove$v
   ,CMTouchEnds:TW3CustomControl.CMTouchEnds
   ,CMTouchEnds$v:TW3CustomControl.CMTouchEnds$v
   ,CBMouseDown:TW3CustomControl.CBMouseDown
   ,CBMouseDown$v:TW3CustomControl.CBMouseDown$v
   ,CBMouseUp:TW3CustomControl.CBMouseUp
   ,CBMouseUp$v:TW3CustomControl.CBMouseUp$v
   ,CBMouseMove:TW3CustomControl.CBMouseMove
   ,CBMouseMove$v:TW3CustomControl.CBMouseMove$v
   ,CBMouseOver:TW3CustomControl.CBMouseOver
   ,CBMouseOver$v:TW3CustomControl.CBMouseOver$v
   ,CBMouseOut:TW3CustomControl.CBMouseOut
   ,CBMouseOut$v:TW3CustomControl.CBMouseOut$v
   ,CBClick:TW3CustomControl.CBClick
   ,CBClick$v:TW3CustomControl.CBClick$v
   ,CBDblClick:TW3CustomControl.CBDblClick
   ,CBDblClick$v:TW3CustomControl.CBDblClick$v
   ,CBKeyPress:TW3CustomControl.CBKeyPress
   ,CBKeyPress$v:TW3CustomControl.CBKeyPress$v
   ,CBKeyDown:TW3CustomControl.CBKeyDown
   ,CBKeyDown$v:TW3CustomControl.CBKeyDown$v
   ,CBKeyUp:TW3CustomControl.CBKeyUp
   ,CBKeyUp$v:TW3CustomControl.CBKeyUp$v
   ,CBAnimationBegins:TW3CustomControl.CBAnimationBegins
   ,CBAnimationBegins$v:TW3CustomControl.CBAnimationBegins$v
   ,CBAnimationEnds:TW3CustomControl.CBAnimationEnds
   ,CBAnimationEnds$v:TW3CustomControl.CBAnimationEnds$v
   ,CBChanged:TW3CustomControl.CBChanged
   ,CBChanged$v:TW3CustomControl.CBChanged$v
   ,CBFocused:TW3CustomControl.CBFocused
   ,CBFocused$v:TW3CustomControl.CBFocused$v
   ,CBLostFocus:TW3CustomControl.CBLostFocus
   ,CBLostFocus$v:TW3CustomControl.CBLostFocus$v
   ,getWidth$v:function(Self){return Self.ClassType.getWidth(Self)}
   ,getHeight$v:function(Self){return Self.ClassType.getHeight(Self)}
   ,setLeft:TW3CustomControl.setLeft
   ,setLeft$v:TW3CustomControl.setLeft$v
   ,setTop:TW3CustomControl.setTop
   ,setTop$v:TW3CustomControl.setTop$v
   ,setWidth:TW3CustomControl.setWidth
   ,setWidth$v:TW3CustomControl.setWidth$v
   ,setHeight:TW3CustomControl.setHeight
   ,setHeight$v:TW3CustomControl.setHeight$v
   ,Moved:TW3CustomControl.Moved
   ,Moved$v:TW3CustomControl.Moved$v
   ,Resize:TW3CustomControl.Resize
   ,Resize$v:TW3CustomControl.Resize$v
   ,Invalidate:TW3CustomControl.Invalidate
   ,Invalidate$v:TW3CustomControl.Invalidate$v
   ,CBOnLoad$v:function(Self){return Self.ClassType.CBOnLoad(Self)}
};
TW3Image.$Intf={
   IW3CustomControl:[TW3CustomControl.setWasMoved,TW3CustomControl.setWasSized]
};
var TW3Header={
   $ClassName:"TW3Header",
   $Parent:TW3CustomControl,
   $Init:function (Self) {
      TW3CustomControl.$Init(Self);
   }
   ,Destroy:TW3TagObj.Destroy
   ,Destroy$v:TW3TagObj.Destroy$v
   ,makeElementTagId:TW3TagObj.makeElementTagId
   ,makeElementTagId$v:TW3TagObj.makeElementTagId$v
   ,makeElementTagObj:TW3TagObj.makeElementTagObj
   ,makeElementTagObj$v:TW3TagObj.makeElementTagObj$v
   ,StyleTagObject:TW3CustomControl.StyleTagObject
   ,StyleTagObject$v:TW3CustomControl.StyleTagObject$v
   ,InitializeObject:TW3CustomControl.InitializeObject
   ,InitializeObject$v:TW3CustomControl.InitializeObject$v
   ,FinalizeObject:TW3CustomControl.FinalizeObject
   ,FinalizeObject$v:TW3CustomControl.FinalizeObject$v
   ,UnHookEvents:TW3TagObj.UnHookEvents
   ,UnHookEvents$v:TW3TagObj.UnHookEvents$v
   ,Create$1:TW3TagObj.Create$1
   ,Create$1$v:TW3TagObj.Create$1$v
   ,AfterUpdate:TW3CustomControl.AfterUpdate
   ,AfterUpdate$v:TW3CustomControl.AfterUpdate$v
   ,CBNoBehavior:TW3Component.CBNoBehavior
   ,CBNoBehavior$v:TW3Component.CBNoBehavior$v
   ,EndUpdate:TW3Component.EndUpdate
   ,EndUpdate$v:TW3Component.EndUpdate$v
   ,Create$2:TW3Component.Create$2
   ,Create$2$v:TW3Component.Create$2$v
   ,CMTouchBegins:TW3CustomControl.CMTouchBegins
   ,CMTouchBegins$v:TW3CustomControl.CMTouchBegins$v
   ,CMTouchMove:TW3CustomControl.CMTouchMove
   ,CMTouchMove$v:TW3CustomControl.CMTouchMove$v
   ,CMTouchEnds:TW3CustomControl.CMTouchEnds
   ,CMTouchEnds$v:TW3CustomControl.CMTouchEnds$v
   ,CBMouseDown:TW3CustomControl.CBMouseDown
   ,CBMouseDown$v:TW3CustomControl.CBMouseDown$v
   ,CBMouseUp:TW3CustomControl.CBMouseUp
   ,CBMouseUp$v:TW3CustomControl.CBMouseUp$v
   ,CBMouseMove:TW3CustomControl.CBMouseMove
   ,CBMouseMove$v:TW3CustomControl.CBMouseMove$v
   ,CBMouseOver:TW3CustomControl.CBMouseOver
   ,CBMouseOver$v:TW3CustomControl.CBMouseOver$v
   ,CBMouseOut:TW3CustomControl.CBMouseOut
   ,CBMouseOut$v:TW3CustomControl.CBMouseOut$v
   ,CBClick:TW3CustomControl.CBClick
   ,CBClick$v:TW3CustomControl.CBClick$v
   ,CBDblClick:TW3CustomControl.CBDblClick
   ,CBDblClick$v:TW3CustomControl.CBDblClick$v
   ,CBKeyPress:TW3CustomControl.CBKeyPress
   ,CBKeyPress$v:TW3CustomControl.CBKeyPress$v
   ,CBKeyDown:TW3CustomControl.CBKeyDown
   ,CBKeyDown$v:TW3CustomControl.CBKeyDown$v
   ,CBKeyUp:TW3CustomControl.CBKeyUp
   ,CBKeyUp$v:TW3CustomControl.CBKeyUp$v
   ,CBAnimationBegins:TW3CustomControl.CBAnimationBegins
   ,CBAnimationBegins$v:TW3CustomControl.CBAnimationBegins$v
   ,CBAnimationEnds:TW3CustomControl.CBAnimationEnds
   ,CBAnimationEnds$v:TW3CustomControl.CBAnimationEnds$v
   ,CBChanged:TW3CustomControl.CBChanged
   ,CBChanged$v:TW3CustomControl.CBChanged$v
   ,CBFocused:TW3CustomControl.CBFocused
   ,CBFocused$v:TW3CustomControl.CBFocused$v
   ,CBLostFocus:TW3CustomControl.CBLostFocus
   ,CBLostFocus$v:TW3CustomControl.CBLostFocus$v
   ,getWidth:TW3CustomControl.getWidth
   ,getWidth$v:TW3CustomControl.getWidth$v
   ,getHeight:TW3CustomControl.getHeight
   ,getHeight$v:TW3CustomControl.getHeight$v
   ,setLeft:TW3CustomControl.setLeft
   ,setLeft$v:TW3CustomControl.setLeft$v
   ,setTop:TW3CustomControl.setTop
   ,setTop$v:TW3CustomControl.setTop$v
   ,setWidth:TW3CustomControl.setWidth
   ,setWidth$v:TW3CustomControl.setWidth$v
   ,setHeight:TW3CustomControl.setHeight
   ,setHeight$v:TW3CustomControl.setHeight$v
   ,Moved:TW3CustomControl.Moved
   ,Moved$v:TW3CustomControl.Moved$v
   ,Resize:TW3CustomControl.Resize
   ,Resize$v:TW3CustomControl.Resize$v
   ,Invalidate:TW3CustomControl.Invalidate
   ,Invalidate$v:TW3CustomControl.Invalidate$v
};
TW3Header.$Intf={
   IW3CustomControl:[TW3CustomControl.setWasMoved,TW3CustomControl.setWasSized]
};
var TW3EditBox={
   $ClassName:"TW3EditBox",
   $Parent:TW3CustomControl,
   $Init:function (Self) {
      TW3CustomControl.$Init(Self);
   }
   ,getDefValue:function(Self) {
      var Result="";
      Result=w3_getAttribAsStr(Self.FTagObj,"placeholder");
      return Result
   }
   ,getText:function(Self) {
      var Result="";
      var mRef$3=null;
      mRef$3=Self.FTagObj;
      
    Result=(mRef$3).value;
  return Result
   }
   ,makeElementTagObj:function(Self) {
      var Result=null;
      Result=w3_createElement("input");
      w3_setAttrib(Result,"type","search");
      w3_setAttrib(Result,"autocorrect","off");
      w3_setAttrib(Result,"autocapitalize","off");
      w3_setAttrib(Result,"placeholder","Type text");
      return Result
   }
   ,setDefValue:function(Self, aValue) {
      w3_setAttrib(Self.FTagObj,"placeholder",aValue);
   }
   ,setText:function(Self, aValue) {
      var mRef$3=null;
      mRef$3=Self.FTagObj;
      
    (mRef$3).value = aValue;
     }
   ,StyleTagObject:function(Self) {
      w3_setStyle(Self.FTagObj,"-webkit-text-size-adjust","140%");
      TW3CustomControl.StyleTagObject(Self);
   }
   ,Destroy:TW3TagObj.Destroy
   ,Destroy$v:TW3TagObj.Destroy$v
   ,makeElementTagId:TW3TagObj.makeElementTagId
   ,makeElementTagId$v:TW3TagObj.makeElementTagId$v
   ,makeElementTagObj$v:function(Self){return Self.ClassType.makeElementTagObj(Self)}
   ,StyleTagObject$v:function(Self){return Self.ClassType.StyleTagObject(Self)}
   ,InitializeObject:TW3CustomControl.InitializeObject
   ,InitializeObject$v:TW3CustomControl.InitializeObject$v
   ,FinalizeObject:TW3CustomControl.FinalizeObject
   ,FinalizeObject$v:TW3CustomControl.FinalizeObject$v
   ,UnHookEvents:TW3TagObj.UnHookEvents
   ,UnHookEvents$v:TW3TagObj.UnHookEvents$v
   ,Create$1:TW3TagObj.Create$1
   ,Create$1$v:TW3TagObj.Create$1$v
   ,AfterUpdate:TW3CustomControl.AfterUpdate
   ,AfterUpdate$v:TW3CustomControl.AfterUpdate$v
   ,CBNoBehavior:TW3Component.CBNoBehavior
   ,CBNoBehavior$v:TW3Component.CBNoBehavior$v
   ,EndUpdate:TW3Component.EndUpdate
   ,EndUpdate$v:TW3Component.EndUpdate$v
   ,Create$2:TW3Component.Create$2
   ,Create$2$v:TW3Component.Create$2$v
   ,CMTouchBegins:TW3CustomControl.CMTouchBegins
   ,CMTouchBegins$v:TW3CustomControl.CMTouchBegins$v
   ,CMTouchMove:TW3CustomControl.CMTouchMove
   ,CMTouchMove$v:TW3CustomControl.CMTouchMove$v
   ,CMTouchEnds:TW3CustomControl.CMTouchEnds
   ,CMTouchEnds$v:TW3CustomControl.CMTouchEnds$v
   ,CBMouseDown:TW3CustomControl.CBMouseDown
   ,CBMouseDown$v:TW3CustomControl.CBMouseDown$v
   ,CBMouseUp:TW3CustomControl.CBMouseUp
   ,CBMouseUp$v:TW3CustomControl.CBMouseUp$v
   ,CBMouseMove:TW3CustomControl.CBMouseMove
   ,CBMouseMove$v:TW3CustomControl.CBMouseMove$v
   ,CBMouseOver:TW3CustomControl.CBMouseOver
   ,CBMouseOver$v:TW3CustomControl.CBMouseOver$v
   ,CBMouseOut:TW3CustomControl.CBMouseOut
   ,CBMouseOut$v:TW3CustomControl.CBMouseOut$v
   ,CBClick:TW3CustomControl.CBClick
   ,CBClick$v:TW3CustomControl.CBClick$v
   ,CBDblClick:TW3CustomControl.CBDblClick
   ,CBDblClick$v:TW3CustomControl.CBDblClick$v
   ,CBKeyPress:TW3CustomControl.CBKeyPress
   ,CBKeyPress$v:TW3CustomControl.CBKeyPress$v
   ,CBKeyDown:TW3CustomControl.CBKeyDown
   ,CBKeyDown$v:TW3CustomControl.CBKeyDown$v
   ,CBKeyUp:TW3CustomControl.CBKeyUp
   ,CBKeyUp$v:TW3CustomControl.CBKeyUp$v
   ,CBAnimationBegins:TW3CustomControl.CBAnimationBegins
   ,CBAnimationBegins$v:TW3CustomControl.CBAnimationBegins$v
   ,CBAnimationEnds:TW3CustomControl.CBAnimationEnds
   ,CBAnimationEnds$v:TW3CustomControl.CBAnimationEnds$v
   ,CBChanged:TW3CustomControl.CBChanged
   ,CBChanged$v:TW3CustomControl.CBChanged$v
   ,CBFocused:TW3CustomControl.CBFocused
   ,CBFocused$v:TW3CustomControl.CBFocused$v
   ,CBLostFocus:TW3CustomControl.CBLostFocus
   ,CBLostFocus$v:TW3CustomControl.CBLostFocus$v
   ,getWidth:TW3CustomControl.getWidth
   ,getWidth$v:TW3CustomControl.getWidth$v
   ,getHeight:TW3CustomControl.getHeight
   ,getHeight$v:TW3CustomControl.getHeight$v
   ,setLeft:TW3CustomControl.setLeft
   ,setLeft$v:TW3CustomControl.setLeft$v
   ,setTop:TW3CustomControl.setTop
   ,setTop$v:TW3CustomControl.setTop$v
   ,setWidth:TW3CustomControl.setWidth
   ,setWidth$v:TW3CustomControl.setWidth$v
   ,setHeight:TW3CustomControl.setHeight
   ,setHeight$v:TW3CustomControl.setHeight$v
   ,Moved:TW3CustomControl.Moved
   ,Moved$v:TW3CustomControl.Moved$v
   ,Resize:TW3CustomControl.Resize
   ,Resize$v:TW3CustomControl.Resize$v
   ,Invalidate:TW3CustomControl.Invalidate
   ,Invalidate$v:TW3CustomControl.Invalidate$v
};
TW3EditBox.$Intf={
   IW3CustomControl:[TW3CustomControl.setWasMoved,TW3CustomControl.setWasSized]
};
var TW3CheckBox={
   $ClassName:"TW3CheckBox",
   $Parent:TW3CustomControl,
   $Init:function (Self) {
      TW3CustomControl.$Init(Self);
   }
   ,getCaption:function(Self) {
      var Result="";
      Result=w3_getPropertyAsStr(Self.FTagObj,"text");
      return Result
   }
   ,getChecked:function(Self) {
      var Result=false;
      return Result
   }
   ,makeElementTagObj:function(Self) {
      var Result=null;
      Result=w3_createElement("input");
      return Result
   }
   ,setCaption:function(Self, aNewCaption) {
      w3_setProperty(Self.FTagObj,"text",aNewCaption);
   }
   ,setChecked:function(Self, aValue) {
   }
   ,StyleTagObject:function(Self) {
      w3_setProperty(Self.FTagObj,"type","checkbox");
      w3_setProperty(Self.FTagObj,"label","checkbox");
   }
   ,Destroy:TW3TagObj.Destroy
   ,Destroy$v:TW3TagObj.Destroy$v
   ,makeElementTagId:TW3TagObj.makeElementTagId
   ,makeElementTagId$v:TW3TagObj.makeElementTagId$v
   ,makeElementTagObj$v:function(Self){return Self.ClassType.makeElementTagObj(Self)}
   ,StyleTagObject$v:function(Self){return Self.ClassType.StyleTagObject(Self)}
   ,InitializeObject:TW3CustomControl.InitializeObject
   ,InitializeObject$v:TW3CustomControl.InitializeObject$v
   ,FinalizeObject:TW3CustomControl.FinalizeObject
   ,FinalizeObject$v:TW3CustomControl.FinalizeObject$v
   ,UnHookEvents:TW3TagObj.UnHookEvents
   ,UnHookEvents$v:TW3TagObj.UnHookEvents$v
   ,Create$1:TW3TagObj.Create$1
   ,Create$1$v:TW3TagObj.Create$1$v
   ,AfterUpdate:TW3CustomControl.AfterUpdate
   ,AfterUpdate$v:TW3CustomControl.AfterUpdate$v
   ,CBNoBehavior:TW3Component.CBNoBehavior
   ,CBNoBehavior$v:TW3Component.CBNoBehavior$v
   ,EndUpdate:TW3Component.EndUpdate
   ,EndUpdate$v:TW3Component.EndUpdate$v
   ,Create$2:TW3Component.Create$2
   ,Create$2$v:TW3Component.Create$2$v
   ,CMTouchBegins:TW3CustomControl.CMTouchBegins
   ,CMTouchBegins$v:TW3CustomControl.CMTouchBegins$v
   ,CMTouchMove:TW3CustomControl.CMTouchMove
   ,CMTouchMove$v:TW3CustomControl.CMTouchMove$v
   ,CMTouchEnds:TW3CustomControl.CMTouchEnds
   ,CMTouchEnds$v:TW3CustomControl.CMTouchEnds$v
   ,CBMouseDown:TW3CustomControl.CBMouseDown
   ,CBMouseDown$v:TW3CustomControl.CBMouseDown$v
   ,CBMouseUp:TW3CustomControl.CBMouseUp
   ,CBMouseUp$v:TW3CustomControl.CBMouseUp$v
   ,CBMouseMove:TW3CustomControl.CBMouseMove
   ,CBMouseMove$v:TW3CustomControl.CBMouseMove$v
   ,CBMouseOver:TW3CustomControl.CBMouseOver
   ,CBMouseOver$v:TW3CustomControl.CBMouseOver$v
   ,CBMouseOut:TW3CustomControl.CBMouseOut
   ,CBMouseOut$v:TW3CustomControl.CBMouseOut$v
   ,CBClick:TW3CustomControl.CBClick
   ,CBClick$v:TW3CustomControl.CBClick$v
   ,CBDblClick:TW3CustomControl.CBDblClick
   ,CBDblClick$v:TW3CustomControl.CBDblClick$v
   ,CBKeyPress:TW3CustomControl.CBKeyPress
   ,CBKeyPress$v:TW3CustomControl.CBKeyPress$v
   ,CBKeyDown:TW3CustomControl.CBKeyDown
   ,CBKeyDown$v:TW3CustomControl.CBKeyDown$v
   ,CBKeyUp:TW3CustomControl.CBKeyUp
   ,CBKeyUp$v:TW3CustomControl.CBKeyUp$v
   ,CBAnimationBegins:TW3CustomControl.CBAnimationBegins
   ,CBAnimationBegins$v:TW3CustomControl.CBAnimationBegins$v
   ,CBAnimationEnds:TW3CustomControl.CBAnimationEnds
   ,CBAnimationEnds$v:TW3CustomControl.CBAnimationEnds$v
   ,CBChanged:TW3CustomControl.CBChanged
   ,CBChanged$v:TW3CustomControl.CBChanged$v
   ,CBFocused:TW3CustomControl.CBFocused
   ,CBFocused$v:TW3CustomControl.CBFocused$v
   ,CBLostFocus:TW3CustomControl.CBLostFocus
   ,CBLostFocus$v:TW3CustomControl.CBLostFocus$v
   ,getWidth:TW3CustomControl.getWidth
   ,getWidth$v:TW3CustomControl.getWidth$v
   ,getHeight:TW3CustomControl.getHeight
   ,getHeight$v:TW3CustomControl.getHeight$v
   ,setLeft:TW3CustomControl.setLeft
   ,setLeft$v:TW3CustomControl.setLeft$v
   ,setTop:TW3CustomControl.setTop
   ,setTop$v:TW3CustomControl.setTop$v
   ,setWidth:TW3CustomControl.setWidth
   ,setWidth$v:TW3CustomControl.setWidth$v
   ,setHeight:TW3CustomControl.setHeight
   ,setHeight$v:TW3CustomControl.setHeight$v
   ,Moved:TW3CustomControl.Moved
   ,Moved$v:TW3CustomControl.Moved$v
   ,Resize:TW3CustomControl.Resize
   ,Resize$v:TW3CustomControl.Resize$v
   ,Invalidate:TW3CustomControl.Invalidate
   ,Invalidate$v:TW3CustomControl.Invalidate$v
};
TW3CheckBox.$Intf={
   IW3CustomControl:[TW3CustomControl.setWasMoved,TW3CustomControl.setWasSized]
};
var TW3Button={
   $ClassName:"TW3Button",
   $Parent:TW3CustomControl,
   $Init:function (Self) {
      TW3CustomControl.$Init(Self);
   }
   ,getCaption:function(Self) {
      var Result="";
      Result=w3_getPropertyAsStr(Self.FTagObj,"innerText");
      return Result
   }
   ,setCaption:function(Self, Value) {
      w3_setProperty(Self.FTagObj,"innerText",Value);
   }
   ,makeElementTagObj:function(Self) {
      var Result=null;
      Result=w3_createElement("button");
      return Result
   }
   ,InitializeObject:function(Self) {
      TW3CustomControl.InitializeObject(Self);
      TW3Button.setWidth$v(Self,100);
      TW3Button.setHeight$v(Self,32);
   }
   ,Destroy:TW3TagObj.Destroy
   ,Destroy$v:TW3TagObj.Destroy$v
   ,makeElementTagId:TW3TagObj.makeElementTagId
   ,makeElementTagId$v:TW3TagObj.makeElementTagId$v
   ,makeElementTagObj$v:function(Self){return Self.ClassType.makeElementTagObj(Self)}
   ,StyleTagObject:TW3CustomControl.StyleTagObject
   ,StyleTagObject$v:TW3CustomControl.StyleTagObject$v
   ,InitializeObject$v:function(Self){return Self.ClassType.InitializeObject(Self)}
   ,FinalizeObject:TW3CustomControl.FinalizeObject
   ,FinalizeObject$v:TW3CustomControl.FinalizeObject$v
   ,UnHookEvents:TW3TagObj.UnHookEvents
   ,UnHookEvents$v:TW3TagObj.UnHookEvents$v
   ,Create$1:TW3TagObj.Create$1
   ,Create$1$v:TW3TagObj.Create$1$v
   ,AfterUpdate:TW3CustomControl.AfterUpdate
   ,AfterUpdate$v:TW3CustomControl.AfterUpdate$v
   ,CBNoBehavior:TW3Component.CBNoBehavior
   ,CBNoBehavior$v:TW3Component.CBNoBehavior$v
   ,EndUpdate:TW3Component.EndUpdate
   ,EndUpdate$v:TW3Component.EndUpdate$v
   ,Create$2:TW3Component.Create$2
   ,Create$2$v:TW3Component.Create$2$v
   ,CMTouchBegins:TW3CustomControl.CMTouchBegins
   ,CMTouchBegins$v:TW3CustomControl.CMTouchBegins$v
   ,CMTouchMove:TW3CustomControl.CMTouchMove
   ,CMTouchMove$v:TW3CustomControl.CMTouchMove$v
   ,CMTouchEnds:TW3CustomControl.CMTouchEnds
   ,CMTouchEnds$v:TW3CustomControl.CMTouchEnds$v
   ,CBMouseDown:TW3CustomControl.CBMouseDown
   ,CBMouseDown$v:TW3CustomControl.CBMouseDown$v
   ,CBMouseUp:TW3CustomControl.CBMouseUp
   ,CBMouseUp$v:TW3CustomControl.CBMouseUp$v
   ,CBMouseMove:TW3CustomControl.CBMouseMove
   ,CBMouseMove$v:TW3CustomControl.CBMouseMove$v
   ,CBMouseOver:TW3CustomControl.CBMouseOver
   ,CBMouseOver$v:TW3CustomControl.CBMouseOver$v
   ,CBMouseOut:TW3CustomControl.CBMouseOut
   ,CBMouseOut$v:TW3CustomControl.CBMouseOut$v
   ,CBClick:TW3CustomControl.CBClick
   ,CBClick$v:TW3CustomControl.CBClick$v
   ,CBDblClick:TW3CustomControl.CBDblClick
   ,CBDblClick$v:TW3CustomControl.CBDblClick$v
   ,CBKeyPress:TW3CustomControl.CBKeyPress
   ,CBKeyPress$v:TW3CustomControl.CBKeyPress$v
   ,CBKeyDown:TW3CustomControl.CBKeyDown
   ,CBKeyDown$v:TW3CustomControl.CBKeyDown$v
   ,CBKeyUp:TW3CustomControl.CBKeyUp
   ,CBKeyUp$v:TW3CustomControl.CBKeyUp$v
   ,CBAnimationBegins:TW3CustomControl.CBAnimationBegins
   ,CBAnimationBegins$v:TW3CustomControl.CBAnimationBegins$v
   ,CBAnimationEnds:TW3CustomControl.CBAnimationEnds
   ,CBAnimationEnds$v:TW3CustomControl.CBAnimationEnds$v
   ,CBChanged:TW3CustomControl.CBChanged
   ,CBChanged$v:TW3CustomControl.CBChanged$v
   ,CBFocused:TW3CustomControl.CBFocused
   ,CBFocused$v:TW3CustomControl.CBFocused$v
   ,CBLostFocus:TW3CustomControl.CBLostFocus
   ,CBLostFocus$v:TW3CustomControl.CBLostFocus$v
   ,getWidth:TW3CustomControl.getWidth
   ,getWidth$v:TW3CustomControl.getWidth$v
   ,getHeight:TW3CustomControl.getHeight
   ,getHeight$v:TW3CustomControl.getHeight$v
   ,setLeft:TW3CustomControl.setLeft
   ,setLeft$v:TW3CustomControl.setLeft$v
   ,setTop:TW3CustomControl.setTop
   ,setTop$v:TW3CustomControl.setTop$v
   ,setWidth:TW3CustomControl.setWidth
   ,setWidth$v:TW3CustomControl.setWidth$v
   ,setHeight:TW3CustomControl.setHeight
   ,setHeight$v:TW3CustomControl.setHeight$v
   ,Moved:TW3CustomControl.Moved
   ,Moved$v:TW3CustomControl.Moved$v
   ,Resize:TW3CustomControl.Resize
   ,Resize$v:TW3CustomControl.Resize$v
   ,Invalidate:TW3CustomControl.Invalidate
   ,Invalidate$v:TW3CustomControl.Invalidate$v
};
TW3Button.$Intf={
   IW3CustomControl:[TW3CustomControl.setWasMoved,TW3CustomControl.setWasSized]
};
/* TTextAlign*/
taLeft=0;
taCenter=1;
taRight=2;
function Copy$TW3TextMetrics(s) {
   return {
      Width:s.Width
   }
};
function Copy$TW3RGBA(s) {
   return {
      R:s.R
      ,G:s.G
      ,B:s.B
      ,A:s.A
   }
};
var TW3ImageData={
   $ClassName:"TW3ImageData",
   $Parent:TObject,
   $Init:function (Self) {
      TObject.$Init(Self);
      Self.FHandle=null;
   }
   ,fromContextNew:function(Self, aContextRef, aWidth, aHeight) {
      var mRef$3=null;
      if ((aContextRef!==null)) {
         if ((aWidth>0)&&(aHeight>0)) {
            
        mRef$3 = (aContextRef).createImageData(aWidth,aHeight);
      if ((mRef$3!==null)) {
               Self.FHandle=mRef$3;
            } else {
               throw Exception.Create$1($New(Exception),"Failed to initialize from graphics-contxt: "+"createImageData() returned NIL error");
            };
         } else {
            throw Exception.Create$1($New(Exception),"Failed to initialize from graphics-contxt: "+"invalid width or height error");
         };
      } else {
         throw Exception.Create$1($New(Exception),"Failed to initialize from graphics-contxt: "+"reference was NIL error");
      };
   }
   ,fromImageData:function(Self, aImageDataRef) {
      if ((aImageDataRef!==null)) {
         Self.FHandle=aImageDataRef;
      } else {
         throw Exception.Create$1($New(Exception),"Failed to initialize from graphics-contxt: "+"reference was NIL error");
      };
   }
   ,getA:function(Self, x$2, y$1) {
      var Result=0;
      var mRef$3=null;
      var mIndex=0;
      mRef$3=Self.FHandle;
      
    mIndex = ( ( (mRef$3).width * 4 ) * y$1 ) + (x$2 * 4) ;
    Result = (mRef$3).data[mIndex + 3];
  return Result
   }
   ,getB:function(Self, x$2, y$1) {
      var Result=0;
      var mRef$3=null;
      var mIndex=0;
      mRef$3=Self.FHandle;
      
    mIndex = ( ( (mRef$3).width * 4 ) * y$1 ) + (x$2 * 4) ;
    Result = (mRef$3).data[mIndex + 2];
  return Result
   }
   ,getG:function(Self, x$2, y$1) {
      var Result=0;
      var mRef$3=null;
      var mIndex=0;
      mRef$3=Self.FHandle;
      
    mIndex = ( ( (mRef$3).width * 4 ) * y$1 ) + (x$2 * 4) ;
    Result = (mRef$3).data[mIndex + 1];
  return Result
   }
   ,getHeight:function(Self) {
      var Result=0;
      var mRef$3=null;
      mRef$3=Self.FHandle;
      
    Result=(mRef$3).height;
  return Result
   }
   ,getPixel:function(Self, x$2, y$1) {
      var Result={R:0,G:0,B:0,A:0};
      var mRef$3=null;
      var mIndex=0;
      mRef$3=Self.FHandle;
      
    mIndex = ( ( (mRef$3).width * 4 ) * y$1 ) + (x$2 * 4) ;
    (Result).R = (mRef$3).data[mIndex + 0];
    (Result).G = (mRef$3).data[mIndex + 1];
    (Result).B = (mRef$3).data[mIndex + 2];
    (Result).A = (mRef$3).data[mIndex + 3];
  return Result
   }
   ,getPixelEx:function(Self, x$2, y$1, R$1, G$1, B$1, A$1) {
      var mRef$3=null;
      var mIndex=0;
      mRef$3=Self.FHandle;
      
    mIndex = ( ( (mRef$3).width * 4 ) * y$1 ) + (x$2 * 4) ;
    R$1 = (mRef$3).data[mIndex + 0];
    G$1 = (mRef$3).data[mIndex + 1];
    B$1 = (mRef$3).data[mIndex + 2];
    A$1 = (mRef$3).data[mIndex + 3];
     }
   ,getR:function(Self, x$2, y$1) {
      var Result=0;
      var mRef$3=null;
      var mIndex=0;
      mRef$3=Self.FHandle;
      
    mIndex = ( ( (mRef$3).width * 4 ) * y$1 ) + (x$2 * 4) ;
    Result = (mRef$3).data[mIndex];
  return Result
   }
   ,getWidth:function(Self) {
      var Result=0;
      var mRef$3=null;
      mRef$3=Self.FHandle;
      
    Result=(mRef$3).width;
  return Result
   }
   ,setA:function(Self, x$2, y$1, aValue) {
      var mRef$3=null;
      var mIndex=0;
      mRef$3=Self.FHandle;
      
    mIndex = ( ( (mRef$3).width * 4 ) * y$1 ) + (x$2 * 4) ;
    (mRef$3).data[mIndex + 3] = aValue;
     }
   ,setB:function(Self, x$2, y$1, aValue) {
      var mRef$3=null;
      var mIndex=0;
      mRef$3=Self.FHandle;
      
    mIndex = ( ( (mRef$3).width * 4 ) * y$1 ) + (x$2 * 4) ;
    (mRef$3).data[mIndex + 2] = aValue;
     }
   ,setG:function(Self, x$2, y$1, aValue) {
      var mRef$3=null;
      var mIndex=0;
      mRef$3=Self.FHandle;
      
    mIndex = ( ( (mRef$3).width * 4 ) * y$1 ) + (x$2 * 4) ;
    (mRef$3).data[mIndex + 1] = aValue;
     }
   ,setPixel:function(Self, x$2, y$1, aValue) {
      var mRef$3=null;
      var mIndex=0;
      mRef$3=Self.FHandle;
      
    mIndex = ( ( (mRef$3).width * 4 ) * y$1 ) + (x$2 * 4);
    (mRef$3).data[mIndex + 0] = (aValue).R;
    (mRef$3).data[mIndex + 1] = (aValue).G;
    (mRef$3).data[mIndex + 2] = (aValue).B;
    (mRef$3).data[mIndex + 3] = (aValue).A;
     }
   ,setPixelC:function(Self, x$2, y$1, aColor) {
      var mRef$3=null;
      var mIndex=0;
      var r$4=0;
      var g$4=0;
      var b$4=0;
      mRef$3=Self.FHandle;
      r$4=(aColor>>16)&255;
      g$4=(aColor>>8)&255;
      b$4=(aColor>>0)&255;
      
    mIndex = ( ( (mRef$3).width * 4 ) * y$1 ) + (x$2 * 4);
    (mRef$3).data[mIndex + 0] = r$4;
    (mRef$3).data[mIndex + 1] = g$4;
    (mRef$3).data[mIndex + 2] = b$4;
    (mRef$3).data[mIndex + 3] = 255;
     }
   ,setPixelEx:function(Self, x$2, y$1, R$1, G$1, B$1, A$1) {
      var mRef$3=null;
      var mIndex=0;
      mRef$3=Self.FHandle;
      
    mIndex = ( ( (mRef$3).width * 4 ) * y$1 ) + (x$2 * 4) ;
    (mRef$3).data[mIndex + 0] = R$1;
    (mRef$3).data[mIndex + 1] = G$1;
    (mRef$3).data[mIndex + 2] = B$1;
    (mRef$3).data[mIndex + 3] = A$1;
     }
   ,setR:function(Self, x$2, y$1, aValue) {
      var mRef$3=null;
      var mIndex=0;
      mRef$3=Self.FHandle;
      
    mIndex = ( ( (mRef$3).width * 4 ) * y$1 ) + (x$2 * 4) ;
    (mRef$3).data[mIndex] = aValue;
     }
   ,Destroy:TObject.Destroy
   ,Destroy$v:TObject.Destroy$v
};
var TW3CustomGraphicContext={
   $ClassName:"TW3CustomGraphicContext",
   $Parent:TObject,
   $Init:function (Self) {
      TObject.$Init(Self);
   }
   ,Allocate:function(Self, aWidth, aHeight) {
      if (TW3CustomGraphicContext.getOwnsReference$v(Self)) {
         if ((TW3CustomGraphicContext.getDC$v(Self)!==null)) {
            TW3CustomGraphicContext.Release$v(Self);
         };
         TW3CustomGraphicContext.SetSize$v(Self,aWidth,aHeight);
      } else {
         throw Exception.Create$1($New(Exception),"Cannot modify current graphics context");
      };
   }
   ,Release:function(Self) {
      if (TW3CustomGraphicContext.getOwnsReference$v(Self)) {
         if ((TW3CustomGraphicContext.getDC$v(Self)!==null)) {
            TW3CustomGraphicContext.ReleaseDC$v(Self);
         };
      } else {
         throw Exception.Create$1($New(Exception),"Cannot modify current graphics context");
      };
   }
   ,Destroy:TObject.Destroy
   ,Destroy$v:TObject.Destroy$v
   ,getDC$v:function(Self){return Self.ClassType.getDC(Self)}
   ,getWidth$v:function(Self){return Self.ClassType.getWidth(Self)}
   ,getHeight$v:function(Self){return Self.ClassType.getHeight(Self)}
   ,getOwnsReference$v:function(Self){return Self.ClassType.getOwnsReference(Self)}
   ,SetSize$v:function(Self){return Self.ClassType.SetSize.apply(Self.ClassType, arguments)}
   ,ReleaseDC$v:function(Self){return Self.ClassType.ReleaseDC(Self)}
   ,getHandle$v:function(Self){return Self.ClassType.getHandle(Self)}
   ,Allocate$v:function(Self){return Self.ClassType.Allocate.apply(Self.ClassType, arguments)}
   ,Release$v:function(Self){return Self.ClassType.Release(Self)}
};
var TW3GraphicContext={
   $ClassName:"TW3GraphicContext",
   $Parent:TW3CustomGraphicContext,
   $Init:function (Self) {
      TW3CustomGraphicContext.$Init(Self);
      Self.FObjId="";
      Self.FObjRef=null;
      Self.FOwner=null;
   }
   ,Create$1:function(Self, AOwner) {
      TObject.Create(Self);
      Self.FObjRef=w3_createElement("canvas");
      if (Self.FObjRef===null) {
         throw Exception.Create$1($New(Exception),"Failed to create canvas object error");
      };
      Self.FObjId=w3_getUniqueObjId();
      w3_setProperty(Self.FObjRef,"id",Self.FObjId);
      Self.FOwner=AOwner;
      if (!(AOwner===null)) {
         w3_setElementParentByRef(Self.FObjRef,AOwner);
      };
      return Self
   }
   ,Destroy:function(Self) {
      if (!(Self.FOwner===null)) {
         w3_setElementParentByRef(Self.FObjRef,null);
      };
      Self.FOwner=null;
      Self.FObjRef=null;
      TObject.Destroy(Self);
   }
   ,getDC:function(Self) {
      var Result=null;
      var mRef$3=null;
      if ((Self.FObjRef!==null)) {
         mRef$3=Self.FObjRef;
         
      Result = (mRef$3).getContext("2d");
          };
      return Result
   }
   ,getHandle:function(Self) {
      var Result=null;
      Result=Self.FObjRef;
      return Result
   }
   ,getHeight:function(Self) {
      var Result=0;
      if ((Self.FObjRef!==null)) {
         Result=w3_getPropertyAsInt(Self.FObjRef,"height");
      };
      return Result
   }
   ,getOwnsReference:function(Self) {
      var Result=false;
      Result=true;
      return Result
   }
   ,getWidth:function(Self) {
      var Result=0;
      if ((Self.FObjRef!==null)) {
         Result=w3_getPropertyAsInt(Self.FObjRef,"width");
      };
      return Result
   }
   ,ReleaseDC:function(Self) {
      if ((Self.FObjRef!==null)) {
         w3_setProperty(Self.FObjRef,"width",0);
         w3_setProperty(Self.FObjRef,"height",0);
      };
   }
   ,SetSize:function(Self, aNewWidth, aNewHeight) {
      if ((Self.FObjRef!==null)) {
         w3_setProperty(Self.FObjRef,"width",aNewWidth);
         w3_setProperty(Self.FObjRef,"height",aNewHeight);
      };
   }
   ,Destroy$v:function(Self){return Self.ClassType.Destroy(Self)}
   ,getDC$v:function(Self){return Self.ClassType.getDC(Self)}
   ,getWidth$v:function(Self){return Self.ClassType.getWidth(Self)}
   ,getHeight$v:function(Self){return Self.ClassType.getHeight(Self)}
   ,getOwnsReference$v:function(Self){return Self.ClassType.getOwnsReference(Self)}
   ,SetSize$v:function(Self){return Self.ClassType.SetSize.apply(Self.ClassType, arguments)}
   ,ReleaseDC$v:function(Self){return Self.ClassType.ReleaseDC(Self)}
   ,getHandle$v:function(Self){return Self.ClassType.getHandle(Self)}
   ,Allocate:TW3CustomGraphicContext.Allocate
   ,Allocate$v:TW3CustomGraphicContext.Allocate$v
   ,Release:TW3CustomGraphicContext.Release
   ,Release$v:TW3CustomGraphicContext.Release$v
   ,Create$1$v:function(Self){return Self.ClassType.Create$1.apply(Self.ClassType, arguments)}
};
var TW3ControlGraphicContext={
   $ClassName:"TW3ControlGraphicContext",
   $Parent:TW3CustomGraphicContext,
   $Init:function (Self) {
      TW3CustomGraphicContext.$Init(Self);
      Self.FTagRef=null;
   }
   ,Create$1:function(Self, ATagRef) {
      TObject.Create(Self);
      Self.FTagRef=ATagRef;
      return Self
   }
   ,getDC:function(Self) {
      var Result=null;
      var mRef$3=null;
      if ((Self.FTagRef!==null)) {
         mRef$3=Self.FTagRef;
         
    Result = (mRef$3).getContext("2d");
          } else {
         Result=null;
      };
      return Result
   }
   ,getHandle:function(Self) {
      var Result=null;
      Result=Self.FTagRef;
      return Result
   }
   ,getHeight:function(Self) {
      var Result=0;
      if ((Self.FTagRef!==null)) {
         Result=w3_getPropertyAsInt(Self.FTagRef,"height");
      } else {
         throw Exception.Create$1($New(Exception),"Tag reference is NIL error");
      };
      return Result
   }
   ,getOwnsReference:function(Self) {
      var Result=false;
      Result=false;
      return Result
   }
   ,getWidth:function(Self) {
      var Result=0;
      if ((Self.FTagRef!==null)) {
         Result=w3_getPropertyAsInt(Self.FTagRef,"width");
      } else {
         throw Exception.Create$1($New(Exception),"Tag reference is NIL error");
      };
      return Result
   }
   ,ReleaseDC:function(Self) {
   }
   ,SetSize:function(Self, aNewWidth, aNewHeight) {
   }
   ,Destroy:TObject.Destroy
   ,Destroy$v:TObject.Destroy$v
   ,getDC$v:function(Self){return Self.ClassType.getDC(Self)}
   ,getWidth$v:function(Self){return Self.ClassType.getWidth(Self)}
   ,getHeight$v:function(Self){return Self.ClassType.getHeight(Self)}
   ,getOwnsReference$v:function(Self){return Self.ClassType.getOwnsReference(Self)}
   ,SetSize$v:function(Self){return Self.ClassType.SetSize.apply(Self.ClassType, arguments)}
   ,ReleaseDC$v:function(Self){return Self.ClassType.ReleaseDC(Self)}
   ,getHandle$v:function(Self){return Self.ClassType.getHandle(Self)}
   ,Allocate:TW3CustomGraphicContext.Allocate
   ,Allocate$v:TW3CustomGraphicContext.Allocate$v
   ,Release:TW3CustomGraphicContext.Release
   ,Release$v:TW3CustomGraphicContext.Release$v
   ,Create$1$v:function(Self){return Self.ClassType.Create$1.apply(Self.ClassType, arguments)}
};
var TW3CanvasGradient={
   $ClassName:"TW3CanvasGradient",
   $Parent:TObject,
   $Init:function (Self) {
      TObject.$Init(Self);
      Self.FHandle=null;
   }
   ,addColorStop:function(Self, offset, Color$1) {
      var mRef$3=null;
      mRef$3=Self.FHandle;
      
    (mRef$3).addColorStop(offset,Color$1);
     }
   ,Create$1:function(Self, AHandle) {
      TObject.Create(Self);
      Self.FHandle=AHandle;
      return Self
   }
   ,Destroy:TObject.Destroy
   ,Destroy$v:TObject.Destroy$v
};
var TW3Canvas={
   $ClassName:"TW3Canvas",
   $Parent:TObject,
   $Init:function (Self) {
      TObject.$Init(Self);
      Self.FContext=null;
      Self.FDC=null;
   }
   ,ArcF:function(Self, x$2, y$1, radius, startAngle, endAngle, anticlockwise) {
      var mRef$3=null;
      mRef$3=Self.FDC;
      
    (mRef$3).arc(x$2,y$1,radius,startAngle,endAngle,anticlockwise);
     }
   ,ArcToF:function(Self, x1, y1, x2, y2, radius) {
      var mRef$3=null;
      mRef$3=Self.FDC;
      
    (mRef$3).arcTo(x1,y1,x2,y2,radius);
     }
   ,BeginPath:function(Self) {
      var mRef$3=null;
      mRef$3=Self.FDC;
      
    (mRef$3).beginPath();
     }
   ,BezierCurveToF:function(Self, cp1x, cp1y, cp2x, cp2y, x$2, y$1) {
      var mRef$3=null;
      mRef$3=Self.FDC;
      
    (mRef$3).bezierCurveTo(cp1x,cp1y,cp2x,cp2y,x,y);
     }
   ,Clear:function(Self) {
      var mRef$3=null;
      var wd=0;
      var hd=0;
      if ((Self.FContext!==null)) {
         mRef$3=Self.FDC;
         wd=TW3CustomGraphicContext.getWidth$v(Self.FContext);
         hd=TW3CustomGraphicContext.getHeight$v(Self.FContext);
         
      (mRef$3).clearRect(0,0,wd,hd);
          };
   }
   ,ClearRectF:function(Self, aLeft, aTop, aWidth, aHeight) {
      var mRef$3=null;
      mRef$3=Self.FDC;
      
    (mRef$3).clearRect(aLeft,aTop,aWidth,aHeight);
     }
   ,ClearShadow:function(Self) {
      var mRef$3=null;
      mRef$3=Self.FDC;
      
    (mRef$3).clearShadow();
     }
   ,Clip:function(Self) {
      var mRef$3=null;
      mRef$3=Self.FDC;
      
    (mRef$3).clip();
     }
   ,ClosePath:function(Self) {
      var mRef$3=null;
      mRef$3=Self.FDC;
      
    (mRef$3).closePath();
     }
   ,Create$1:function(Self, Context$1) {
      TObject.Create(Self);
      Self.FContext=Context$1;
      if (!(Self.FContext!==null)) {
         throw Exception.Create$1($New(Exception),"Invalid canvas context error");
      } else {
         Self.FDC=TW3CustomGraphicContext.getDC$v(Self.FContext);
      };
      return Self
   }
   ,CreateImageData:function(Self, sw, sh) {
      var Result=null;
      var mTemp$3=null;
      var mRef$3=null;
      mRef$3=Self.FDC;
      
    mTemp$3 = (mRef$3).createImageData(sw,sh);
  if ((mTemp$3!==null)) {
         Result=TObject.Create($New(TW3ImageData));
         TW3ImageData.fromImageData(Result,mTemp$3);
      };
      return Result
   }
   ,CreateLinearGradientF:function(Self, x0, y0, x1, y1) {
      var Result=null;
      var mTemp$3=null;
      var mRef$3=null;
      mRef$3=Self.FDC;
      
    mTemp$3 = (mRef$3).createLinearGradient(x0,y0,x1,y1);
  if ((mTemp$3!==null)) {
         Result=TW3CanvasGradient.Create$1($New(TW3CanvasGradient),mTemp$3);
      };
      return Result
   }
   ,CreatePatternF:function(Self, image, aRepeat) {
      var mRef$3=null;
      mRef$3=Self.FDC;
      
    (mRef$3).createPattern(image,aRepeat);
     }
   ,CreateRadialGradientF:function(Self, x0, y0, r0, x1, y1, r1) {
      var Result=null;
      var mTemp$3=null;
      var mRef$3=null;
      mRef$3=Self.FDC;
      
    mTemp$3 = (mRef$3).createRadialGradient(x0,y0,x1,y1,r1);
  if ((mTemp$3!==null)) {
         Result=TW3CanvasGradient.Create$1($New(TW3CanvasGradient),mTemp$3);
      };
      return Result
   }
   ,DrawImageEx2F:function(Self, image, sx, sy, sw, sh, dx, dy, dw, dh) {
      var mRef$3=null;
      mRef$3=Self.FDC;
      
    (mRef$3).drawImage(image,sx,sy,sw,sh,dx,dy,dw,dh);
     }
   ,DrawImageExF:function(Self, image, x$2, y$1, ow, oh) {
      var mRef$3=null;
      mRef$3=Self.FDC;
      
    (mRef$3).drawImage(image,x$2,y$1,ow,oh);
     }
   ,DrawImageF:function(Self, image, x$2, y$1) {
      var mRef$3=null;
      mRef$3=Self.FDC;
      
    (mRef$3).drawImage(image,x$2,y$1);
     }
   ,FillF:function(Self) {
      var mRef$3=null;
      mRef$3=Self.FDC;
      
    (mRef$3).fill();
     }
   ,FillRectF:function(Self, aLeft, aTop, aWidth, aHeight) {
      var mRef$3=null;
      mRef$3=Self.FDC;
      
    (mRef$3).fillRect(aLeft,aTop,aWidth,aHeight);
     }
   ,FillTextF:function(Self, text, x$2, y$1, maxWidth) {
      var mRef$3=null;
      mRef$3=Self.FDC;
      
    (mRef$3).fillText(text,x$2,y$1,maxWidth);
     }
   ,getFillStyle:function(Self) {
      var Result="";
      var mRef$3=null;
      mRef$3=Self.FDC;
      
    Result = (mRef$3).fillStyle;
  return Result
   }
   ,getFont:function(Self) {
      var Result="";
      var mRef$3=null;
      mRef$3=Self.FDC;
      
    Result = (mRef$3).font;
  return Result
   }
   ,getGlobalAlpha:function(Self) {
      var Result=0.0;
      var mRef$3=null;
      mRef$3=Self.FDC;
      
    Result = (mRef$3).globalAlpha;
  return Result
   }
   ,getGlobalCompOp:function(Self) {
      var Result="";
      var mRef$3=null;
      mRef$3=Self.FDC;
      
    Result = (mRef$3).globalCompositeOperation;
  return Result
   }
   ,GetImageData:function(Self, sx, sy, sw, sh) {
      var Result=null;
      var mTemp$3=null;
      var mRef$3=null;
      mRef$3=Self.FDC;
      
    mTemp$3 = (mRef$3).getImageData(sx,sy,sw,sh);
  if ((mTemp$3!==null)) {
         Result=TObject.Create($New(TW3ImageData));
         TW3ImageData.fromImageData(Result,mTemp$3);
      };
      return Result
   }
   ,getLineCap:function(Self) {
      var Result="";
      var mRef$3=null;
      mRef$3=Self.FDC;
      
    Result = (mRef$3).lineCap;
  return Result
   }
   ,getLineJoin:function(Self) {
      var Result="";
      var mRef$3=null;
      mRef$3=Self.FDC;
      
    Result = (mRef$3).lineJoin;
  return Result
   }
   ,getLineWidth:function(Self) {
      var Result=0.0;
      var mRef$3=null;
      mRef$3=Self.FDC;
      
    Result = (mRef$3).lineWidth;
  return Result
   }
   ,getMiterLimit:function(Self) {
      var Result=0.0;
      var mRef$3=null;
      mRef$3=Self.FDC;
      
    Result = (mRef$3).miterLimit;
  return Result
   }
   ,getShadowBlur:function(Self) {
      var Result=0.0;
      var mRef$3=null;
      mRef$3=Self.FDC;
      
    Result = (mRef$3).shadowBlur;
  return Result
   }
   ,getShadowColor:function(Self) {
      var Result="";
      var mRef$3=null;
      mRef$3=Self.FDC;
      
    Result = (mRef$3).shadowColor;
  return Result
   }
   ,getshadowX:function(Self) {
      var Result=0.0;
      var mRef$3=null;
      mRef$3=Self.FDC;
      
    Result = (mRef$3).shadowOffsetX;
  return Result
   }
   ,getshadowY:function(Self) {
      var Result=0.0;
      var mRef$3=null;
      mRef$3=Self.FDC;
      
    Result = (mRef$3).shadowOffsetY;
  return Result
   }
   ,getStrokeStyle:function(Self) {
      var Result="";
      var mRef$3=null;
      mRef$3=Self.FDC;
      
    Result = (mRef$3).strokeStyle;
  return Result
   }
   ,getTextAlign:function(Self) {
      var Result="";
      var mRef$3=null;
      mRef$3=Self.FDC;
      
    Result = (mRef$3).textAlign;
  return Result
   }
   ,getTextBaseline:function(Self) {
      var Result="";
      var mRef$3=null;
      mRef$3=Self.FDC;
      
    Result = (mRef$3).textBaseline;
  return Result
   }
   ,isPointInPathF:function(Self, x$2, y$1) {
      var Result=false;
      var mRef$3=null;
      mRef$3=Self.FDC;
      
    Result = (mRef$3).isPointInPath(x$2,y$1);
  return Result
   }
   ,LineF:function(Self, x1, y1, x2, y2) {
      var mRef$3=null;
      mRef$3=Self.FDC;
      
    (mRef$3).moveTo(x1,y1);
    (mRef$3).lineTo(x2,y2);
     }
   ,LineToF:function(Self, x$2, y$1) {
      var mRef$3=null;
      mRef$3=Self.FDC;
      
    (mRef$3).lineTo(x$2,y$1);
     }
   ,MeasureTextF:function(Self, aText) {
      var Result={Width:0.0};
      var mRef$3=null;
      var wd=0;
      mRef$3=Self.FDC;
      
    wd =(mRef$3).measureText(aText).width;
  Result.Width=wd;
      return Result
   }
   ,MoveToF:function(Self, x$2, y$1) {
      var mRef$3=null;
      mRef$3=Self.FDC;
      
    (mRef$3).moveTo(x$2,y$1);
     }
   ,PutImageData:function(Self, ImageData, x$2, y$1) {
      var mSrc=null;
      var mRef$3=null;
      if ((ImageData!==null)) {
         mRef$3=Self.FDC;
         mSrc=ImageData.FHandle;
         
      (mRef$3).putImageData(mSrc,x$2,y$1);
          } else {
         throw Exception.Create$1($New(Exception),"ImageData was NIL error");
      };
   }
   ,PutImageDataEx:function(Self, ImageData, x$2, y$1, dx, dy, dw, dh) {
      var mSrc=null;
      var mRef$3=null;
      if ((ImageData!==null)) {
         mRef$3=Self.FDC;
         mSrc=ImageData.FHandle;
         
      (mRef$3).putImageData(mSrc,x$2,y$1,dx,dy,dw,dh);
          } else {
         throw Exception.Create$1($New(Exception),"ImageData was NIL error");
      };
   }
   ,QuadraticCurveToF:function(Self, cpx, cpy, x$2, y$1) {
      var mRef$3=null;
      mRef$3=Self.FDC;
      
    (mRef$3).quadraticCurveTo(cpx,cpy,x$2,y$1);
     }
   ,RectangleF:function(Self, aLeft, aTop, aWidth, aHeight) {
      var mRef$3=null;
      mRef$3=Self.FDC;
      
    (mRef$3).rect(aLeft,aTop,aWidth,aHeight);
     }
   ,Restore:function(Self) {
      var mRef$3=null;
      if ((Self.FContext!==null)) {
         mRef$3=Self.FDC;
         
      (mRef$3).restore();
          };
   }
   ,RotateF:function(Self, angle) {
      var mRef$3=null;
      mRef$3=Self.FDC;
      
    (mRef$3).rotate(angle);
     }
   ,Save:function(Self) {
      var mRef$3=null;
      if ((Self.FContext!==null)) {
         mRef$3=Self.FDC;
         
      (mRef$3).save();
          };
   }
   ,ScaleF:function(Self, sx, sy) {
      var mRef$3=null;
      mRef$3=Self.FDC;
      
    (mRef$3).scale(sx,sy);
     }
   ,setFillStyle:function(Self, aValue) {
      var mRef$3=null;
      mRef$3=Self.FDC;
      
    (mRef$3).fillStyle = aValue;
     }
   ,setFont:function(Self, aValue) {
      var mRef$3=null;
      mRef$3=Self.FDC;
      
    (mRef$3).font = aValue;
     }
   ,setGlobalAlpha:function(Self, aValue) {
      var mRef$3=null;
      mRef$3=Self.FDC;
      
    (mRef$3).globalAlpha = aValue;
     }
   ,setGlobalCompOp:function(Self, aValue) {
      var mRef$3=null;
      mRef$3=Self.FDC;
      
    (mRef$3).globalCompositeOperation = aValue;
     }
   ,setLineCap:function(Self, aValue) {
      var mRef$3=null;
      mRef$3=Self.FDC;
      
    (mRef$3).lineCap = aValue;
     }
   ,setLineJoin:function(Self, aValue) {
      var mRef$3=null;
      mRef$3=Self.FDC;
      
    (mRef$3).lineJoin = aValue;
     }
   ,setLineWidth:function(Self, aValue) {
      var mRef$3=null;
      mRef$3=Self.FDC;
      
    (mRef$3).lineWidth = aValue;
     }
   ,setMiterLimit:function(Self, aValue) {
      var mRef$3=null;
      mRef$3=Self.FDC;
      
    (mRef$3).miterLimit = aValue;
     }
   ,setShadowBlur:function(Self, aValue) {
      var mRef$3=null;
      mRef$3=Self.FDC;
      
    (mRef$3).shadowBlur = aValue;
     }
   ,setShadowColor:function(Self, aValue) {
      var mRef$3=null;
      mRef$3=Self.FDC;
      
    (mRef$3).shadowColor = aValue;
     }
   ,setShadowX:function(Self, aValue) {
      var mRef$3=null;
      mRef$3=Self.FDC;
      
    (mRef$3).shadowOffsetX = aValue;
     }
   ,setShadowY:function(Self, aValue) {
      var mRef$3=null;
      mRef$3=Self.FDC;
      
    (mRef$3).shadowOffsetY = aValue;
     }
   ,setStrokeStyle:function(Self, aValue) {
      var mRef$3=null;
      mRef$3=Self.FDC;
      
    (mRef$3).strokeStyle = aValue;
     }
   ,setTextAlign:function(Self, aValue) {
      var mRef$3=null;
      mRef$3=Self.FDC;
      
    (mRef$3).textAlign = aValue;
     }
   ,setTextbaseLine:function(Self, aValue) {
      var mRef$3=null;
      mRef$3=Self.FDC;
      
    (mRef$3).textBaseline = aValue;
     }
   ,SetTransFormF:function(Self, m11, m12, m21, m22, dx, dy) {
      var mRef$3=null;
      mRef$3=Self.FDC;
      
    (mRef$3).setTransForm(m11,m12,m21,m22,dx,dy);
     }
   ,Stroke:function(Self) {
      var mRef$3=null;
      mRef$3=Self.FDC;
      
    (mRef$3).stroke();
     }
   ,StrokeRectF:function(Self, aLeft, aTop, awidth, aheight) {
      var mRef$3=null;
      mRef$3=Self.FDC;
      
    (mRef$3).strokeRect(aLeft,aTop,awidth,aheight);
     }
   ,StrokeTextF:function(Self, text, x$2, y$1, maxwidth) {
      var mRef$3=null;
      mRef$3=Self.FDC;
      
    (mRef$3).strokeText(text,x$2,y$1,maxwidth);
     }
   ,toDataURL:function(Self, aMimeType) {
      var Result="";
      var mRef$3=null;
      if ($Is(Self.FContext,TW3GraphicContext)) {
         mRef$3=TW3GraphicContext.getHandle$v($As(Self.FContext,TW3GraphicContext));
         
      Result = (mRef$3).toDataURL(aMimeType);
          } else {
         Result="";
      };
      return Result
   }
   ,toImageData:function(Self) {
      var Result=null;
      var mTemp$3=null;
      var mRef$3=null;
      var wd=0;
      var hd=0;
      mRef$3=Self.FDC;
      
    wd = (FDC).width;
    hd = (FDC).height;
    mTemp$3 = (mRef$3).getImageData(0,0,wd,hd);
  if ((mTemp$3!==null)) {
         Result=TObject.Create($New(TW3ImageData));
         TW3ImageData.fromImageData(Result,mTemp$3);
      };
      return Result
   }
   ,TransformF:function(Self, m11, m12, m21, m22, dx, dy) {
      var mRef$3=null;
      mRef$3=Self.FDC;
      
    (mRef$3).setTransForm(m11,m12,m21,m22,dx,dy);
     }
   ,TranslateF:function(Self, tx, ty) {
      var mRef$3=null;
      mRef$3=Self.FDC;
      
    (mRef$3).translate(tx,ty);
     }
   ,Destroy:TObject.Destroy
   ,Destroy$v:TObject.Destroy$v
   ,Save$v:function(Self){return Self.ClassType.Save(Self)}
   ,Restore$v:function(Self){return Self.ClassType.Restore(Self)}
   ,Create$1$v:function(Self){return Self.ClassType.Create$1.apply(Self.ClassType, arguments)}
};
var TW3BackgroundGraphicContext={
   $ClassName:"TW3BackgroundGraphicContext",
   $Parent:TW3CustomGraphicContext,
   $Init:function (Self) {
      TW3CustomGraphicContext.$Init(Self);
      Self.FContext=null;
      Self.FHeight=0;
      Self.FName="";
      Self.FWidth=0;
   }
   ,Create$1:function(Self, aName, aWidth, aHeight) {
      var mRef$3=null;
      TObject.Create(Self);
      aName=Trim(aName);
      if ((aName).length>0) {
         if ((aWidth>0)&&(aHeight>0)) {
            Self.FName=aName;
            TW3BackgroundGraphicContext.SetSize$v(Self,aWidth,aHeight);
         } else {
            throw Exception.Create$1($New(EW3Exception),"Background-canvas size must be positive");
         };
      } else {
         throw Exception.Create$1($New(EW3Exception),"Background-canvas name cannot be empty");
      };
      return Self
   }
   ,getDC:function(Self) {
      var Result=null;
      Result=Self.FContext;
      return Result
   }
   ,getHandle:function(Self) {
      var Result=null;
      Result=null;
      return Result
   }
   ,getHeight:function(Self) {
      var Result=0;
      Result=Self.FHeight;
      return Result
   }
   ,getOwnsReference:function(Self) {
      var Result=false;
      Result=true;
      return Result
   }
   ,getWidth:function(Self) {
      var Result=0;
      Result=Self.FWidth;
      return Result
   }
   ,ReleaseDC:function(Self) {
      Self.FContext=null;
      Self.FWidth=0;
      Self.FHeight=0;
   }
   ,SetSize:function(Self, aNewWidth, aNewHeight) {
      var mRef$3=null;
      var mName="";
      if ((aNewWidth!=Self.FWidth)||(aNewHeight!=Self.FHeight)) {
         if ((aNewWidth>0)&&(aNewHeight>0)) {
            mName=Self.FName;
            try {
               
        mRef$3=document.getCSSCanvasContext("2d",mName,aNewWidth,aNewHeight);
        if (!(mRef$3!==null)) {
                  throw Exception.Create$1($New(Exception),"Failed to hook CSS canvas");
               };
               Self.FContext=mRef$3;
               Self.FWidth=aNewWidth;
               Self.FHeight=aNewHeight;
            } catch ($e) {
               if ($Is($e,Exception)) {
                  var e=$e;
                  throw EW3Exception.CreateFmt($New(EW3Exception),"Background-canvas resize failed: %s",[e.FMessage]);
               }
               else throw $e
            }
         } else {
            throw Exception.Create$1($New(EW3Exception),"Background-canvas size must be positive");
         };
      };
   }
   ,Destroy:TObject.Destroy
   ,Destroy$v:TObject.Destroy$v
   ,getDC$v:function(Self){return Self.ClassType.getDC(Self)}
   ,getWidth$v:function(Self){return Self.ClassType.getWidth(Self)}
   ,getHeight$v:function(Self){return Self.ClassType.getHeight(Self)}
   ,getOwnsReference$v:function(Self){return Self.ClassType.getOwnsReference(Self)}
   ,SetSize$v:function(Self){return Self.ClassType.SetSize.apply(Self.ClassType, arguments)}
   ,ReleaseDC$v:function(Self){return Self.ClassType.ReleaseDC(Self)}
   ,getHandle$v:function(Self){return Self.ClassType.getHandle(Self)}
   ,Allocate:TW3CustomGraphicContext.Allocate
   ,Allocate$v:TW3CustomGraphicContext.Allocate$v
   ,Release:TW3CustomGraphicContext.Release
   ,Release$v:TW3CustomGraphicContext.Release$v
   ,Create$1$v:function(Self){return Self.ClassType.Create$1.apply(Self.ClassType, arguments)}
};
function GetStrideAlign(Value, ElementSize, AlignSize) {
   var Result=0;
   Result=Value*ElementSize;
   if ((Result%AlignSize)>0) {
      Result=(Result+AlignSize)-(Result%AlignSize);
   };
   return Result
};
var TW3CustomFont={
   $ClassName:"TW3CustomFont",
   $Parent:TObject,
   $Init:function (Self) {
      TObject.$Init(Self);
      Self.FOnChange=null;
   }
   ,getColor:function(Self) {
      var Result=0;
      var mRef$3=null;
      var mText="";
      mRef$3=TW3CustomFont.getTagRef$v(Self);
      if ((mRef$3!==null)) {
         mText=w3_getStyleAsStr(mRef$3,"color");
         Result=strToColor(mText);
      } else {
         throw EW3Exception.CreateFmt($New(EW3FontError),"Method %s in class %s threw exception [%s]",["getColor",TObject.ClassName(Self.ClassType),"internal tag-object is NIL error"]);
      };
      return Result
   }
   ,getName:function(Self) {
      var Result="";
      var mRef$3=null;
      mRef$3=TW3CustomFont.getTagRef$v(Self);
      if ((mRef$3!==null)) {
         Result=w3_getStyleAsStr(mRef$3,"fontFamily");
      } else {
         throw Exception.Create$1($New(EW3FontError),Format("Method %s in class %s threw exception [%s]",["getName",TObject.ClassName(Self.ClassType),"internal tag-object is NIL error"]));
      };
      return Result
   }
   ,getSize:function(Self) {
      var Result=0;
      var mRef$3=null;
      var mText="";
      mRef$3=TW3CustomFont.getTagRef$v(Self);
      if ((mRef$3!==null)) {
         mText=w3_getStyleAsStr(mRef$3,"fontSize");
         
        Result = parseInt(mText);
            } else {
         throw EW3Exception.CreateFmt($New(EW3FontError),"Method %s in class %s threw exception [%s]",["getSize",TObject.ClassName(Self.ClassType),"internal tag-object is NIL error"]);
      };
      return Result
   }
   ,getWeight:function(Self) {
      var Result="";
      var mRef$3=null;
      mRef$3=TW3CustomFont.getTagRef$v(Self);
      if ((mRef$3!==null)) {
         Result=w3_getStyleAsStr(mRef$3,"fontWeight");
      } else {
         throw EW3Exception.CreateFmt($New(EW3FontError),"Method %s in class %s threw exception [%s]",["getWeight",TObject.ClassName(Self.ClassType),"internal tag-object is NIL error"]);
      };
      return Result
   }
   ,setColor:function(Self, aNewColor) {
      var mRef$3=null;
      mRef$3=TW3CustomFont.getTagRef$v(Self);
      if ((mRef$3!==null)) {
         w3_setStyle(mRef$3,"color",ColorToWebStr(aNewColor));
         if ((Self.FOnChange!==null)) {
            Self.FOnChange(Self);
         };
      } else {
         throw EW3Exception.CreateFmt($New(EW3FontError),"Method %s in class %s threw exception [%s]",["setColor",TObject.ClassName(Self.ClassType),"internal tag-object is NIL error"]);
      };
   }
   ,setName:function(Self, aNewName) {
      var mRef$3=null;
      mRef$3=TW3CustomFont.getTagRef$v(Self);
      if ((mRef$3!==null)) {
         w3_setStyle(mRef$3,"fontFamily",aNewName);
         if ((Self.FOnChange!==null)) {
            Self.FOnChange(Self);
         };
      } else {
         throw EW3Exception.CreateFmt($New(EW3FontError),"Method %s in class %s threw exception [%s]",["setName",TObject.ClassName(Self.ClassType),"internal tag-object is NIL error"]);
      };
   }
   ,setSize:function(Self, aNewSize) {
      var mRef$3=null;
      var mTxt="";
      mRef$3=TW3CustomFont.getTagRef$v(Self);
      if ((mRef$3!==null)) {
         mTxt=IntToStr(aNewSize)+"px";
         w3_setStyle(mRef$3,"fontSize",mTxt);
         if ((Self.FOnChange!==null)) {
            Self.FOnChange(Self);
         };
      } else {
         throw EW3Exception.CreateFmt($New(EW3FontError),"Method %s in class %s threw exception [%s]",["setSize",TObject.ClassName(Self.ClassType),"internal tag-object is NIL error"]);
      };
   }
   ,setWeight:function(Self, aNewWeight) {
      var mRef$3=null;
      mRef$3=TW3CustomFont.getTagRef$v(Self);
      if ((mRef$3!==null)) {
         w3_setStyle(mRef$3,"fontWeight",aNewWeight);
         if ((Self.FOnChange!==null)) {
            Self.FOnChange(Self);
         };
      } else {
         throw EW3Exception.CreateFmt($New(EW3FontError),"Method %s in class %s threw exception [%s]",["setWeight",TObject.ClassName(Self.ClassType),"internal tag-object is NIL error"]);
      };
   }
   ,Destroy:TObject.Destroy
   ,Destroy$v:TObject.Destroy$v
   ,getTagRef$v:function(Self){return Self.ClassType.getTagRef(Self)}
};
var EW3FontError={
   $ClassName:"EW3FontError",
   $Parent:EW3Exception,
   $Init:function (Self) {
      EW3Exception.$Init(Self);
   }
   ,Destroy:Exception.Destroy
   ,Destroy$v:Exception.Destroy$v
};
var TW3ScrollInfo={
   $ClassName:"TW3ScrollInfo",
   $Parent:TW3OwnedObject,
   $Init:function (Self) {
      TW3OwnedObject.$Init(Self);
   }
   ,AcceptParent:function(Self, aObject) {
      var Result=false;
      Result=(aObject!==null)&&$Is(aObject,TW3TagObj);
      return Result
   }
   ,getScrollHeight:function(Self) {
      var Result=0;
      var mRef$3=null;
      mRef$3=$As(Self.FOwner,TW3TagObj).FTagObj;
      Result=0;
      if ((mRef$3!==null)) {
         
      if ( (mRef$3).scrollHeight )
      Result=(mRef$3).scrollHeight;
          };
      return Result
   }
   ,getScrollLeft:function(Self) {
      var Result=0;
      var mRef$3=null;
      Result=0;
      mRef$3=$As(Self.FOwner,TW3TagObj).FTagObj;
      if ((mRef$3!==null)) {
         
      if ( (mRef$3).scrollLeft )
      Result = (mRef$3).scrollLeft;
          };
      return Result
   }
   ,getScrollTop:function(Self) {
      var Result=0;
      var mRef$3=null;
      Result=0;
      mRef$3=$As(Self.FOwner,TW3TagObj).FTagObj;
      if ((mRef$3!==null)) {
         
      if ( (mRef$3).scrollTop )
      Result = (mRef$3).scrollTop;
          };
      return Result
   }
   ,getScrollWidth:function(Self) {
      var Result=0;
      var mRef$3=null;
      mRef$3=$As(Self.FOwner,TW3TagObj).FTagObj;
      Result=0;
      if ((mRef$3!==null)) {
         
      if ( (mRef$3).scrollWidth )
      Result=(mRef$3).scrollWidth;
          };
      return Result
   }
   ,ScrollTo:function(Self, aLeft, aTop) {
      var mRef$3=null;
      mRef$3=$As(Self.FOwner,TW3TagObj).FTagObj;
      if ((mRef$3!==null)) {
         
      (mRef$3).scrollLeft=aLeft;
      (mRef$3).scrollTop=aTop;
          };
   }
   ,ScrollX:function(Self, aLeft) {
      var mRef$3=null;
      mRef$3=$As(Self.FOwner,TW3TagObj).FTagObj;
      if ((mRef$3!==null)) {
         
      (mRef$3).scrollLeft=aLeft;
          };
   }
   ,ScrollY:function(Self, aTop) {
      var mRef$3=null;
      mRef$3=$As(Self.FOwner,TW3TagObj).FTagObj;
      if ((mRef$3!==null)) {
         
      (mRef$3).scrollTop=aTop;
          };
   }
   ,toString:function(Self) {
      var Result="";
      Result=Format("OffsetX=%s,OffsetY=%s,ScrollWidth=%s,ScrollHeight=%s",[TW3ScrollInfo.getScrollLeft(Self),TW3ScrollInfo.getScrollTop(Self),TW3ScrollInfo.getScrollWidth(Self),TW3ScrollInfo.getScrollHeight(Self)]);
      return Result
   }
   ,Destroy:TObject.Destroy
   ,Destroy$v:TObject.Destroy$v
   ,AcceptParent$v:function(Self){return Self.ClassType.AcceptParent.apply(Self.ClassType, arguments)}
   ,Create$1:TW3OwnedObject.Create$1
   ,Create$1$v:TW3OwnedObject.Create$1$v
   ,toString$v:function(Self){return Self.ClassType.toString(Self)}
};
var TW3GraphicControl={
   $ClassName:"TW3GraphicControl",
   $Parent:TW3CustomControl,
   $Init:function (Self) {
      TW3CustomControl.$Init(Self);
      Self.FCanvas=null;
      Self.FContext=null;
      Self.FOnPaint=null;
      Self.FReady=false;
   }
   ,FinalizeObject:function(Self) {
      TObject.Free(Self.FCanvas);
      TObject.Free(Self.FContext);
      TW3CustomControl.FinalizeObject(Self);
   }
   ,getDC:function(Self) {
      var Result=null;
      var mRef$3=null;
      mRef$3=Self.FTagObj;
      
    Result = (mRef$3).getContext("2d");
  return Result
   }
   ,InitializeObject:function(Self) {
      var mId="";
      TW3CustomControl.InitializeObject(Self);
      Self.FContext=TW3ControlGraphicContext.Create$1$v($New(TW3ControlGraphicContext),Self.FTagObj);
      Self.FCanvas=TW3Canvas.Create$1$v($New(TW3Canvas),Self.FContext);
   }
   ,Invalidate:function(Self) {
      if (!TW3Component.getUpdating(Self)) {
         if (((!(Self.FCanvas===null))&&(!(Self.FContext===null)))&&TW3CustomControl.getVisible(Self)) {
            TW3GraphicControl.Paint$v(Self);
         };
      };
   }
   ,makeElementTagObj:function(Self) {
      var Result=null;
      Result=w3_createElement("canvas");
      return Result
   }
   ,Paint:function(Self) {
      if ((Self.FOnPaint!==null)) {
         Self.FOnPaint(Self,Self.FCanvas);
      };
   }
   ,Resize:function(Self) {
      TW3CustomControl.Resize(Self);
      w3_setAttrib(Self.FTagObj,"width",w3_getStyle(Self.FTagObj,"width"));
      w3_setAttrib(Self.FTagObj,"height",w3_getStyle(Self.FTagObj,"height"));
   }
   ,setHeight:function(Self, aValue) {
      var mRef$3=null;
      TW3CustomControl.setHeight(Self,aValue);
      mRef$3=Self.FTagObj;
      
    (mRef$3).setAttribute('height',aValue + "px");
     }
   ,setWidth:function(Self, aValue) {
      var mRef$3=null;
      TW3CustomControl.setWidth(Self,aValue);
      mRef$3=Self.FTagObj;
      
    (mRef$3).setAttribute('width',aValue + "px");
     }
   ,Destroy:TW3TagObj.Destroy
   ,Destroy$v:TW3TagObj.Destroy$v
   ,makeElementTagId:TW3TagObj.makeElementTagId
   ,makeElementTagId$v:TW3TagObj.makeElementTagId$v
   ,makeElementTagObj$v:function(Self){return Self.ClassType.makeElementTagObj(Self)}
   ,StyleTagObject:TW3CustomControl.StyleTagObject
   ,StyleTagObject$v:TW3CustomControl.StyleTagObject$v
   ,InitializeObject$v:function(Self){return Self.ClassType.InitializeObject(Self)}
   ,FinalizeObject$v:function(Self){return Self.ClassType.FinalizeObject(Self)}
   ,UnHookEvents:TW3TagObj.UnHookEvents
   ,UnHookEvents$v:TW3TagObj.UnHookEvents$v
   ,Create$1:TW3TagObj.Create$1
   ,Create$1$v:TW3TagObj.Create$1$v
   ,AfterUpdate:TW3CustomControl.AfterUpdate
   ,AfterUpdate$v:TW3CustomControl.AfterUpdate$v
   ,CBNoBehavior:TW3Component.CBNoBehavior
   ,CBNoBehavior$v:TW3Component.CBNoBehavior$v
   ,EndUpdate:TW3Component.EndUpdate
   ,EndUpdate$v:TW3Component.EndUpdate$v
   ,Create$2:TW3Component.Create$2
   ,Create$2$v:TW3Component.Create$2$v
   ,CMTouchBegins:TW3CustomControl.CMTouchBegins
   ,CMTouchBegins$v:TW3CustomControl.CMTouchBegins$v
   ,CMTouchMove:TW3CustomControl.CMTouchMove
   ,CMTouchMove$v:TW3CustomControl.CMTouchMove$v
   ,CMTouchEnds:TW3CustomControl.CMTouchEnds
   ,CMTouchEnds$v:TW3CustomControl.CMTouchEnds$v
   ,CBMouseDown:TW3CustomControl.CBMouseDown
   ,CBMouseDown$v:TW3CustomControl.CBMouseDown$v
   ,CBMouseUp:TW3CustomControl.CBMouseUp
   ,CBMouseUp$v:TW3CustomControl.CBMouseUp$v
   ,CBMouseMove:TW3CustomControl.CBMouseMove
   ,CBMouseMove$v:TW3CustomControl.CBMouseMove$v
   ,CBMouseOver:TW3CustomControl.CBMouseOver
   ,CBMouseOver$v:TW3CustomControl.CBMouseOver$v
   ,CBMouseOut:TW3CustomControl.CBMouseOut
   ,CBMouseOut$v:TW3CustomControl.CBMouseOut$v
   ,CBClick:TW3CustomControl.CBClick
   ,CBClick$v:TW3CustomControl.CBClick$v
   ,CBDblClick:TW3CustomControl.CBDblClick
   ,CBDblClick$v:TW3CustomControl.CBDblClick$v
   ,CBKeyPress:TW3CustomControl.CBKeyPress
   ,CBKeyPress$v:TW3CustomControl.CBKeyPress$v
   ,CBKeyDown:TW3CustomControl.CBKeyDown
   ,CBKeyDown$v:TW3CustomControl.CBKeyDown$v
   ,CBKeyUp:TW3CustomControl.CBKeyUp
   ,CBKeyUp$v:TW3CustomControl.CBKeyUp$v
   ,CBAnimationBegins:TW3CustomControl.CBAnimationBegins
   ,CBAnimationBegins$v:TW3CustomControl.CBAnimationBegins$v
   ,CBAnimationEnds:TW3CustomControl.CBAnimationEnds
   ,CBAnimationEnds$v:TW3CustomControl.CBAnimationEnds$v
   ,CBChanged:TW3CustomControl.CBChanged
   ,CBChanged$v:TW3CustomControl.CBChanged$v
   ,CBFocused:TW3CustomControl.CBFocused
   ,CBFocused$v:TW3CustomControl.CBFocused$v
   ,CBLostFocus:TW3CustomControl.CBLostFocus
   ,CBLostFocus$v:TW3CustomControl.CBLostFocus$v
   ,getWidth:TW3CustomControl.getWidth
   ,getWidth$v:TW3CustomControl.getWidth$v
   ,getHeight:TW3CustomControl.getHeight
   ,getHeight$v:TW3CustomControl.getHeight$v
   ,setLeft:TW3CustomControl.setLeft
   ,setLeft$v:TW3CustomControl.setLeft$v
   ,setTop:TW3CustomControl.setTop
   ,setTop$v:TW3CustomControl.setTop$v
   ,setWidth$v:function(Self){return Self.ClassType.setWidth.apply(Self.ClassType, arguments)}
   ,setHeight$v:function(Self){return Self.ClassType.setHeight.apply(Self.ClassType, arguments)}
   ,Moved:TW3CustomControl.Moved
   ,Moved$v:TW3CustomControl.Moved$v
   ,Resize$v:function(Self){return Self.ClassType.Resize(Self)}
   ,Invalidate$v:function(Self){return Self.ClassType.Invalidate(Self)}
   ,Paint$v:function(Self){return Self.ClassType.Paint(Self)}
};
TW3GraphicControl.$Intf={
   IW3CustomControl:[TW3CustomControl.setWasMoved,TW3CustomControl.setWasSized]
};
var TW3ControlFont={
   $ClassName:"TW3ControlFont",
   $Parent:TW3CustomFont,
   $Init:function (Self) {
      TW3CustomFont.$Init(Self);
      Self.FOwner=null;
   }
   ,getTagRef:function(Self) {
      var Result=null;
      Result=Self.FOwner.FTagObj;
      return Result
   }
   ,Create$1:function(Self, AOwner) {
      TObject.Create(Self);
      if ((AOwner!==null)) {
         Self.FOwner=AOwner;
      } else {
         throw Exception.Create$1($New(Exception),Format("Method %s in class %s threw exception [%s]",["Create",TObject.ClassName(Self.ClassType),"Owner was NIL error"]));
      };
      return Self
   }
   ,Destroy:TObject.Destroy
   ,Destroy$v:TObject.Destroy$v
   ,getTagRef$v:function(Self){return Self.ClassType.getTagRef(Self)}
   ,Create$1$v:function(Self){return Self.ClassType.Create$1.apply(Self.ClassType, arguments)}
};
var TW3ControlBackground={
   $ClassName:"TW3ControlBackground",
   $Parent:TW3OwnedObject,
   $Init:function (Self) {
      TW3OwnedObject.$Init(Self);
   }
   ,AcceptParent:function(Self, aObject) {
      var Result=false;
      Result=(aObject!==null)&&$Is(aObject,TW3CustomControl);
      return Result
   }
   ,fromColor:function(Self, aValue) {
      var mRef$3=null;
      mRef$3=$As(Self.FOwner,TW3CustomControl).FTagObj;
      w3_setStyle(mRef$3,"background-color",ColorToWebStr(aValue));
   }
   ,fromURL:function(Self, aURL) {
      var mRef$3=null;
      var mText="";
      mRef$3=$As(Self.FOwner,TW3CustomControl).FTagObj;
      w3_setStyle(mRef$3,"background-image",w3_NameToUrlStr(aURL));
      w3_setStyle(mRef$3,"-webkit-background-size","auto auto");
   }
   ,fromImageData:function(Self, aImgStr) {
      var mRef$3=null;
      mRef$3=$As(Self.FOwner,TW3CustomControl).FTagObj;
      w3_setStyle(mRef$3,"background-image",aImgStr);
      w3_setStyle(mRef$3,"-webkit-background-size","auto auto");
   }
   ,toColor:function(Self) {
      var Result=0;
      var mRef$3=null;
      mRef$3=$As(Self.FOwner,TW3CustomControl).FTagObj;
      Result=strToColor(w3_getStyleAsStr(mRef$3,"background-color"));
      return Result
   }
   ,toURL:function(Self) {
      var Result="";
      var mRef$3=null;
      mRef$3=$As(Self.FOwner,TW3CustomControl).FTagObj;
      Result=w3_getStyleAsStr(mRef$3,"background-image");
      return Result
   }
   ,Destroy:TObject.Destroy
   ,Destroy$v:TObject.Destroy$v
   ,AcceptParent$v:function(Self){return Self.ClassType.AcceptParent.apply(Self.ClassType, arguments)}
   ,Create$1:TW3OwnedObject.Create$1
   ,Create$1$v:TW3OwnedObject.Create$1$v
};
/* TMouseButton*/
mbLeft=0;
mbMiddle=1;
mbRight=2;
var TDocumentBody={
   $ClassName:"TDocumentBody",
   $Parent:TW3Component,
   $Init:function (Self) {
      TW3Component.$Init(Self);
      Self.FOnReSize=null;
   }
   ,CBResize:function(Self) {
      if ((Self.FOnReSize!==null)) {
         Self.FOnReSize(Self);
      };
   }
   ,getClientHeight:function(Self) {
      var Result=0;
      Result=w3_getStyleAsInt(w3_getBody(),"height");
      return Result
   }
   ,getClientLeft:function(Self) {
      var Result=0;
      Result=0;
      return Result
   }
   ,getClientRect:function(Self) {
      var Result={left:0,top$1:0,right:0,bottom:0};
      Result.left=0;
      Result.top$1=0;
      Result.right=w3_getStyleAsInt(w3_getBody(),"width")-1;
      Result.right=w3_getStyleAsInt(w3_getBody(),"height")-1;
      return Result
   }
   ,getClientTop:function(Self) {
      var Result=0;
      Result=0;
      return Result
   }
   ,getClientWidth:function(Self) {
      var Result=0;
      Result=w3_getStyleAsInt(w3_getBody(),"width");
      return Result
   }
   ,getHeight:function(Self) {
      var Result=0;
      
    Result = parseInt( window.innerHeight );
  return Result
   }
   ,getWidth:function(Self) {
      var Result=0;
      
    Result = parseInt( window.innerWidth );
  return Result
   }
   ,makeElementTagId:function(Self) {
      var Result="";
      Result="";
      return Result
   }
   ,makeElementTagObj:function(Self) {
      var Result=null;
      Result=w3_getBody();
      return Result
   }
   ,StyleTagObject:function(Self) {
   }
   ,_setOnResize:function(Self, aValue) {
      var mRef$3=null;
      switch ((aValue!==null)) {
         case true :
            mRef$3=$Event(Self,TDocumentBody.CBResize);
            break;
         case false :
            mRef$3=$Event(Self,Self.ClassType.CBNoBehavior$v);
            break;
      };
      w3_bind2(Self.FTagObj,"onresize",mRef$3);
      Self.FOnReSize=aValue;
   }
   ,Destroy:TW3TagObj.Destroy
   ,Destroy$v:TW3TagObj.Destroy$v
   ,makeElementTagId$v:function(Self){return Self.ClassType.makeElementTagId(Self)}
   ,makeElementTagObj$v:function(Self){return Self.ClassType.makeElementTagObj(Self)}
   ,StyleTagObject$v:function(Self){return Self.ClassType.StyleTagObject(Self)}
   ,InitializeObject:TW3Component.InitializeObject
   ,InitializeObject$v:TW3Component.InitializeObject$v
   ,FinalizeObject:TW3Component.FinalizeObject
   ,FinalizeObject$v:TW3Component.FinalizeObject$v
   ,UnHookEvents:TW3TagObj.UnHookEvents
   ,UnHookEvents$v:TW3TagObj.UnHookEvents$v
   ,Create$1:TW3TagObj.Create$1
   ,Create$1$v:TW3TagObj.Create$1$v
   ,AfterUpdate:TW3Component.AfterUpdate
   ,AfterUpdate$v:TW3Component.AfterUpdate$v
   ,CBNoBehavior:TW3Component.CBNoBehavior
   ,CBNoBehavior$v:TW3Component.CBNoBehavior$v
   ,EndUpdate:TW3Component.EndUpdate
   ,EndUpdate$v:TW3Component.EndUpdate$v
   ,Create$2:TW3Component.Create$2
   ,Create$2$v:TW3Component.Create$2$v
};
var EW3TagObj={
   $ClassName:"EW3TagObj",
   $Parent:EW3Exception,
   $Init:function (Self) {
      EW3Exception.$Init(Self);
   }
   ,Destroy:Exception.Destroy
   ,Destroy$v:Exception.Destroy$v
};
var EW3CustomControl={
   $ClassName:"EW3CustomControl",
   $Parent:EW3Exception,
   $Init:function (Self) {
      EW3Exception.$Init(Self);
   }
   ,Destroy:Exception.Destroy
   ,Destroy$v:Exception.Destroy$v
};
var TW3CSSClassStyleNames={
   $ClassName:"TW3CSSClassStyleNames",
   $Parent:TW3OwnedObject,
   $Init:function (Self) {
      TW3OwnedObject.$Init(Self);
      Self.FCache=[];
      Self.FCheck=0;
      Self.FOwner$1=null;
      Self.FToken="";
   }
   ,AcceptParent:function(Self, aObject) {
      var Result=false;
      Result=(aObject!==null)&&$Is(aObject,TW3CustomControl);
      return Result
   }
   ,Add:function(Self, aCSSClassName) {
      var Result=0;
      var mRef$3=null;
      mRef$3=$As(Self.FOwner,TW3TagObj).FTagObj;
      w3_AddClass(mRef$3,aCSSClassName);
      Self.FCache.push(aCSSClassName);
      return Result
   }
   ,CacheToTag:function(Self) {
      var mText="";
      var x$2=0;
      var mRef$3=null;
      if ((Self.FOwner!==null)) {
         var $tmp17;
         for(x$2=0,$tmp17=Self.FCache.length-1;x$2<=$tmp17;x$2++) {
            if (x$2<(Self.FCache.length-1)) {
               mText=mText+Self.FCache[x$2]+" ";
            } else {
               mText=mText+Self.FCache[x$2];
            };
         }
         mRef$3=$As(Self.FOwner,TW3TagObj).FTagObj;
         w3_setAttrib(mRef$3,Self.FToken,mText);
      } else {
         throw EW3Exception.CreateFmt($New(EW3CSSClassStyleNames),"Method %s in class %s threw exception [%s]",["CacheToTag",TObject.ClassName(Self.ClassType),"Owner tag-object is NIL error"]);
      };
   }
   ,Clear:function(Self) {
      Self.FCache.length=0;
      Self.FCheck=-1;
      if ((Self.FOwner!==null)) {
         w3_setAttrib($As(Self.FOwner,TW3TagObj).FTagObj,Self.FToken,"");
      } else {
         throw EW3Exception.CreateFmt($New(EW3CSSClassStyleNames),"Method %s in class %s threw exception [%s]",["Clear",TObject.ClassName(Self.ClassType),"Owner tag-object is NIL error"]);
      };
   }
   ,Create$1:function(Self, AOwner) {
      TW3OwnedObject.Create$1(Self,AOwner);
      Self.FToken="class";
      Self.FCache=$NewArray(0,function (){return ""});
      return Self
   }
   ,Destroy:function(Self) {
      Self.FCache.length=0;
      TObject.Destroy(Self);
   }
   ,getCount:function(Self) {
      var Result=0;
      TW3CSSClassStyleNames.UpdateCache(Self);
      Result=Self.FCache.length;
      return Result
   }
   ,getItem:function(Self, index) {
      var Result="";
      TW3CSSClassStyleNames.UpdateCache(Self);
      Result=Self.FCache[index];
      return Result
   }
   ,IndexOf:function(Self, aCSSClassName) {
      var Result=0;
      var x$2=0;
      Result=-1;
      if ((Self.FOwner!==null)) {
         aCSSClassName=LowerCase(Trim(aCSSClassName));
         if ((aCSSClassName).length>0) {
            var $tmp18;
            for(x$2=0,$tmp18=Self.FCache.length-1;x$2<=$tmp18;x$2++) {
               if (LowerCase(Self.FCache[x$2])==aCSSClassName) {
                  Result=x$2;
                  break;
               };
            }
         };
      } else {
         throw EW3Exception.CreateFmt($New(EW3CSSClassStyleNames),"Method %s in class %s threw exception [%s]",["IndexOf",TObject.ClassName(Self.ClassType),"Owner tag-object is NIL error"]);
      };
      return Result
   }
   ,ParseToCache:function(Self, aValue) {
      aValue={value:aValue};
      var xpos$1=0;
      var mTemp$3="";
      aValue.value=Trim(aValue.value);
      Self.FCheck=(aValue.value).length;
      if (Self.FCheck>0) {
         Self.FCache.length=0;
         xpos$1=Pos(" ",aValue.value);
         if (xpos$1>0) {
            while (xpos$1>0) {
               mTemp$3=Copy(aValue.value,1,xpos$1-1);
               Self.FCache.push(mTemp$3);
               Delete(aValue,1,xpos$1);
               xpos$1=Pos(" ",aValue.value);
            };
            if ((aValue.value).length>0) {
               Self.FCache.push(aValue.value);
            };
         } else {
            if ((aValue.value).length>0) {
               Self.FCache.push(aValue.value);
            };
         };
      };
   }
   ,Remove:function(Self, index) {
      var Result="";
      var mRef$3=null;
      mRef$3=$As(Self.FOwner,TW3TagObj).FTagObj;
      w3_RemoveClass(mRef$3,Self.FCache[index]);
      Self.FCache.splice(index,1);
      return Result
   }
   ,RemoveByName:function(Self, aCSSClassName) {
      var Result="";
      var mRef$3=null;
      var mIndex=0;
      mRef$3=$As(Self.FOwner,TW3TagObj).FTagObj;
      w3_RemoveClass(mRef$3,aCSSClassName);
      mIndex=TW3CSSClassStyleNames.IndexOf(Self,aCSSClassName);
      if (mIndex>=0) {
         Self.FCache.splice(mIndex,1);
      };
      Result=aCSSClassName;
      return Result
   }
   ,setItem:function(Self, index, aValue) {
      TW3CSSClassStyleNames.UpdateCache(Self);
      Self.FCache[index]=aValue;
      TW3CSSClassStyleNames.CacheToTag(Self);
   }
   ,toString:function(Self) {
      var Result="";
      var mText="";
      var x$2=0;
      if ((Self.FOwner!==null)) {
         TW3CSSClassStyleNames.UpdateCache(Self);
         var $tmp19;
         for(x$2=0,$tmp19=Self.FCache.length-1;x$2<=$tmp19;x$2++) {
            if (x$2<(Self.FCache.length-1)) {
               mText=mText+Self.FCache[x$2]+" ";
            } else {
               mText=mText+Self.FCache[x$2];
            };
         }
         Result=mText;
      } else {
         throw EW3Exception.CreateFmt($New(EW3CSSClassStyleNames),"Method %s in class %s threw exception [%s]",["toString",TObject.ClassName(Self.ClassType),"Owner tag-object is NIL error"]);
      };
      return Result
   }
   ,UpdateCache:function(Self) {
      var mRef$3=null;
      var mText="";
      if ((Self.FOwner!==null)) {
         mRef$3=$As(Self.FOwner,TW3TagObj).FTagObj;
         mText=w3_getAttribAsStr(mRef$3,Self.FToken);
         if ((mText).length!=Self.FCheck) {
            TW3CSSClassStyleNames.ParseToCache(Self,mText);
         };
      } else {
         throw EW3Exception.CreateFmt($New(EW3CSSClassStyleNames),"Method %s in class %s threw exception [%s]",["UpdateCache",TObject.ClassName(Self.ClassType),"Owner tag-object is NIL error"]);
      };
   }
   ,Destroy$v:function(Self){return Self.ClassType.Destroy(Self)}
   ,AcceptParent$v:function(Self){return Self.ClassType.AcceptParent.apply(Self.ClassType, arguments)}
   ,Create$1$v:function(Self){return Self.ClassType.Create$1.apply(Self.ClassType, arguments)}
};
var EW3CSSClassStyleNames={
   $ClassName:"EW3CSSClassStyleNames",
   $Parent:EW3Exception,
   $Init:function (Self) {
      EW3Exception.$Init(Self);
   }
   ,Destroy:Exception.Destroy
   ,Destroy$v:Exception.Destroy$v
};
var TW3TouchList={
   $ClassName:"TW3TouchList",
   $Parent:TObject,
   $Init:function (Self) {
      TObject.$Init(Self);
      Self.FObjects=null;
   }
   ,Clear:function(Self) {
      var x$2=0;
      var $tmp20;
      for(x$2=0,$tmp20=TObjectList.getCount(Self.FObjects)-1;x$2<=$tmp20;x$2++) {
         TObject.Free($As(TObjectList.getItem(Self.FObjects,x$2),TW3Touch));
      }
      TObjectList.Clear(Self.FObjects);
   }
   ,Consume:function(Self, refEntry, refObj) {
      var mCount=0;
      var mRef$3=null;
      var x$2=0;
      var mObj$1=null;
      TW3TouchList.Clear(Self);
      
    mCount = (refObj)[refEntry].length;
  if (mCount==TObjectList.getCount(Self.FObjects)) {
         var $tmp21;
         for(x$2=0,$tmp21=TObjectList.getCount(Self.FObjects)-1;x$2<=$tmp21;x$2++) {
            mObj$1=$As(TObjectList.getItem(Self.FObjects,x$2),TW3Touch);
            
        mRef$3 = (refObj)[refEntry][x$2];
      TW3Touch.Consume(mObj$1,mRef$3);
         }
      } else {
         var $tmp22;
         for(x$2=0,$tmp22=mCount-1;x$2<=$tmp22;x$2++) {
            
        mRef$3 = (refObj)[refEntry][x$2];
      mObj$1=TObject.Create($New(TW3Touch));
            TW3Touch.Consume(mObj$1,mRef$3);
            TObjectList.Add(Self.FObjects,mObj$1);
         }
      };
   }
   ,Create$1:function(Self) {
      TObject.Create(Self);
      Self.FObjects=TObjectList.Create$1$v($New(TObjectList));
      return Self
   }
   ,Destroy:function(Self) {
      TW3TouchList.Clear(Self);
      TObject.Free(Self.FObjects);
      TObject.Destroy(Self);
   }
   ,getCount:function(Self) {
      var Result=0;
      Result=TObjectList.getCount(Self.FObjects);
      return Result
   }
   ,getItem:function(Self, index) {
      var Result=null;
      Result=$As(TObjectList.getItem(Self.FObjects,index),TW3Touch);
      return Result
   }
   ,Destroy$v:function(Self){return Self.ClassType.Destroy(Self)}
   ,Create$1$v:function(Self){return Self.ClassType.Create$1(Self)}
};
var TW3TouchData={
   $ClassName:"TW3TouchData",
   $Parent:TObject,
   $Init:function (Self) {
      TObject.$Init(Self);
      Self.FChanged=null;
      Self.FTouches=null;
   }
   ,Destroy:function(Self) {
      if ((Self.FTouches!==null)) {
         TObject.Free(Self.FTouches);
      };
      if ((Self.FChanged!==null)) {
         TObject.Free(Self.FChanged);
      };
      TObject.Destroy(Self);
   }
   ,getChanged:function(Self) {
      var Result=null;
      if (!(Self.FChanged!==null)) {
         Self.FChanged=TW3TouchList.Create$1$v($New(TW3TouchList));
         TW3TouchList.Consume(Self.FChanged,"changedTouches",w3_event());
      };
      Result=Self.FChanged;
      return Result
   }
   ,getTouches:function(Self) {
      var Result=null;
      if (!(Self.FTouches!==null)) {
         Self.FTouches=TW3TouchList.Create$1$v($New(TW3TouchList));
         TW3TouchList.Consume(Self.FTouches,"touches",w3_event());
      };
      Result=Self.FTouches;
      return Result
   }
   ,Update:function(Self) {
      if ((Self.FTouches!==null)) {
         TW3TouchList.Consume(Self.FTouches,"touches",w3_event());
      };
      if ((Self.FChanged!==null)) {
         TW3TouchList.Consume(Self.FTouches,"changedTouches",w3_event());
      };
   }
   ,Destroy$v:function(Self){return Self.ClassType.Destroy(Self)}
};
var TW3Touch={
   $ClassName:"TW3Touch",
   $Parent:TObject,
   $Init:function (Self) {
      TObject.$Init(Self);
      Self.FClientX=0;
      Self.FClientY=0;
      Self.FIdent="";
      Self.FPageX=0;
      Self.FPageY=0;
      Self.FScreenX=0;
      Self.FScreenY=0;
      Self.FTarget=null;
   }
   ,Consume:function(Self, refObj) {
      
    (Self.FScreenX) = (refObj).screenX;
    (Self.FScreenY) = (refObj).screenY;
    (Self.FClientX) = (refObj).clientX;
    (Self.FClientY) = (refObj).clientY;
    (Self.FPageX)   = (refObj).pageX;
    (Self.FPageY)   = (refObj).pageY;
    (Self.FIdent)   = (refObj).identifier;
    (Self.FTarget)  = (refObj).target;
     }
   ,toString:function(Self) {
      var Result="";
      Result="ScreenX = "+IntToStr(Self.FScreenX)+"\r"+"ScreenY = "+IntToStr(Self.FScreenY)+"\r"+"ClientX = "+IntToStr(Self.FClientX)+"\r"+"ClientY = "+IntToStr(Self.FClientY)+"\r"+"PageX = "+IntToStr(Self.FPageX)+"\r"+"PageY = "+IntToStr(Self.FPageY)+"\r"+"Identifier = "+Self.FIdent+"\r";
      return Result
   }
   ,Destroy:TObject.Destroy
   ,Destroy$v:TObject.Destroy$v
   ,toString$v:function(Self){return Self.ClassType.toString(Self)}
};
var TW3Borders={
   $ClassName:"TW3Borders",
   $Parent:TW3OwnedObject,
   $Init:function (Self) {
      TW3OwnedObject.$Init(Self);
      Self.FBottom=null;
      Self.FLeft=null;
      Self.FRight=null;
      Self.FTop=null;
   }
   ,AcceptParent:function(Self, aObject) {
      var Result=false;
      Result=$Is(aObject,TW3CustomControl);
      return Result
   }
   ,AdjustRect:function(Self, aRect) {
      var Result={left:0,top$1:0,right:0,bottom:0};
      Result.left=aRect.left+TW3Border.getSize(Self.FLeft)+TW3Border.getPadding(Self.FLeft);
      Result.top$1=aRect.top$1+TW3Border.getSize(Self.FTop)+TW3Border.getPadding(Self.FTop);
      Result.right=aRect.right-(TW3Border.getSize(Self.FRight)+TW3Border.getPadding(Self.FRight));
      Result.bottom=aRect.bottom-(TW3Border.getSize(Self.FBottom)+TW3Border.getPadding(Self.FBottom));
      return Result
   }
   ,Create$1:function(Self, AOwner) {
      TW3OwnedObject.Create$1(Self,AOwner);
      Self.FLeft=TW3Border.Create$1($New(TW3Border),Self,0);
      Self.FTop=TW3Border.Create$1($New(TW3Border),Self,1);
      Self.FRight=TW3Border.Create$1($New(TW3Border),Self,2);
      Self.FBottom=TW3Border.Create$1($New(TW3Border),Self,3);
      return Self
   }
   ,Destroy:function(Self) {
      TObject.Free(Self.FLeft);
      TObject.Free(Self.FTop);
      TObject.Free(Self.FRight);
      TObject.Free(Self.FBottom);
      TObject.Destroy(Self);
   }
   ,getEdge:function(Self, aKind) {
      var Result=null;
      switch (aKind) {
         case 0 :
            Result=Self.FLeft;
            break;
         case 1 :
            Result=Self.FTop;
            break;
         case 2 :
            Result=Self.FRight;
            break;
         case 3 :
            Result=Self.FBottom;
            break;
      };
      return Result
   }
   ,getHSpace:function(Self) {
      var Result=0;
      Result=TW3Border.getSize(Self.FLeft)+TW3Border.getPadding(Self.FLeft)+TW3Border.getSize(Self.FRight)+TW3Border.getPadding(Self.FRight);
      return Result
   }
   ,getVSpace:function(Self) {
      var Result=0;
      Result=TW3Border.getSize(Self.FTop)+TW3Border.getPadding(Self.FTop)+TW3Border.getSize(Self.FBottom)+TW3Border.getPadding(Self.FBottom);
      return Result
   }
   ,toString:function(Self) {
      var Result="";
      var mText="";
      mText="Borders:|"+TW3Border.toString(Self.FLeft)+"|"+TW3Border.toString(Self.FTop)+"|"+TW3Border.toString(Self.FRight)+"|"+TW3Border.toString(Self.FBottom);
      Result=w3_StringReplace(mText,"|","\r");
      return Result
   }
   ,Destroy$v:function(Self){return Self.ClassType.Destroy(Self)}
   ,AcceptParent$v:function(Self){return Self.ClassType.AcceptParent.apply(Self.ClassType, arguments)}
   ,Create$1$v:function(Self){return Self.ClassType.Create$1.apply(Self.ClassType, arguments)}
};
/* TW3BorderEdgeStyle*/
besNone=0;
besSolid=1;
besDotted=2;
besDouble=3;
besGroove=4;
besInset=5;
besOutset=6;
/* TW3BorderEdge*/
beLeft=0;
beTop=1;
beRight=2;
beBottom=3;
var TW3Border={
   $ClassName:"TW3Border",
   $Parent:TObject,
   $Init:function (Self) {
      TObject.$Init(Self);
      Self.FEdge=0;
      Self.FEdgeName="";
      Self.FOwner=null;
   }
   ,Create$1:function(Self, AOwner, AEdge) {
      TObject.Create(Self);
      Self.FOwner=AOwner;
      Self.FEdge=Self.FEdge;
      switch (AEdge) {
         case 0 :
            Self.FEdgeName="left";
            break;
         case 1 :
            Self.FEdgeName="top";
            break;
         case 2 :
            Self.FEdgeName="right";
            break;
         case 3 :
            Self.FEdgeName="bottom";
            break;
      };
      return Self
   }
   ,EdgeStyleString:function(Self, aValue) {
      var Result="";
      switch (aValue) {
         case 1 :
            Result="solid";
            break;
         case 2 :
            Result="dotted";
            break;
         case 3 :
            Result="double";
            break;
         case 4 :
            Result="groove";
            break;
         case 5 :
            Result="inset";
            break;
         case 6 :
            Result="outset";
            break;
         default :
            Result="none";
      };
      return Result
   }
   ,getColor:function(Self) {
      var Result=0;
      var mRef$3=null;
      var mKey="";
      var mText="";
      Result=0;
      mRef$3=$As(Self.FOwner.FOwner,TW3CustomControl).FTagObj;
      if ((mRef$3!==null)) {
         mKey="border-"+Self.FEdgeName+"-color";
         mText=w3_getStyleAsStr(mRef$3,mKey);
         Result=strToColor(mText);
      };
      return Result
   }
   ,getPadding:function(Self) {
      var Result=0;
      var mRef$3=null;
      var mKey="";
      Result=0;
      mRef$3=$As(Self.FOwner.FOwner,TW3CustomControl).FTagObj;
      if ((mRef$3!==null)) {
         mKey="padding-"+Self.FEdgeName;
         Result=w3_getStyleAsInt(mRef$3,mKey);
      };
      return Result
   }
   ,getSize:function(Self) {
      var Result=0;
      var mRef$3=null;
      var mKey="";
      Result=0;
      mRef$3=$As(Self.FOwner.FOwner,TW3CustomControl).FTagObj;
      if ((mRef$3!==null)) {
         mKey="border-"+Self.FEdgeName+"-width";
         Result=w3_getStyleAsInt(mRef$3,mKey);
      };
      return Result
   }
   ,getStyle:function(Self) {
      var Result=0;
      var mRef$3=null;
      var mKey="";
      var mValue$2="";
      Result=0;
      mRef$3=$As(Self.FOwner.FOwner,TW3CustomControl).FTagObj;
      if ((mRef$3!==null)) {
         mKey="border-"+Self.FEdgeName+"-style";
         mValue$2=w3_getStyleAsStr(mRef$3,mKey);
         mValue$2=Trim(LowerCase(mValue$2));
         if (mValue$2=="solid") {
            Result=1;
         } else {
            if (mValue$2=="dotted") {
               Result=2;
            } else {
               if (mValue$2=="double") {
                  Result=3;
               } else {
                  if (mValue$2=="groove") {
                     Result=4;
                  } else {
                     if (mValue$2=="inset") {
                        Result=5;
                     } else {
                        if (mValue$2=="outset") {
                           Result=6;
                        };
                     };
                  };
               };
            };
         };
      };
      return Result
   }
   ,setColor:function(Self, aValue) {
      var mRef$3=null;
      var mKey="";
      mRef$3=$As(Self.FOwner.FOwner,TW3CustomControl).FTagObj;
      if ((mRef$3!==null)) {
         mKey="border-"+Self.FEdgeName+"-color";
         w3_setStyle(mRef$3,mKey,ColorToStr(aValue));
      };
   }
   ,setPadding:function(Self, aValue) {
      var mRef$3=null;
      var mKey="";
      mRef$3=$As(Self.FOwner.FOwner,TW3CustomControl).FTagObj;
      if ((mRef$3!==null)) {
         mKey="padding-"+Self.FEdgeName;
         w3_setStyle(mRef$3,mKey,w3_intToPxStr(aValue));
      };
   }
   ,setSize:function(Self, aValue) {
      var mRef$3=null;
      var mKey="";
      mRef$3=$As(Self.FOwner.FOwner,TW3CustomControl).FTagObj;
      if ((mRef$3!==null)) {
         mKey="border-"+Self.FEdgeName+"-width";
         w3_setStyle(mRef$3,mKey,w3_intToPxStr(aValue));
      };
   }
   ,setStyle:function(Self, aValue) {
      var mRef$3=null;
      var mKey="";
      mRef$3=$As(Self.FOwner.FOwner,TW3CustomControl).FTagObj;
      if ((mRef$3!==null)) {
         mKey="border-"+Self.FEdgeName+"-style";
         w3_setStyle(mRef$3,mKey,TW3Border.EdgeStyleString(Self,aValue));
      };
   }
   ,toString:function(Self) {
      var Result="";
      var mText="";
      mText=Self.FEdgeName+" = {|"+"Size: "+IntToStr(TW3Border.getSize(Self))+"|"+"Style: "+TW3Border.EdgeStyleString(Self,TW3Border.getStyle(Self))+"|"+"Color: "+ColorToStr(TW3Border.getColor(Self))+"|"+"}";
      Result=w3_StringReplace(mText,"|","\r");
      return Result
   }
   ,Destroy:TObject.Destroy
   ,Destroy$v:TObject.Destroy$v
};
var TW3CustomAnimation={
   $ClassName:"TW3CustomAnimation",
   $Parent:TObject,
   $Init:function (Self) {
      TObject.$Init(Self);
      Self.FBusy=false;
      Self.FDuration=0.0;
      Self.FInEvName="";
      Self.FInEvnCB=null;
      Self.FInTagRef=null;
      Self.FOnBegins=null;
      Self.FOnEnds=null;
      Self.FTarget=null;
   }
   ,CBBegins:function(Self) {
      if ((Self.FOnBegins!==null)) {
         Self.FOnBegins(Self);
      };
   }
   ,CBEnds:function(Self) {
      TW3CustomAnimation.FinalizeTransition$v(Self);
      if ((Self.FOnEnds!==null)) {
         Self.FOnEnds(Self);
      };
   }
   ,Create$1:function(Self) {
      TObject.Create(Self);
      Self.FDuration=2;
      return Self
   }
   ,Destroy:function(Self) {
      if (Self.FBusy&&(Self.FTarget!==null)) {
         try {
            TW3CustomAnimation.FinalizeTransition$v(Self);
         } catch ($e) {
            if ($Is($e,Exception)) {
               var e=$e;
               /* null */
            }
            else throw $e
         }
      };
      TObject.Destroy(Self);
   }
   ,Execute:function(Self, TargetObj) {
      if ((TargetObj!==null)) {
         if (!Self.FBusy) {
            Self.FTarget=TargetObj;
            TW3CustomAnimation.SetupTransition$v(Self);
         } else {
            throw Exception.Create$1($New(Exception),"Transition is already in progress error");
         };
      } else {
         throw Exception.Create$1($New(Exception),"Target-object was NIL error");
      };
   }
   ,ExecuteEx:function(Self, TargetObj, BeginHandler, EndHandler) {
      if ((TargetObj!==null)) {
         if (!Self.FBusy) {
            Self.FTarget=TargetObj;
            Self.FOnBegins=BeginHandler;
            Self.FOnEnds=EndHandler;
            TW3CustomAnimation.SetupTransition$v(Self);
         } else {
            throw Exception.Create$1($New(Exception),"Transition is already in progress error");
         };
      } else {
         throw Exception.Create$1($New(Exception),"Target-object was NIL error");
      };
   }
   ,FinalizeTransition:function(Self) {
      var mCallBack=null;
      mCallBack=$Event(Self,TW3CustomAnimation.CBEnds);
      w3_RemoveEvent(Self.FInTagRef,Self.FInEvName,Self.FInEvnCB);
      Self.FBusy=false;
   }
   ,setDuration:function(Self, Value) {
      if (!Self.FBusy) {
         Self.FDuration=Value;
      } else {
         throw Exception.Create$1($New(Exception),"Duration cannot be altered while the transition is active error");
      };
   }
   ,SetupTransition:function(Self) {
      var mCallBack=null;
      Self.FBusy=true;
      mCallBack=$Event(Self,TW3CustomAnimation.CBEnds);
      Self.FInTagRef=Self.FTarget.FTagObj;
      Self.FInEvName="webkitAnimationEnd";
      Self.FInEvnCB=$Event(Self,TW3CustomAnimation.CBEnds);
      w3_AddEvent(Self.FInTagRef,Self.FInEvName,Self.FInEvnCB);
      TW3CustomAnimation.CBBegins(Self);
   }
   ,Destroy$v:function(Self){return Self.ClassType.Destroy(Self)}
   ,SetupTransition$v:function(Self){return Self.ClassType.SetupTransition(Self)}
   ,FinalizeTransition$v:function(Self){return Self.ClassType.FinalizeTransition(Self)}
   ,Create$1$v:function(Self){return Self.ClassType.Create$1(Self)}
};
var TW3RotateTransition={
   $ClassName:"TW3RotateTransition",
   $Parent:TW3CustomAnimation,
   $Init:function (Self) {
      TW3CustomAnimation.$Init(Self);
      Self.FDegree=0.0;
   }
   ,setDegree:function(Self, Value) {
      if (!Self.FBusy) {
         Self.FDegree=Value;
      } else {
         throw Exception.Create$1($New(Exception),"Degree cannot be altered while the transition is active error");
      };
   }
   ,SetupTransition:function(Self) {
      TW3CustomAnimation.SetupTransition(Self);
      w3_setStyle(Self.FTarget.FTagObj,"-webkit-animation-fill-mode","both");
      w3_setStyle(Self.FTarget.FTagObj,"-webkit-animation","ROTATE-FOREVER "+FloatToStr(Self.FDuration,99)+"s");
   }
   ,FinalizeTransition:function(Self) {
      var mRef$3=null;
      mRef$3=Self.FTarget.FTagObj;
      
    (mRef$3).style.removeProperty("-webkit-animation");
    (mRef$3).style.removeProperty("-webkit-animation-fill-mode");
  TW3CustomAnimation.FinalizeTransition(Self);
   }
   ,Create$1:function(Self) {
      TW3CustomAnimation.Create$1(Self);
      Self.FDegree=30;
      return Self
   }
   ,Destroy:TW3CustomAnimation.Destroy
   ,Destroy$v:TW3CustomAnimation.Destroy$v
   ,SetupTransition$v:function(Self){return Self.ClassType.SetupTransition(Self)}
   ,FinalizeTransition$v:function(Self){return Self.ClassType.FinalizeTransition(Self)}
   ,Create$1$v:function(Self){return Self.ClassType.Create$1(Self)}
};
var TW3NamedAnimation={
   $ClassName:"TW3NamedAnimation",
   $Parent:TW3CustomAnimation,
   $Init:function (Self) {
      TW3CustomAnimation.$Init(Self);
      Self.FName="";
   }
   ,SetupTransition:function(Self) {
      var mCommand="";
      TW3CustomAnimation.SetupTransition(Self);
      w3_setStyle(Self.FTarget.FTagObj,"-webkit-animation-fill-mode","both");
      mCommand=Self.FName+" "+FloatToStr(Self.FDuration,99)+"s linear";
      w3_setStyle(Self.FTarget.FTagObj,"-webkit-animation",mCommand);
   }
   ,FinalizeTransition:function(Self) {
      var mRef$3=null;
      mRef$3=Self.FTarget.FTagObj;
      
    (mRef$3).style.removeProperty("-webkit-animation");
    (mRef$3).style.removeProperty("-webkit-animation-fill-mode");
  TW3CustomAnimation.FinalizeTransition(Self);
   }
   ,ExecuteNamed:function(Self, TargetObj, aAnimName) {
      Self.FName=aAnimName;
      TW3CustomAnimation.Execute(Self,TargetObj);
   }
   ,Destroy:TW3CustomAnimation.Destroy
   ,Destroy$v:TW3CustomAnimation.Destroy$v
   ,SetupTransition$v:function(Self){return Self.ClassType.SetupTransition(Self)}
   ,FinalizeTransition$v:function(Self){return Self.ClassType.FinalizeTransition(Self)}
   ,Create$1:TW3CustomAnimation.Create$1
   ,Create$1$v:TW3CustomAnimation.Create$1$v
};
var TW3HTMLStyleElement={
   $ClassName:"TW3HTMLStyleElement",
   $Parent:TObject,
   $Init:function (Self) {
      TObject.$Init(Self);
      Self.FObjects=null;
      Self.FTagRef=null;
   }
   ,addRule:function(Self, Rule) {
      var Result=null;
      Result=TW3CSSStyleRule.Create$1$v($New(TW3CSSStyleRule),Self);
      TObjectList.Add(Self.FObjects,Result);
      TW3CSSStyleRule.AllocRule(Result,Rule);
      return Result
   }
   ,Clear:function(Self) {
      var x$2=0;
      var $tmp23;
      for(x$2=0,$tmp23=TObjectList.getCount(Self.FObjects)-1;x$2<=$tmp23;x$2++) {
         TObject.Free($As(TObjectList.getItem(Self.FObjects,x$2),TW3CSSStyleRule));
      }
      TObjectList.Clear(Self.FObjects);
   }
   ,Create$1:function(Self) {
      var mText="";
      TObject.Create(Self);
      try {
         Self.FTagRef=w3_createElement("style");
      } catch ($e) {
         if ($Is($e,Exception)) {
            var e=$e;
            throw EW3Exception.CreateFmt($New(EW3HTMLStyleElement),"Method %s in class %s threw exception [%s]",["Constructor",TObject.ClassName(Self.ClassType),"failed to create internal tag-object"]);
         }
         else throw $e
      }
      try {
         w3_setElementParentByRef(Self.FTagRef,w3_getBody());
      } catch ($e) {
         if ($Is($e,Exception)) {
            var e=$e;
            throw EW3Exception.CreateFmt($New(EW3HTMLStyleElement),"Method %s in class %s threw exception [%s]",["Constructor",TObject.ClassName(Self.ClassType),"Failed to attach element to owner"]);
         }
         else throw $e
      }
      Self.FObjects=TObjectList.Create$1$v($New(TObjectList));
      return Self
   }
   ,Destroy:function(Self) {
      TW3HTMLStyleElement.Clear(Self);
      if ((Self.FTagRef!==null)) {
         try {
            w3_RemoveElementByRef(Self.FTagRef,w3_getBody());
         } catch ($e) {
            if ($Is($e,Exception)) {
               var e=$e;
               throw EW3Exception.CreateFmt($New(EW3HTMLStyleElement),"Method %s in class %s threw exception [%s]",["Destroy",TObject.ClassName(Self.ClassType),"Failed to detach element from parent"]);
            }
            else throw $e
         }
      };
      Self.FTagRef=null;
      TObject.Free(Self.FObjects);
      TObject.Destroy(Self);
   }
   ,getCount:function(Self) {
      var Result=0;
      Result=TObjectList.getCount(Self.FObjects);
      return Result
   }
   ,getCSSMedia:function(Self) {
      var Result=0;
      var mRef$3=null;
      var mText="";
      mRef$3=Self.FTagRef;
      
    mText = parseString( (mRef$3).media );
  if (mText=="tty") {
         Result=2;
      } else {
         if (mText=="tv") {
            Result=3;
         } else {
            if (mText=="projection") {
               Result=4;
            } else {
               if (mText=="handheld") {
                  Result=5;
               } else {
                  if (mText=="print") {
                     Result=6;
                  } else {
                     if (mText=="braille") {
                        Result=7;
                     } else {
                        if (mText=="aural") {
                           Result=8;
                        } else {
                           if (mText=="all") {
                              Result=9;
                           } else {
                              Result=0;
                           };
                        };
                     };
                  };
               };
            };
         };
      };
      return Result
   }
   ,getCSSType:function(Self) {
      var Result="";
      var mRef$3=null;
      mRef$3=Self.FTagRef;
      
    Result = (mRef$3).type;
  return Result
   }
   ,getItem:function(Self, index) {
      var Result=null;
      Result=$As(TObjectList.getItem(Self.FObjects,index),TW3CSSStyleRule);
      return Result
   }
   ,setCSSMedia:function(Self, aValue) {
      var mRef$3=null;
      var mText="";
      switch (aValue) {
         case 1 :
            mText="screen";
            break;
         case 2 :
            mText="tty";
            break;
         case 3 :
            mText="tv";
            break;
         case 4 :
            mText="projection";
            break;
         case 5 :
            mText="handheld";
            break;
         case 6 :
            mText="print";
            break;
         case 7 :
            mText="braille";
            break;
         case 8 :
            mText="aural";
            break;
         case 9 :
            mText="all";
            break;
         default :
            mText="";
      };
      mRef$3=Self.FTagRef;
      
    (mRef$3).media = mText;
     }
   ,toString:function(Self) {
      var Result="";
      var mRef$3=null;
      var mObj$1=null;
      var x$2=0;
      var mText="";
      mRef$3=Self.FTagRef;
      var $tmp24;
      for(x$2=0,$tmp24=TObjectList.getCount(Self.FObjects)-1;x$2<=$tmp24;x$2++) {
         mObj$1=$As(TObjectList.getItem(Self.FObjects,x$2),TW3CSSStyleRule).FRuleRef;
         
      mText += (mObj$1).cssText + "\n";
          }
      Result=mText;
      return Result
   }
   ,Destroy$v:function(Self){return Self.ClassType.Destroy(Self)}
   ,Create$1$v:function(Self){return Self.ClassType.Create$1(Self)}
};
var TW3CSSStyleRule={
   $ClassName:"TW3CSSStyleRule",
   $Parent:TObject,
   $Init:function (Self) {
      TObject.$Init(Self);
      Self.FOwner=null;
      Self.FRuleIndex=0;
      Self.FRuleRef=null;
   }
   ,AllocRule:function(Self, Rule) {
      var mRef$3=null;
      var mObj$1=null;
      var mIndex=0;
      if ((Rule).length>0) {
         mRef$3=Self.FOwner.FTagRef;
         
      mIndex=mRef.sheet.insertRule(Rule,0);
      mObj$1=(mRef$3).sheet.cssRules[mIndex];
    Self.FRuleRef=mObj$1;
      } else {
         throw EW3Exception.CreateFmt($New(EW3CSSStyleRule),"Method %s in class %s threw exception [%s]",["AllocRule",TObject.ClassName(Self.ClassType),"Rule string is empty error"]);
      };
   }
   ,Create$1:function(Self, AOwner) {
      TObject.Create(Self);
      if ((AOwner!==null)) {
         Self.FOwner=AOwner;
      } else {
         throw EW3Exception.CreateFmt($New(EW3CSSStyleRule),"Method %s in class %s threw exception [%s]",["Constructor",TObject.ClassName(Self.ClassType),"Owner reference was NIL error"]);
      };
      return Self
   }
   ,Destroy:function(Self) {
      TW3CSSStyleRule.ReleaseRule(Self);
      TObject.Destroy(Self);
   }
   ,getJSIndexOfRule:function(Self) {
      var Result=0;
      var mRef$3=null;
      var mObj$1=null;
      Result=-1;
      mRef$3=Self.FOwner.FTagRef;
      mObj$1=Self.FRuleRef;
      
    if (true) {
      for (var x=0; x < (mRef).sheet.cssRules.length;x++)
      {
        if ((mRef).sheet.cssRules[x] === mObj) {
          Result=x;
          break;
        }
      }
    }
  return Result
   }
   ,getSelector:function(Self) {
      var Result="";
      var mRef$3=null;
      mRef$3=Self.FRuleRef;
      
    Result = (mRef$3).selectorText;
  return Result
   }
   ,getStyleText:function(Self) {
      var Result="";
      var mRef$3=null;
      mRef$3=Self.FRuleRef;
      
    Result = (mRef$3).cssText;
  return Result
   }
   ,ReleaseRule:function(Self) {
      var mRef$3=null;
      var mIndex=0;
      mRef$3=Self.FOwner.FTagRef;
      mIndex=TW3CSSStyleRule.getJSIndexOfRule(Self);
      if (mIndex>=0) {
         
      (mRef$3).sheet.removeRule(mIndex);
          } else {
         throw EW3Exception.CreateFmt($New(EW3CSSStyleRule),"Method %s in class %s threw exception [%s]",["ReleaseRule",TObject.ClassName(Self.ClassType),"Failed to obtain rule object-index error"]);
      };
   }
   ,Destroy$v:function(Self){return Self.ClassType.Destroy(Self)}
   ,Create$1$v:function(Self){return Self.ClassType.Create$1.apply(Self.ClassType, arguments)}
};
/* TW3CSSStyleElementMedia*/
semUnknown=0;
semScreen=1;
semTTY=2;
semTV=3;
semProjection=4;
semHandHeld=5;
semPrint=6;
semBraille=7;
semAural=8;
semAll=9;
var EW3HTMLStyleElement={
   $ClassName:"EW3HTMLStyleElement",
   $Parent:EW3Exception,
   $Init:function (Self) {
      EW3Exception.$Init(Self);
   }
   ,Destroy:Exception.Destroy
   ,Destroy$v:Exception.Destroy$v
};
var EW3CSSStyleRule={
   $ClassName:"EW3CSSStyleRule",
   $Parent:EW3Exception,
   $Init:function (Self) {
      EW3Exception.$Init(Self);
   }
   ,Destroy:Exception.Destroy
   ,Destroy$v:Exception.Destroy$v
};
var TW3CustomRepeater={
   $ClassName:"TW3CustomRepeater",
   $Parent:TObject,
   $Init:function (Self) {
      TObject.$Init(Self);
      Self.FDelay=0;
      Self.FHandle=0;
   }
   ,AllocTimer:function(Self) {
      var mRef$3=null;
      var mWait=0;
      if (Self.FHandle!=0) {
         TW3CustomRepeater.ReleaseTimer(Self);
      };
      try {
         mRef$3=$Event(Self,TW3CustomRepeater.CBHandleCallBack);
         mWait=Self.FDelay;
         
      Self.FHandle = setInterval(mRef$3,mWait);
          } catch ($e) {
         if ($Is($e,Exception)) {
            var e=$e;
            throw Exception.Create$1($New(EW3CustomRepeater),Format("Method %s in class %s threw exception [%s]",["AllocTimer",TObject.ClassName(Self.ClassType),e.FMessage]));
         }
         else throw $e
      }
   }
   ,CBHandleCallBack:function(Self) {
      TW3CustomRepeater.CBExecute$v(Self);
   }
   ,Destroy:function(Self) {
      if (Self.FHandle!=0) {
         TW3CustomRepeater.ReleaseTimer(Self);
      };
      TObject.Destroy(Self);
   }
   ,getActive:function(Self) {
      var Result=false;
      Result=Self.FHandle!=0;
      return Result
   }
   ,ReleaseTimer:function(Self) {
      if (Self.FHandle!=0) {
         try {
            try {
               
          clearInterval(Self.FHandle);
                    } catch ($e) {
               if ($Is($e,Exception)) {
                  var e=$e;
                  throw Exception.Create$1($New(EW3CustomRepeater),Format("Method %s in class %s threw exception [%s]",["ReleaseTimer",TObject.ClassName(Self.ClassType),e.FMessage]));
               }
               else throw $e
            }
         } finally {
            Self.FHandle=0;
         };
      };
   }
   ,setDelay:function(Self, aValue) {
      Self.FDelay=w3_EnsureRange(aValue,1,2147483647);
      if (Self.FHandle!=0) {
         TW3CustomRepeater.ReleaseTimer(Self);
         TW3CustomRepeater.AllocTimer(Self);
      };
   }
   ,setHandle:function(Self, aValue) {
      Self.FHandle=aValue;
   }
   ,Destroy$v:function(Self){return Self.ClassType.Destroy(Self)}
   ,CBExecute$v:function(Self){return Self.ClassType.CBExecute(Self)}
};
var TW3EventRepeater={
   $ClassName:"TW3EventRepeater",
   $Parent:TW3CustomRepeater,
   $Init:function (Self) {
      TW3CustomRepeater.$Init(Self);
      Self.FCallBack=null;
   }
   ,setCallBack:function(Self, aValue) {
      Self.FCallBack=aValue;
   }
   ,CBExecute:function(Self) {
      try {
         if (Self.FCallBack(Self)) {
            TW3CustomRepeater.ReleaseTimer(Self);
         };
      } catch ($e) {
         if ($Is($e,Exception)) {
            var e=$e;
            throw Exception.Create$1($New(EW3EventRepeater),Format("Method %s in class %s threw exception [%s]",["CBExecute",TObject.ClassName(Self.ClassType),e.FMessage]));
         }
         else throw $e
      }
   }
   ,Create$1:function(Self, aCallBack, aDelay) {
      TObject.Create(Self);
      Self.FCallBack=aCallBack;
      TW3CustomRepeater.setDelay(Self,aDelay);
      if ((aCallBack!==null)&&(aDelay>0)) {
         TW3CustomRepeater.AllocTimer(Self);
      };
      return Self
   }
   ,Destroy:TW3CustomRepeater.Destroy
   ,Destroy$v:TW3CustomRepeater.Destroy$v
   ,CBExecute$v:function(Self){return Self.ClassType.CBExecute(Self)}
   ,Create$1$v:function(Self){return Self.ClassType.Create$1.apply(Self.ClassType, arguments)}
};
var EW3EventRepeater={
   $ClassName:"EW3EventRepeater",
   $Parent:EW3Exception,
   $Init:function (Self) {
      EW3Exception.$Init(Self);
   }
   ,Destroy:Exception.Destroy
   ,Destroy$v:Exception.Destroy$v
};
var EW3CustomRepeater={
   $ClassName:"EW3CustomRepeater",
   $Parent:EW3Exception,
   $Init:function (Self) {
      EW3Exception.$Init(Self);
   }
   ,Destroy:Exception.Destroy
   ,Destroy$v:Exception.Destroy$v
};
var TApplication={
   $ClassName:"TApplication",
   $Parent:TW3CustomApplication,
   $Init:function (Self) {
      TW3CustomApplication.$Init(Self);
   }
   ,ApplicationStarting:function(Self) {
      var mForm=null;
      mForm=TForm1.Create$2$v($New(TForm1),Self.FDisplay.FView);
      TW3Component.setName(mForm,"Form1");
      TW3CustomApplication.RegisterFormInstance(Self,mForm,true);
      TW3CustomApplication.ApplicationStarting(Self);
   }
   ,Destroy:TW3CustomApplication.Destroy
   ,Destroy$v:TW3CustomApplication.Destroy$v
   ,CMOnUnLoad:TW3CustomApplication.CMOnUnLoad
   ,CMOnUnLoad$v:TW3CustomApplication.CMOnUnLoad$v
   ,CMOnReSize:TW3CustomApplication.CMOnReSize
   ,CMOnReSize$v:TW3CustomApplication.CMOnReSize$v
   ,CMOnOrientationChange:TW3CustomApplication.CMOnOrientationChange
   ,CMOnOrientationChange$v:TW3CustomApplication.CMOnOrientationChange$v
   ,HookWindowEvents:TW3CustomApplication.HookWindowEvents
   ,HookWindowEvents$v:TW3CustomApplication.HookWindowEvents$v
   ,ApplicationStarting$v:function(Self){return Self.ClassType.ApplicationStarting(Self)}
   ,ApplicationClosing:TW3CustomApplication.ApplicationClosing
   ,ApplicationClosing$v:TW3CustomApplication.ApplicationClosing$v
   ,ApplicationStarted:TW3CustomApplication.ApplicationStarted
   ,ApplicationStarted$v:TW3CustomApplication.ApplicationStarted$v
   ,Create$1:TW3CustomApplication.Create$1
   ,Create$1$v:TW3CustomApplication.Create$1$v
};
var TForm1={
   $ClassName:"TForm1",
   $Parent:TW3Form,
   $Init:function (Self) {
      TW3Form.$Init(Self);
      Self.FBackBtn=null;
      Self.FEdit1=null;
      Self.FEdit2=null;
      Self.FEdit3=null;
   }
   ,ButtonClicked:function(Self, Sender) {
      var s1="";
      var s2="";
      var s3="";
      s1=TW3EditBox.getText(Self.FEdit1);
      s2=TW3EditBox.getText(Self.FEdit2);
      
  var service = new NewService("http://localhost:8099/JSON");
//  service.Sum((@Self.FEdit1).value,
//              (@Self.FEdit2).value,
  service.Sum(s1,
              s2,
              function(sumresult)
              {
//                @s3 = sumresult;
                 TW3EditBox.setText(Self.FEdit3,sumresult);
              });
//  service.Sum(1, 2, function(result) {
//                      alert(result);


//  service.NewMethod(function(result) {
//                      alert(result.NewField + " " + result.NewField1);
//                    });
     }
   ,FinalizeObject:function(Self) {
      TW3CustomControl.FinalizeObject(Self);
   }
   ,InitializeObject:function(Self) {
      TW3CustomControl.InitializeObject(Self);
      Self.FEdit1=TW3EditBox.Create$2$v($New(TW3EditBox),Self);
      TW3CustomControl.setBounds(Self.FEdit1,10,10,100,32);
      TW3EditBox.setText(Self.FEdit1,"2");
      Self.FEdit2=TW3EditBox.Create$2$v($New(TW3EditBox),Self);
      TW3CustomControl.setBounds(Self.FEdit2,10,50,100,32);
      TW3EditBox.setText(Self.FEdit2,"3");
      Self.FBackBtn=TW3Button.Create$2$v($New(TW3Button),Self);
      TW3CustomControl.setBounds(Self.FBackBtn,10,95,100,32);
      TW3Button.setCaption(Self.FBackBtn,"Sum");
      TW3CustomControl.setVisible(Self.FBackBtn,true);
      TW3CustomControl._setMouseClick(Self.FBackBtn,$Event(Self,TForm1.ButtonClicked));
      Self.FEdit3=TW3EditBox.Create$2$v($New(TW3EditBox),Self);
      TW3CustomControl.setBounds(Self.FEdit3,10,140,100,32);
      TW3EditBox.setText(Self.FEdit3,"");
   }
   ,StyleTagObject:function(Self) {
      TW3CustomForm.StyleTagObject(Self);
      TW3CustomControl.setStyleClass(Self,"TW3CustomForm");
   }
   ,Destroy:TW3TagObj.Destroy
   ,Destroy$v:TW3TagObj.Destroy$v
   ,makeElementTagId:TW3TagObj.makeElementTagId
   ,makeElementTagId$v:TW3TagObj.makeElementTagId$v
   ,makeElementTagObj:TW3TagObj.makeElementTagObj
   ,makeElementTagObj$v:TW3TagObj.makeElementTagObj$v
   ,StyleTagObject$v:function(Self){return Self.ClassType.StyleTagObject(Self)}
   ,InitializeObject$v:function(Self){return Self.ClassType.InitializeObject(Self)}
   ,FinalizeObject$v:function(Self){return Self.ClassType.FinalizeObject(Self)}
   ,UnHookEvents:TW3TagObj.UnHookEvents
   ,UnHookEvents$v:TW3TagObj.UnHookEvents$v
   ,Create$1:TW3TagObj.Create$1
   ,Create$1$v:TW3TagObj.Create$1$v
   ,AfterUpdate:TW3CustomControl.AfterUpdate
   ,AfterUpdate$v:TW3CustomControl.AfterUpdate$v
   ,CBNoBehavior:TW3Component.CBNoBehavior
   ,CBNoBehavior$v:TW3Component.CBNoBehavior$v
   ,EndUpdate:TW3Component.EndUpdate
   ,EndUpdate$v:TW3Component.EndUpdate$v
   ,Create$2:TW3Component.Create$2
   ,Create$2$v:TW3Component.Create$2$v
   ,CMTouchBegins:TW3CustomControl.CMTouchBegins
   ,CMTouchBegins$v:TW3CustomControl.CMTouchBegins$v
   ,CMTouchMove:TW3CustomControl.CMTouchMove
   ,CMTouchMove$v:TW3CustomControl.CMTouchMove$v
   ,CMTouchEnds:TW3CustomControl.CMTouchEnds
   ,CMTouchEnds$v:TW3CustomControl.CMTouchEnds$v
   ,CBMouseDown:TW3CustomControl.CBMouseDown
   ,CBMouseDown$v:TW3CustomControl.CBMouseDown$v
   ,CBMouseUp:TW3CustomControl.CBMouseUp
   ,CBMouseUp$v:TW3CustomControl.CBMouseUp$v
   ,CBMouseMove:TW3CustomControl.CBMouseMove
   ,CBMouseMove$v:TW3CustomControl.CBMouseMove$v
   ,CBMouseOver:TW3CustomControl.CBMouseOver
   ,CBMouseOver$v:TW3CustomControl.CBMouseOver$v
   ,CBMouseOut:TW3CustomControl.CBMouseOut
   ,CBMouseOut$v:TW3CustomControl.CBMouseOut$v
   ,CBClick:TW3CustomControl.CBClick
   ,CBClick$v:TW3CustomControl.CBClick$v
   ,CBDblClick:TW3CustomControl.CBDblClick
   ,CBDblClick$v:TW3CustomControl.CBDblClick$v
   ,CBKeyPress:TW3CustomControl.CBKeyPress
   ,CBKeyPress$v:TW3CustomControl.CBKeyPress$v
   ,CBKeyDown:TW3CustomControl.CBKeyDown
   ,CBKeyDown$v:TW3CustomControl.CBKeyDown$v
   ,CBKeyUp:TW3CustomControl.CBKeyUp
   ,CBKeyUp$v:TW3CustomControl.CBKeyUp$v
   ,CBAnimationBegins:TW3CustomControl.CBAnimationBegins
   ,CBAnimationBegins$v:TW3CustomControl.CBAnimationBegins$v
   ,CBAnimationEnds:TW3CustomControl.CBAnimationEnds
   ,CBAnimationEnds$v:TW3CustomControl.CBAnimationEnds$v
   ,CBChanged:TW3CustomControl.CBChanged
   ,CBChanged$v:TW3CustomControl.CBChanged$v
   ,CBFocused:TW3CustomControl.CBFocused
   ,CBFocused$v:TW3CustomControl.CBFocused$v
   ,CBLostFocus:TW3CustomControl.CBLostFocus
   ,CBLostFocus$v:TW3CustomControl.CBLostFocus$v
   ,getWidth:TW3CustomControl.getWidth
   ,getWidth$v:TW3CustomControl.getWidth$v
   ,getHeight:TW3CustomControl.getHeight
   ,getHeight$v:TW3CustomControl.getHeight$v
   ,setLeft:TW3CustomControl.setLeft
   ,setLeft$v:TW3CustomControl.setLeft$v
   ,setTop:TW3CustomControl.setTop
   ,setTop$v:TW3CustomControl.setTop$v
   ,setWidth:TW3CustomControl.setWidth
   ,setWidth$v:TW3CustomControl.setWidth$v
   ,setHeight:TW3CustomControl.setHeight
   ,setHeight$v:TW3CustomControl.setHeight$v
   ,Moved:TW3CustomControl.Moved
   ,Moved$v:TW3CustomControl.Moved$v
   ,Resize:TW3CustomControl.Resize
   ,Resize$v:TW3CustomControl.Resize$v
   ,Invalidate:TW3CustomControl.Invalidate
   ,Invalidate$v:TW3CustomControl.Invalidate$v
   ,FormActivated:TW3CustomForm.FormActivated
   ,FormActivated$v:TW3CustomForm.FormActivated$v
   ,FormDeActivated:TW3CustomForm.FormDeActivated
   ,FormDeActivated$v:TW3CustomForm.FormDeActivated$v
};
TForm1.$Intf={
   IW3CustomControl:[TW3CustomControl.setWasMoved,TW3CustomControl.setWasSized]
};
var TW3HeaderControl={
   $ClassName:"TW3HeaderControl",
   $Parent:TW3CustomControl,
   $Init:function (Self) {
      TW3CustomControl.$Init(Self);
      Self.FBackBtn=null;
      Self.FLabel=null;
      Self.FNextBtn=null;
      Self.FSpacing=0;
   }
   ,FinalizeObject:function(Self) {
      TObject.Free(Self.FLabel);
      TObject.Free(Self.FBackBtn);
      TObject.Free(Self.FNextBtn);
      TW3CustomControl.FinalizeObject(Self);
   }
   ,InitializeObject:function(Self) {
      TW3CustomControl.InitializeObject(Self);
      Self.FSpacing=4;
      Self.FLabel=TW3Label.Create$2$v($New(TW3Label),Self);
      TW3CustomFont.setName(TW3CustomControl.getFont(Self.FLabel),"verdana");
      TW3CustomFont.setColor(TW3CustomControl.getFont(Self.FLabel),RGBToColor(255,255,255));
      TW3CustomFont.setWeight(TW3CustomControl.getFont(Self.FLabel),"bold");
      TW3CustomFont.setSize(TW3CustomControl.getFont(Self.FLabel),18);
      TW3Label.setText(Self.FLabel,TObject.ClassName(Self.ClassType));
      TW3Label.setTextAlign(Self.FLabel,0);
      Self.FBackBtn=TW3ToolButton.Create$2$v($New(TW3ToolButton),Self);
      TW3ToolButton.setCaption(Self.FBackBtn,"Back");
      TW3CustomControl.setVisible(Self.FBackBtn,true);
      Self.FNextBtn=TW3ToolButton.Create$2$v($New(TW3ToolButton),Self);
      TW3ToolButton.setCaption(Self.FNextBtn,"Next");
      TW3CustomControl.setVisible(Self.FNextBtn,false);
   }
   ,Resize:function(Self) {
      var wd=0;
      var hd=0;
      var mTemp$3={};mTemp$3.value=0;
      var dx={};dx.value=0;
      var dy=0;
      wd=TW3HeaderControl.getWidth$v(Self);
      hd=TW3HeaderControl.getHeight$v(Self);
      dx.value=Self.FSpacing;
      mTemp$3.value=wd;
      (mTemp$3.value-=(Self.FSpacing*2));
      dy=Math.floor(hd/2)-Math.floor(TW3ToolButton.getHeight$v(Self.FBackBtn)/2);
      TW3CustomControl.moveTo$1(Self.FBackBtn,Self.FSpacing,dy);
      dy=Math.floor(hd/2)-Math.floor(TW3ToolButton.getHeight$v(Self.FNextBtn)/2);
      TW3CustomControl.moveTo$1(Self.FNextBtn,wd-(Self.FSpacing+TW3ToolButton.getWidth$v(Self.FNextBtn)),dy);
      if (TW3CustomControl.getVisible(Self.FBackBtn)==true) {
         (dx.value+=TW3ToolButton.getWidth$v(Self.FBackBtn));
         (dx.value+=Self.FSpacing);
         (mTemp$3.value-=TW3ToolButton.getWidth$v(Self.FBackBtn));
         (mTemp$3.value-=Self.FSpacing);
      };
      TW3CustomControl.moveTo$1(Self.FLabel,dx.value,Self.FSpacing);
      if (TW3CustomControl.getVisible(Self.FNextBtn)) {
         (mTemp$3.value-=TW3ToolButton.getWidth$v(Self.FNextBtn));
         (mTemp$3.value-=Self.FSpacing);
         (mTemp$3.value-=Self.FSpacing);
      };
      TW3CustomControl.setBounds(Self.FLabel,TW3CustomControl.getLeft(Self.FLabel),TW3CustomControl.getTop(Self.FLabel),mTemp$3.value,hd-(Self.FSpacing*2));
   }
   ,StyleTagObject:function(Self) {
      TW3CustomControl.StyleTagObject(Self);
      TW3CustomControl.setStyleClass(Self,"TW3Header");
   }
   ,Destroy:TW3TagObj.Destroy
   ,Destroy$v:TW3TagObj.Destroy$v
   ,makeElementTagId:TW3TagObj.makeElementTagId
   ,makeElementTagId$v:TW3TagObj.makeElementTagId$v
   ,makeElementTagObj:TW3TagObj.makeElementTagObj
   ,makeElementTagObj$v:TW3TagObj.makeElementTagObj$v
   ,StyleTagObject$v:function(Self){return Self.ClassType.StyleTagObject(Self)}
   ,InitializeObject$v:function(Self){return Self.ClassType.InitializeObject(Self)}
   ,FinalizeObject$v:function(Self){return Self.ClassType.FinalizeObject(Self)}
   ,UnHookEvents:TW3TagObj.UnHookEvents
   ,UnHookEvents$v:TW3TagObj.UnHookEvents$v
   ,Create$1:TW3TagObj.Create$1
   ,Create$1$v:TW3TagObj.Create$1$v
   ,AfterUpdate:TW3CustomControl.AfterUpdate
   ,AfterUpdate$v:TW3CustomControl.AfterUpdate$v
   ,CBNoBehavior:TW3Component.CBNoBehavior
   ,CBNoBehavior$v:TW3Component.CBNoBehavior$v
   ,EndUpdate:TW3Component.EndUpdate
   ,EndUpdate$v:TW3Component.EndUpdate$v
   ,Create$2:TW3Component.Create$2
   ,Create$2$v:TW3Component.Create$2$v
   ,CMTouchBegins:TW3CustomControl.CMTouchBegins
   ,CMTouchBegins$v:TW3CustomControl.CMTouchBegins$v
   ,CMTouchMove:TW3CustomControl.CMTouchMove
   ,CMTouchMove$v:TW3CustomControl.CMTouchMove$v
   ,CMTouchEnds:TW3CustomControl.CMTouchEnds
   ,CMTouchEnds$v:TW3CustomControl.CMTouchEnds$v
   ,CBMouseDown:TW3CustomControl.CBMouseDown
   ,CBMouseDown$v:TW3CustomControl.CBMouseDown$v
   ,CBMouseUp:TW3CustomControl.CBMouseUp
   ,CBMouseUp$v:TW3CustomControl.CBMouseUp$v
   ,CBMouseMove:TW3CustomControl.CBMouseMove
   ,CBMouseMove$v:TW3CustomControl.CBMouseMove$v
   ,CBMouseOver:TW3CustomControl.CBMouseOver
   ,CBMouseOver$v:TW3CustomControl.CBMouseOver$v
   ,CBMouseOut:TW3CustomControl.CBMouseOut
   ,CBMouseOut$v:TW3CustomControl.CBMouseOut$v
   ,CBClick:TW3CustomControl.CBClick
   ,CBClick$v:TW3CustomControl.CBClick$v
   ,CBDblClick:TW3CustomControl.CBDblClick
   ,CBDblClick$v:TW3CustomControl.CBDblClick$v
   ,CBKeyPress:TW3CustomControl.CBKeyPress
   ,CBKeyPress$v:TW3CustomControl.CBKeyPress$v
   ,CBKeyDown:TW3CustomControl.CBKeyDown
   ,CBKeyDown$v:TW3CustomControl.CBKeyDown$v
   ,CBKeyUp:TW3CustomControl.CBKeyUp
   ,CBKeyUp$v:TW3CustomControl.CBKeyUp$v
   ,CBAnimationBegins:TW3CustomControl.CBAnimationBegins
   ,CBAnimationBegins$v:TW3CustomControl.CBAnimationBegins$v
   ,CBAnimationEnds:TW3CustomControl.CBAnimationEnds
   ,CBAnimationEnds$v:TW3CustomControl.CBAnimationEnds$v
   ,CBChanged:TW3CustomControl.CBChanged
   ,CBChanged$v:TW3CustomControl.CBChanged$v
   ,CBFocused:TW3CustomControl.CBFocused
   ,CBFocused$v:TW3CustomControl.CBFocused$v
   ,CBLostFocus:TW3CustomControl.CBLostFocus
   ,CBLostFocus$v:TW3CustomControl.CBLostFocus$v
   ,getWidth:TW3CustomControl.getWidth
   ,getWidth$v:TW3CustomControl.getWidth$v
   ,getHeight:TW3CustomControl.getHeight
   ,getHeight$v:TW3CustomControl.getHeight$v
   ,setLeft:TW3CustomControl.setLeft
   ,setLeft$v:TW3CustomControl.setLeft$v
   ,setTop:TW3CustomControl.setTop
   ,setTop$v:TW3CustomControl.setTop$v
   ,setWidth:TW3CustomControl.setWidth
   ,setWidth$v:TW3CustomControl.setWidth$v
   ,setHeight:TW3CustomControl.setHeight
   ,setHeight$v:TW3CustomControl.setHeight$v
   ,Moved:TW3CustomControl.Moved
   ,Moved$v:TW3CustomControl.Moved$v
   ,Resize$v:function(Self){return Self.ClassType.Resize(Self)}
   ,Invalidate:TW3CustomControl.Invalidate
   ,Invalidate$v:TW3CustomControl.Invalidate$v
};
TW3HeaderControl.$Intf={
   IW3CustomControl:[TW3CustomControl.setWasMoved,TW3CustomControl.setWasSized]
};
var _FApplication=null;
var $SmartTest=function() {
   _FApplication=TApplication.Create$1$v($New(TApplication));
   
window.appRef = _FApplication;
try {
      TW3CustomApplication.RunApp(_FApplication);
   } catch ($e) {
      if ($Is($e,Exception)) {
         var e=$e;
         WriteLn(e.FMessage);
      }
      else throw $e
   }
};
$SmartTest();


      };
      myApp();
    }
  </script>
</head>

<body></body>



</html>
